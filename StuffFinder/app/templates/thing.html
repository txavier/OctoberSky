<section class="content-section video-section">
    <div class="jumbotron pattern-overlay">
        <a id="bgndVideo" class="player" data-property="{videoURL:'https://www.youtube.com/watch?v=TDM18lJ18VA',startAt:5,quality:'hd1080',containment:'.video-section', quality:'large', autoPlay:true, mute:true, opacity:1}">bg</a>
        <div class="container">
            <div class="page-header text-center hidden-xs">
                <h1><i class="glyphicon glyphicon-heart-empty red"></i>myFindr</h1>
            </div>
            <div class="page-header text-center visible-xs">
                <h1><i class="glyphicon glyphicon-heart-empty red"></i>myFindr</h1>
            </div>
        </div>
    </div>
</section>
<div class="well">
    <form class="form-horizontal" role="form">
        <div class="form-group">
            <div class="fb-like" data-share="true" data-width="450" data-show-faces="true"></div>
            <h3><b>{{ vm.thing.name }}</b></h3>
            <a class="btn btn-info btn-group" href="#/found-it/{{ vm.thing.thingId }}" role="button">I found it</a>
            <a class="btn btn-info btn-group" data-ng-click="vm.me2(vm.thing.thingId)" role="button">I want it {{ vm.thing.me2 > 0 ? '| ' + vm.thing.me2 : '' }}</a>
        </div>
        <div class="form-group" style="padding:14px;">
            <div class="carouselView" style="height: 305px">
                <carousel interval="vm.slideInterval">
                    <slide ng-repeat="slide in vm.slides" active="slide.active">
                        <img ng-src="{{slide.image}}" style="margin:auto; max-height: 300px;border-radius: 4px">
                        <div class="carousel-caption">
                            <!--<h4>Slide {{$index}}</h4>
                            <p>{{slide.text}}</p>-->
                        </div>
                    </slide>
                </carousel>
            </div>
        </div>
        <div class="form-group" style="padding:14px;">
            <div class="row" ng-show="(vm.thing.userName)">
                <hr />
                <div class="col-lg-2">
                    <b>Posted by</b>
                </div>
                <div class="col-lg-6">
                    {{ vm.thing.userName }}
                </div>
                <div>
                    <a class="btn btn-default" href="#/thing/edit/{{ vm.thing.thingId }}" data-ng-show="vm.thing.userName == authService.authentication.userName">Edit this posting</a>
                </div>
            </div>
            <div class="row" ng-show="(vm.thing.description)">
                <hr />
                <div class="col-lg-2">
                    <b>Description</b>
                </div>
                <div class="col-lg-6">
                    {{ vm.thing.description }}
                </div>
            </div>
            <div class="row" ng-show="(vm.thing.category)">
                <hr />
                <div class="col-lg-2">
                    <b>Category</b>
                </div>
                <div class="col-lg-6">
                    {{ vm.thing.category.name }}
                </div>
            </div>
            <div class="row" ng-show="(vm.thing.thingCities.length > 0)" data-ng-repeat="thingCity in vm.thing.thingCities">
                <hr />
                <div class="col-lg-2">
                    <b>City this item is wanted</b>
                </div>
                <div class="col-lg-6">
                    {{ thingCity.city.name }}
                </div>
            </div>
            <div class="row" ng-show="(vm.thing.postedDate)">
                <hr />
                <div class="col-lg-2">
                    <b>Posted on</b>
                </div>
                <div class="col-lg-6">
                    {{ vm.thing.postedDate | date:'mediumDate' }}
                </div>
            </div>
            <div class="row" ng-show="(vm.thing.findings && vm.thing.findings.length > 0)">
                <hr />
                <div class="col-lg-2">
                    <b>Places found</b>
                </div>
                <div class="col-lg-6">
                    {{ vm.thing.findings.length }}
                </div>
            </div>
        </div>
        <div class="form-group well" style="padding:14px;" ng-repeat="finding in vm.thing.findings">
            <div class="col-md-2 votecell">
                <div class="vote">
                    <a class="vote-up-off" title="I found this here also!" ng-click="vm.upVote(finding)">up vote</a>
                    <span itemprop="upvoteCount" class="vote-count-post ">{{ vm.sumVotes(finding.votes) }}</span>
                    <a class="vote-down-off" title="Went there and this was no where to be found" ng-click="vm.downVote(finding)">down vote</a>
                </div>
            </div>
            <h4><b>Found!</b></h4>
            <div class="row" ng-show="(finding.location.formattedAddress)">
                <hr />
                <div class="col-lg-2">
                    <b>Found at</b>
                </div>
                <div class="col-lg-6">
                    {{ finding.location.locationName }} {{ finding.location.formattedAddress }} ({{ finding.location.longitude }}, {{ finding.location.latitude }})
                </div>
                <div>
                    <a class="btn btn-default" href="#/finding/edit/{{ finding.findingId }}" data-ng-show="finding.userName == authService.authentication.userName">Edit this find</a>
                </div>
            </div>
            <div class="row" style="padding:14px;">
                <div id="map_canvas">
                    <ui-gmap-google-map center="{ latitude: finding.location.latitude, longitude: finding.location.longitude }" zoom="vm.map.zoom" draggable="true" options="vm.options">
                        <ui-gmap-marker coords="{ latitude: finding.location.latitude, longitude: finding.location.longitude }" options="marker.options" events="marker.events" idkey="marker.id">
                        </ui-gmap-marker>
                    </ui-gmap-google-map>
                    <div ng-cloak ng-hide="true">
                        <ul>
                            <li>coords update ctr: {{coordsUpdates}}</li>
                            <li>dynamic move ctr: {{dynamicMoveCtr}}</li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="row" ng-show="(finding.userName)">
                <hr />
                <div class="col-lg-2">
                    <b>Found by</b>
                </div>
                <div class="col-lg-6">
                    {{ finding.userName }}
                </div>
            </div>
            <div class="row" ng-show="(finding.date)">
                <hr />
                <div class="col-lg-2">
                    <b>Found on</b>
                </div>
                <div class="col-lg-6">
                    {{ finding.date | date:'mediumDate'}}
                </div>
            </div>
            <div class="row" ng-show="(finding.price)">
                <hr />
                <div class="col-lg-2">
                    <b>Price</b>
                </div>
                <div class="col-lg-6">
                    {{ finding.price | currency }}
                </div>
            </div>
            <div class="row" ng-show="(finding.upcCode)">
                <hr />
                <div class="col-lg-2">
                    <b>UPC Code</b>
                </div>
                <div class="col-lg-6">
                    {{ finding.upcCode }}
                </div>
            </div>
        </div>
        <div class="form-group">
            <p>
                <!--http://stackoverflow.com/questions/23516305/facebook-comment-plugin-angularjs-->
                <div class="fb-comments" width="100%" dyn-fb-comment-box page-href="#/thing/{{ vm.thing.thingId}}" data-numposts="5" data-colorscheme="light"></div>
            </p>
            <ul class="list-inline pull-right">
                <li>
                    <button class="btn btn-primary pull-right" type="button" ng-click="vm.addOrUpdateThing()" data-ng-show="vm.thing.userName == authService.authentication.userName">Save</button>
                </li>
                <li>
                    <button class="btn btn-primary pull-right" type="button" ng-click="vm.deleteThing()" data-ng-show="vm.thing.userName == authService.authentication.userName">Delete</button>
                </li>
                <li>
                    <back-button inner-class="btn btn-primary pull-right"></back-button>
                </li>
            </ul>
        </div>
        <!--<ul class="list-inline"><li><a href=""><i class="glyphicon glyphicon-upload"></i></a></li><li><a href=""><i class="glyphicon glyphicon-camera"></i></a></li><li><a href=""><i class="glyphicon glyphicon-map-marker"></i></a></li></ul>-->
    </form>
</div>