{"version":3,"names":[],"mappings":"","sources":["associateController.js"],"sourcesContent":["'use strict';\r\napp.controller('associateController', ['$scope', '$location','$timeout','authService', function ($scope, $location,$timeout, authService) {\r\n\r\n    $scope.savedSuccessfully = false;\r\n    $scope.message = \"\";\r\n\r\n    $scope.registerData = {\r\n        userName: authService.externalAuthData.userName,\r\n        provider: authService.externalAuthData.provider,\r\n        externalAccessToken: authService.externalAuthData.externalAccessToken\r\n    };\r\n\r\n    $scope.registerExternal = function () {\r\n\r\n        authService.registerExternal($scope.registerData).then(function (response) {\r\n\r\n            $scope.savedSuccessfully = true;\r\n            $scope.message = \"User has been registered successfully, you will be redicted to start page in 2 seconds.\";\r\n            startTimer();\r\n\r\n        },\r\n          function (response) {\r\n              var errors = [];\r\n              for (var key in response.modelState) {\r\n                  errors.push(response.modelState[key]);\r\n              }\r\n              $scope.message = \"Failed to register user due to:\" + errors.join(' ');\r\n          });\r\n    };\r\n\r\n    var startTimer = function () {\r\n        var timer = $timeout(function () {\r\n            $timeout.cancel(timer);\r\n            $location.path('/start');\r\n        }, 2000);\r\n    }\r\n\r\n}]);"],"file":"associateController.js","sourceRoot":"/source/"}