{"version":3,"sources":["angular.min.js","angular-resource.min.js","angular-route.min.js","angular-local-storage.min.js","angular-animate.min.js","angular-sanitize.min.js","ui-bootstrap.min.js","ui-bootstrap-tpls.min.js","lodash.min.js","angular-google-maps.min.js","loading-bar.min.js","ng-droplet.min.js","progressbar.min.js","nya-bs-select.min.js","ng-infinite-scroll.min.js","textAngular-rangy.min.js","textAngular-sanitize.min.js","textAngular.min.js","stuffFinder-module.js","authInterceptorService.js","authService.js","tokensManagerService.js","loginController.js","associateController.js","refreshController.js","tokensManagerController.js","signupController.js","dataService.js","thingsService.js","votesService.js","me2Service.js","homeController.js","thingsController.js","startController.js","foundItController.js","sidebarController.js","whereIsItController.js","thingController.js","jumbotronYoutubeVideoSettingsController.js","searchController.js","editThingController.js","editFindingController.js","foundThingAndLocationController.js","feedbackController.js","userProfileController.js","dynFbCommentBox.js","shared-directives.js","back-button.js","ng-enter.js","ngToast.min.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3PA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACbA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACfA;AACA;AACA;AACA;AACA;AACA;AACA;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACvDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACVA;AACA;AACA;AACA;AACA;AACA;AACA;ACNA;ACAA;AACA;ACDA;AACA;AACA;AACA;AACA;AACA;ACLA;AACA;ACDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxBA;AACA;AACA;AACA;AACA;AACA;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC/XA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC9KA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC9BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC1EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AClBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC1BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACr9CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC5BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC/GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7LA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC/BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC9BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACzBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjBA;AACA;AACA;AACA;AACA;AACA","file":"angular-bundle.min.js","sourcesContent":["/*\n AngularJS v1.3.15\n (c) 2010-2014 Google, Inc. http://angularjs.org\n License: MIT\n*/\n(function(Q,W,t){'use strict';function R(b){return function(){var a=arguments[0],c;c=\"[\"+(b?b+\":\":\"\")+a+\"] http://errors.angularjs.org/1.3.15/\"+(b?b+\"/\":\"\")+a;for(a=1;a<arguments.length;a++){c=c+(1==a?\"?\":\"&\")+\"p\"+(a-1)+\"=\";var d=encodeURIComponent,e;e=arguments[a];e=\"function\"==typeof e?e.toString().replace(/ \\{[\\s\\S]*$/,\"\"):\"undefined\"==typeof e?\"undefined\":\"string\"!=typeof e?JSON.stringify(e):e;c+=d(e)}return Error(c)}}function Sa(b){if(null==b||Ta(b))return!1;var a=b.length;return b.nodeType===\nqa&&a?!0:C(b)||H(b)||0===a||\"number\"===typeof a&&0<a&&a-1 in b}function r(b,a,c){var d,e;if(b)if(G(b))for(d in b)\"prototype\"==d||\"length\"==d||\"name\"==d||b.hasOwnProperty&&!b.hasOwnProperty(d)||a.call(c,b[d],d,b);else if(H(b)||Sa(b)){var f=\"object\"!==typeof b;d=0;for(e=b.length;d<e;d++)(f||d in b)&&a.call(c,b[d],d,b)}else if(b.forEach&&b.forEach!==r)b.forEach(a,c,b);else for(d in b)b.hasOwnProperty(d)&&a.call(c,b[d],d,b);return b}function Ed(b,a,c){for(var d=Object.keys(b).sort(),e=0;e<d.length;e++)a.call(c,\nb[d[e]],d[e]);return d}function mc(b){return function(a,c){b(c,a)}}function Fd(){return++ob}function nc(b,a){a?b.$$hashKey=a:delete b.$$hashKey}function w(b){for(var a=b.$$hashKey,c=1,d=arguments.length;c<d;c++){var e=arguments[c];if(e)for(var f=Object.keys(e),g=0,h=f.length;g<h;g++){var l=f[g];b[l]=e[l]}}nc(b,a);return b}function aa(b){return parseInt(b,10)}function Ob(b,a){return w(Object.create(b),a)}function E(){}function ra(b){return b}function ea(b){return function(){return b}}function x(b){return\"undefined\"===\ntypeof b}function y(b){return\"undefined\"!==typeof b}function J(b){return null!==b&&\"object\"===typeof b}function C(b){return\"string\"===typeof b}function Y(b){return\"number\"===typeof b}function ga(b){return\"[object Date]\"===Ca.call(b)}function G(b){return\"function\"===typeof b}function Ua(b){return\"[object RegExp]\"===Ca.call(b)}function Ta(b){return b&&b.window===b}function Va(b){return b&&b.$evalAsync&&b.$watch}function Wa(b){return\"boolean\"===typeof b}function oc(b){return!(!b||!(b.nodeName||b.prop&&\nb.attr&&b.find))}function Gd(b){var a={};b=b.split(\",\");var c;for(c=0;c<b.length;c++)a[b[c]]=!0;return a}function va(b){return z(b.nodeName||b[0]&&b[0].nodeName)}function Xa(b,a){var c=b.indexOf(a);0<=c&&b.splice(c,1);return a}function Da(b,a,c,d){if(Ta(b)||Va(b))throw Ja(\"cpws\");if(a){if(b===a)throw Ja(\"cpi\");c=c||[];d=d||[];if(J(b)){var e=c.indexOf(b);if(-1!==e)return d[e];c.push(b);d.push(a)}if(H(b))for(var f=a.length=0;f<b.length;f++)e=Da(b[f],null,c,d),J(b[f])&&(c.push(b[f]),d.push(e)),a.push(e);\nelse{var g=a.$$hashKey;H(a)?a.length=0:r(a,function(b,c){delete a[c]});for(f in b)b.hasOwnProperty(f)&&(e=Da(b[f],null,c,d),J(b[f])&&(c.push(b[f]),d.push(e)),a[f]=e);nc(a,g)}}else if(a=b)H(b)?a=Da(b,[],c,d):ga(b)?a=new Date(b.getTime()):Ua(b)?(a=new RegExp(b.source,b.toString().match(/[^\\/]*$/)[0]),a.lastIndex=b.lastIndex):J(b)&&(e=Object.create(Object.getPrototypeOf(b)),a=Da(b,e,c,d));return a}function sa(b,a){if(H(b)){a=a||[];for(var c=0,d=b.length;c<d;c++)a[c]=b[c]}else if(J(b))for(c in a=a||{},\nb)if(\"$\"!==c.charAt(0)||\"$\"!==c.charAt(1))a[c]=b[c];return a||b}function ha(b,a){if(b===a)return!0;if(null===b||null===a)return!1;if(b!==b&&a!==a)return!0;var c=typeof b,d;if(c==typeof a&&\"object\"==c)if(H(b)){if(!H(a))return!1;if((c=b.length)==a.length){for(d=0;d<c;d++)if(!ha(b[d],a[d]))return!1;return!0}}else{if(ga(b))return ga(a)?ha(b.getTime(),a.getTime()):!1;if(Ua(b))return Ua(a)?b.toString()==a.toString():!1;if(Va(b)||Va(a)||Ta(b)||Ta(a)||H(a)||ga(a)||Ua(a))return!1;c={};for(d in b)if(\"$\"!==\nd.charAt(0)&&!G(b[d])){if(!ha(b[d],a[d]))return!1;c[d]=!0}for(d in a)if(!c.hasOwnProperty(d)&&\"$\"!==d.charAt(0)&&a[d]!==t&&!G(a[d]))return!1;return!0}return!1}function Ya(b,a,c){return b.concat(Za.call(a,c))}function pc(b,a){var c=2<arguments.length?Za.call(arguments,2):[];return!G(a)||a instanceof RegExp?a:c.length?function(){return arguments.length?a.apply(b,Ya(c,arguments,0)):a.apply(b,c)}:function(){return arguments.length?a.apply(b,arguments):a.call(b)}}function Hd(b,a){var c=a;\"string\"===typeof b&&\n\"$\"===b.charAt(0)&&\"$\"===b.charAt(1)?c=t:Ta(a)?c=\"$WINDOW\":a&&W===a?c=\"$DOCUMENT\":Va(a)&&(c=\"$SCOPE\");return c}function $a(b,a){if(\"undefined\"===typeof b)return t;Y(a)||(a=a?2:null);return JSON.stringify(b,Hd,a)}function qc(b){return C(b)?JSON.parse(b):b}function wa(b){b=A(b).clone();try{b.empty()}catch(a){}var c=A(\"<div>\").append(b).html();try{return b[0].nodeType===pb?z(c):c.match(/^(<[^>]+>)/)[1].replace(/^<([\\w\\-]+)/,function(a,b){return\"<\"+z(b)})}catch(d){return z(c)}}function rc(b){try{return decodeURIComponent(b)}catch(a){}}\nfunction sc(b){var a={},c,d;r((b||\"\").split(\"&\"),function(b){b&&(c=b.replace(/\\+/g,\"%20\").split(\"=\"),d=rc(c[0]),y(d)&&(b=y(c[1])?rc(c[1]):!0,tc.call(a,d)?H(a[d])?a[d].push(b):a[d]=[a[d],b]:a[d]=b))});return a}function Pb(b){var a=[];r(b,function(b,d){H(b)?r(b,function(b){a.push(Ea(d,!0)+(!0===b?\"\":\"=\"+Ea(b,!0)))}):a.push(Ea(d,!0)+(!0===b?\"\":\"=\"+Ea(b,!0)))});return a.length?a.join(\"&\"):\"\"}function qb(b){return Ea(b,!0).replace(/%26/gi,\"&\").replace(/%3D/gi,\"=\").replace(/%2B/gi,\"+\")}function Ea(b,a){return encodeURIComponent(b).replace(/%40/gi,\n\"@\").replace(/%3A/gi,\":\").replace(/%24/g,\"$\").replace(/%2C/gi,\",\").replace(/%3B/gi,\";\").replace(/%20/g,a?\"%20\":\"+\")}function Id(b,a){var c,d,e=rb.length;b=A(b);for(d=0;d<e;++d)if(c=rb[d]+a,C(c=b.attr(c)))return c;return null}function Jd(b,a){var c,d,e={};r(rb,function(a){a+=\"app\";!c&&b.hasAttribute&&b.hasAttribute(a)&&(c=b,d=b.getAttribute(a))});r(rb,function(a){a+=\"app\";var e;!c&&(e=b.querySelector(\"[\"+a.replace(\":\",\"\\\\:\")+\"]\"))&&(c=e,d=e.getAttribute(a))});c&&(e.strictDi=null!==Id(c,\"strict-di\"),\na(c,d?[d]:[],e))}function uc(b,a,c){J(c)||(c={});c=w({strictDi:!1},c);var d=function(){b=A(b);if(b.injector()){var d=b[0]===W?\"document\":wa(b);throw Ja(\"btstrpd\",d.replace(/</,\"&lt;\").replace(/>/,\"&gt;\"));}a=a||[];a.unshift([\"$provide\",function(a){a.value(\"$rootElement\",b)}]);c.debugInfoEnabled&&a.push([\"$compileProvider\",function(a){a.debugInfoEnabled(!0)}]);a.unshift(\"ng\");d=ab(a,c.strictDi);d.invoke([\"$rootScope\",\"$rootElement\",\"$compile\",\"$injector\",function(a,b,c,d){a.$apply(function(){b.data(\"$injector\",\nd);c(b)(a)})}]);return d},e=/^NG_ENABLE_DEBUG_INFO!/,f=/^NG_DEFER_BOOTSTRAP!/;Q&&e.test(Q.name)&&(c.debugInfoEnabled=!0,Q.name=Q.name.replace(e,\"\"));if(Q&&!f.test(Q.name))return d();Q.name=Q.name.replace(f,\"\");ca.resumeBootstrap=function(b){r(b,function(b){a.push(b)});return d()};G(ca.resumeDeferredBootstrap)&&ca.resumeDeferredBootstrap()}function Kd(){Q.name=\"NG_ENABLE_DEBUG_INFO!\"+Q.name;Q.location.reload()}function Ld(b){b=ca.element(b).injector();if(!b)throw Ja(\"test\");return b.get(\"$$testability\")}\nfunction vc(b,a){a=a||\"_\";return b.replace(Md,function(b,d){return(d?a:\"\")+b.toLowerCase()})}function Nd(){var b;wc||((ta=Q.jQuery)&&ta.fn.on?(A=ta,w(ta.fn,{scope:Ka.scope,isolateScope:Ka.isolateScope,controller:Ka.controller,injector:Ka.injector,inheritedData:Ka.inheritedData}),b=ta.cleanData,ta.cleanData=function(a){var c;if(Qb)Qb=!1;else for(var d=0,e;null!=(e=a[d]);d++)(c=ta._data(e,\"events\"))&&c.$destroy&&ta(e).triggerHandler(\"$destroy\");b(a)}):A=T,ca.element=A,wc=!0)}function Rb(b,a,c){if(!b)throw Ja(\"areq\",\na||\"?\",c||\"required\");return b}function sb(b,a,c){c&&H(b)&&(b=b[b.length-1]);Rb(G(b),a,\"not a function, got \"+(b&&\"object\"===typeof b?b.constructor.name||\"Object\":typeof b));return b}function La(b,a){if(\"hasOwnProperty\"===b)throw Ja(\"badname\",a);}function xc(b,a,c){if(!a)return b;a=a.split(\".\");for(var d,e=b,f=a.length,g=0;g<f;g++)d=a[g],b&&(b=(e=b)[d]);return!c&&G(b)?pc(e,b):b}function tb(b){var a=b[0];b=b[b.length-1];var c=[a];do{a=a.nextSibling;if(!a)break;c.push(a)}while(a!==b);return A(c)}function ia(){return Object.create(null)}\nfunction Od(b){function a(a,b,c){return a[b]||(a[b]=c())}var c=R(\"$injector\"),d=R(\"ng\");b=a(b,\"angular\",Object);b.$$minErr=b.$$minErr||R;return a(b,\"module\",function(){var b={};return function(f,g,h){if(\"hasOwnProperty\"===f)throw d(\"badname\",\"module\");g&&b.hasOwnProperty(f)&&(b[f]=null);return a(b,f,function(){function a(c,d,e,f){f||(f=b);return function(){f[e||\"push\"]([c,d,arguments]);return u}}if(!g)throw c(\"nomod\",f);var b=[],d=[],e=[],q=a(\"$injector\",\"invoke\",\"push\",d),u={_invokeQueue:b,_configBlocks:d,\n_runBlocks:e,requires:g,name:f,provider:a(\"$provide\",\"provider\"),factory:a(\"$provide\",\"factory\"),service:a(\"$provide\",\"service\"),value:a(\"$provide\",\"value\"),constant:a(\"$provide\",\"constant\",\"unshift\"),animation:a(\"$animateProvider\",\"register\"),filter:a(\"$filterProvider\",\"register\"),controller:a(\"$controllerProvider\",\"register\"),directive:a(\"$compileProvider\",\"directive\"),config:q,run:function(a){e.push(a);return this}};h&&q(h);return u})}})}function Pd(b){w(b,{bootstrap:uc,copy:Da,extend:w,equals:ha,\nelement:A,forEach:r,injector:ab,noop:E,bind:pc,toJson:$a,fromJson:qc,identity:ra,isUndefined:x,isDefined:y,isString:C,isFunction:G,isObject:J,isNumber:Y,isElement:oc,isArray:H,version:Qd,isDate:ga,lowercase:z,uppercase:ub,callbacks:{counter:0},getTestability:Ld,$$minErr:R,$$csp:bb,reloadWithDebugInfo:Kd});cb=Od(Q);try{cb(\"ngLocale\")}catch(a){cb(\"ngLocale\",[]).provider(\"$locale\",Rd)}cb(\"ng\",[\"ngLocale\"],[\"$provide\",function(a){a.provider({$$sanitizeUri:Sd});a.provider(\"$compile\",yc).directive({a:Td,\ninput:zc,textarea:zc,form:Ud,script:Vd,select:Wd,style:Xd,option:Yd,ngBind:Zd,ngBindHtml:$d,ngBindTemplate:ae,ngClass:be,ngClassEven:ce,ngClassOdd:de,ngCloak:ee,ngController:fe,ngForm:ge,ngHide:he,ngIf:ie,ngInclude:je,ngInit:ke,ngNonBindable:le,ngPluralize:me,ngRepeat:ne,ngShow:oe,ngStyle:pe,ngSwitch:qe,ngSwitchWhen:re,ngSwitchDefault:se,ngOptions:te,ngTransclude:ue,ngModel:ve,ngList:we,ngChange:xe,pattern:Ac,ngPattern:Ac,required:Bc,ngRequired:Bc,minlength:Cc,ngMinlength:Cc,maxlength:Dc,ngMaxlength:Dc,\nngValue:ye,ngModelOptions:ze}).directive({ngInclude:Ae}).directive(vb).directive(Ec);a.provider({$anchorScroll:Be,$animate:Ce,$browser:De,$cacheFactory:Ee,$controller:Fe,$document:Ge,$exceptionHandler:He,$filter:Fc,$interpolate:Ie,$interval:Je,$http:Ke,$httpBackend:Le,$location:Me,$log:Ne,$parse:Oe,$rootScope:Pe,$q:Qe,$$q:Re,$sce:Se,$sceDelegate:Te,$sniffer:Ue,$templateCache:Ve,$templateRequest:We,$$testability:Xe,$timeout:Ye,$window:Ze,$$rAF:$e,$$asyncCallback:af,$$jqLite:bf})}])}function db(b){return b.replace(cf,\nfunction(a,b,d,e){return e?d.toUpperCase():d}).replace(df,\"Moz$1\")}function Gc(b){b=b.nodeType;return b===qa||!b||9===b}function Hc(b,a){var c,d,e=a.createDocumentFragment(),f=[];if(Sb.test(b)){c=c||e.appendChild(a.createElement(\"div\"));d=(ef.exec(b)||[\"\",\"\"])[1].toLowerCase();d=ja[d]||ja._default;c.innerHTML=d[1]+b.replace(ff,\"<$1></$2>\")+d[2];for(d=d[0];d--;)c=c.lastChild;f=Ya(f,c.childNodes);c=e.firstChild;c.textContent=\"\"}else f.push(a.createTextNode(b));e.textContent=\"\";e.innerHTML=\"\";r(f,function(a){e.appendChild(a)});\nreturn e}function T(b){if(b instanceof T)return b;var a;C(b)&&(b=N(b),a=!0);if(!(this instanceof T)){if(a&&\"<\"!=b.charAt(0))throw Tb(\"nosel\");return new T(b)}if(a){a=W;var c;b=(c=gf.exec(b))?[a.createElement(c[1])]:(c=Hc(b,a))?c.childNodes:[]}Ic(this,b)}function Ub(b){return b.cloneNode(!0)}function wb(b,a){a||xb(b);if(b.querySelectorAll)for(var c=b.querySelectorAll(\"*\"),d=0,e=c.length;d<e;d++)xb(c[d])}function Jc(b,a,c,d){if(y(d))throw Tb(\"offargs\");var e=(d=yb(b))&&d.events,f=d&&d.handle;if(f)if(a)r(a.split(\" \"),\nfunction(a){if(y(c)){var d=e[a];Xa(d||[],c);if(d&&0<d.length)return}b.removeEventListener(a,f,!1);delete e[a]});else for(a in e)\"$destroy\"!==a&&b.removeEventListener(a,f,!1),delete e[a]}function xb(b,a){var c=b.ng339,d=c&&zb[c];d&&(a?delete d.data[a]:(d.handle&&(d.events.$destroy&&d.handle({},\"$destroy\"),Jc(b)),delete zb[c],b.ng339=t))}function yb(b,a){var c=b.ng339,c=c&&zb[c];a&&!c&&(b.ng339=c=++hf,c=zb[c]={events:{},data:{},handle:t});return c}function Vb(b,a,c){if(Gc(b)){var d=y(c),e=!d&&a&&!J(a),\nf=!a;b=(b=yb(b,!e))&&b.data;if(d)b[a]=c;else{if(f)return b;if(e)return b&&b[a];w(b,a)}}}function Ab(b,a){return b.getAttribute?-1<(\" \"+(b.getAttribute(\"class\")||\"\")+\" \").replace(/[\\n\\t]/g,\" \").indexOf(\" \"+a+\" \"):!1}function Bb(b,a){a&&b.setAttribute&&r(a.split(\" \"),function(a){b.setAttribute(\"class\",N((\" \"+(b.getAttribute(\"class\")||\"\")+\" \").replace(/[\\n\\t]/g,\" \").replace(\" \"+N(a)+\" \",\" \")))})}function Cb(b,a){if(a&&b.setAttribute){var c=(\" \"+(b.getAttribute(\"class\")||\"\")+\" \").replace(/[\\n\\t]/g,\" \");\nr(a.split(\" \"),function(a){a=N(a);-1===c.indexOf(\" \"+a+\" \")&&(c+=a+\" \")});b.setAttribute(\"class\",N(c))}}function Ic(b,a){if(a)if(a.nodeType)b[b.length++]=a;else{var c=a.length;if(\"number\"===typeof c&&a.window!==a){if(c)for(var d=0;d<c;d++)b[b.length++]=a[d]}else b[b.length++]=a}}function Kc(b,a){return Db(b,\"$\"+(a||\"ngController\")+\"Controller\")}function Db(b,a,c){9==b.nodeType&&(b=b.documentElement);for(a=H(a)?a:[a];b;){for(var d=0,e=a.length;d<e;d++)if((c=A.data(b,a[d]))!==t)return c;b=b.parentNode||\n11===b.nodeType&&b.host}}function Lc(b){for(wb(b,!0);b.firstChild;)b.removeChild(b.firstChild)}function Mc(b,a){a||wb(b);var c=b.parentNode;c&&c.removeChild(b)}function jf(b,a){a=a||Q;if(\"complete\"===a.document.readyState)a.setTimeout(b);else A(a).on(\"load\",b)}function Nc(b,a){var c=Eb[a.toLowerCase()];return c&&Oc[va(b)]&&c}function kf(b,a){var c=b.nodeName;return(\"INPUT\"===c||\"TEXTAREA\"===c)&&Pc[a]}function lf(b,a){var c=function(c,e){c.isDefaultPrevented=function(){return c.defaultPrevented};var f=\na[e||c.type],g=f?f.length:0;if(g){if(x(c.immediatePropagationStopped)){var h=c.stopImmediatePropagation;c.stopImmediatePropagation=function(){c.immediatePropagationStopped=!0;c.stopPropagation&&c.stopPropagation();h&&h.call(c)}}c.isImmediatePropagationStopped=function(){return!0===c.immediatePropagationStopped};1<g&&(f=sa(f));for(var l=0;l<g;l++)c.isImmediatePropagationStopped()||f[l].call(b,c)}};c.elem=b;return c}function bf(){this.$get=function(){return w(T,{hasClass:function(b,a){b.attr&&(b=b[0]);\nreturn Ab(b,a)},addClass:function(b,a){b.attr&&(b=b[0]);return Cb(b,a)},removeClass:function(b,a){b.attr&&(b=b[0]);return Bb(b,a)}})}}function Ma(b,a){var c=b&&b.$$hashKey;if(c)return\"function\"===typeof c&&(c=b.$$hashKey()),c;c=typeof b;return c=\"function\"==c||\"object\"==c&&null!==b?b.$$hashKey=c+\":\"+(a||Fd)():c+\":\"+b}function eb(b,a){if(a){var c=0;this.nextUid=function(){return++c}}r(b,this.put,this)}function mf(b){return(b=b.toString().replace(Qc,\"\").match(Rc))?\"function(\"+(b[1]||\"\").replace(/[\\s\\r\\n]+/,\n\" \")+\")\":\"fn\"}function ab(b,a){function c(a){return function(b,c){if(J(b))r(b,mc(a));else return a(b,c)}}function d(a,b){La(a,\"service\");if(G(b)||H(b))b=q.instantiate(b);if(!b.$get)throw Fa(\"pget\",a);return p[a+\"Provider\"]=b}function e(a,b){return function(){var c=s.invoke(b,this);if(x(c))throw Fa(\"undef\",a);return c}}function f(a,b,c){return d(a,{$get:!1!==c?e(a,b):b})}function g(a){var b=[],c;r(a,function(a){function d(a){var b,c;b=0;for(c=a.length;b<c;b++){var e=a[b],f=q.get(e[0]);f[e[1]].apply(f,\ne[2])}}if(!n.get(a)){n.put(a,!0);try{C(a)?(c=cb(a),b=b.concat(g(c.requires)).concat(c._runBlocks),d(c._invokeQueue),d(c._configBlocks)):G(a)?b.push(q.invoke(a)):H(a)?b.push(q.invoke(a)):sb(a,\"module\")}catch(e){throw H(a)&&(a=a[a.length-1]),e.message&&e.stack&&-1==e.stack.indexOf(e.message)&&(e=e.message+\"\\n\"+e.stack),Fa(\"modulerr\",a,e.stack||e.message||e);}}});return b}function h(b,c){function d(a,e){if(b.hasOwnProperty(a)){if(b[a]===l)throw Fa(\"cdep\",a+\" <- \"+k.join(\" <- \"));return b[a]}try{return k.unshift(a),\nb[a]=l,b[a]=c(a,e)}catch(f){throw b[a]===l&&delete b[a],f;}finally{k.shift()}}function e(b,c,f,g){\"string\"===typeof f&&(g=f,f=null);var k=[],h=ab.$$annotate(b,a,g),l,q,p;q=0;for(l=h.length;q<l;q++){p=h[q];if(\"string\"!==typeof p)throw Fa(\"itkn\",p);k.push(f&&f.hasOwnProperty(p)?f[p]:d(p,g))}H(b)&&(b=b[l]);return b.apply(c,k)}return{invoke:e,instantiate:function(a,b,c){var d=Object.create((H(a)?a[a.length-1]:a).prototype||null);a=e(a,d,b,c);return J(a)||G(a)?a:d},get:d,annotate:ab.$$annotate,has:function(a){return p.hasOwnProperty(a+\n\"Provider\")||b.hasOwnProperty(a)}}}a=!0===a;var l={},k=[],n=new eb([],!0),p={$provide:{provider:c(d),factory:c(f),service:c(function(a,b){return f(a,[\"$injector\",function(a){return a.instantiate(b)}])}),value:c(function(a,b){return f(a,ea(b),!1)}),constant:c(function(a,b){La(a,\"constant\");p[a]=b;u[a]=b}),decorator:function(a,b){var c=q.get(a+\"Provider\"),d=c.$get;c.$get=function(){var a=s.invoke(d,c);return s.invoke(b,null,{$delegate:a})}}}},q=p.$injector=h(p,function(a,b){ca.isString(b)&&k.push(b);\nthrow Fa(\"unpr\",k.join(\" <- \"));}),u={},s=u.$injector=h(u,function(a,b){var c=q.get(a+\"Provider\",b);return s.invoke(c.$get,c,t,a)});r(g(b),function(a){s.invoke(a||E)});return s}function Be(){var b=!0;this.disableAutoScrolling=function(){b=!1};this.$get=[\"$window\",\"$location\",\"$rootScope\",function(a,c,d){function e(a){var b=null;Array.prototype.some.call(a,function(a){if(\"a\"===va(a))return b=a,!0});return b}function f(b){if(b){b.scrollIntoView();var c;c=g.yOffset;G(c)?c=c():oc(c)?(c=c[0],c=\"fixed\"!==\na.getComputedStyle(c).position?0:c.getBoundingClientRect().bottom):Y(c)||(c=0);c&&(b=b.getBoundingClientRect().top,a.scrollBy(0,b-c))}else a.scrollTo(0,0)}function g(){var a=c.hash(),b;a?(b=h.getElementById(a))?f(b):(b=e(h.getElementsByName(a)))?f(b):\"top\"===a&&f(null):f(null)}var h=a.document;b&&d.$watch(function(){return c.hash()},function(a,b){a===b&&\"\"===a||jf(function(){d.$evalAsync(g)})});return g}]}function af(){this.$get=[\"$$rAF\",\"$timeout\",function(b,a){return b.supported?function(a){return b(a)}:\nfunction(b){return a(b,0,!1)}}]}function nf(b,a,c,d){function e(a){try{a.apply(null,Za.call(arguments,1))}finally{if(m--,0===m)for(;F.length;)try{F.pop()()}catch(b){c.error(b)}}}function f(a,b){(function da(){r(Z,function(a){a()});L=b(da,a)})()}function g(){h();l()}function h(){a:{try{B=u.state;break a}catch(a){}B=void 0}B=x(B)?null:B;ha(B,O)&&(B=O);O=B}function l(){if(D!==n.url()||I!==B)D=n.url(),I=B,r(X,function(a){a(n.url(),B)})}function k(a){try{return decodeURIComponent(a)}catch(b){return a}}\nvar n=this,p=a[0],q=b.location,u=b.history,s=b.setTimeout,M=b.clearTimeout,v={};n.isMock=!1;var m=0,F=[];n.$$completeOutstandingRequest=e;n.$$incOutstandingRequestCount=function(){m++};n.notifyWhenNoOutstandingRequests=function(a){r(Z,function(a){a()});0===m?a():F.push(a)};var Z=[],L;n.addPollFn=function(a){x(L)&&f(100,s);Z.push(a);return a};var B,I,D=q.href,S=a.find(\"base\"),P=null;h();I=B;n.url=function(a,c,e){x(e)&&(e=null);q!==b.location&&(q=b.location);u!==b.history&&(u=b.history);if(a){var f=\nI===e;if(D===a&&(!d.history||f))return n;var g=D&&Ga(D)===Ga(a);D=a;I=e;!d.history||g&&f?(g||(P=a),c?q.replace(a):g?(c=q,e=a.indexOf(\"#\"),a=-1===e?\"\":a.substr(e+1),c.hash=a):q.href=a):(u[c?\"replaceState\":\"pushState\"](e,\"\",a),h(),I=B);return n}return P||q.href.replace(/%27/g,\"'\")};n.state=function(){return B};var X=[],ba=!1,O=null;n.onUrlChange=function(a){if(!ba){if(d.history)A(b).on(\"popstate\",g);A(b).on(\"hashchange\",g);ba=!0}X.push(a);return a};n.$$checkUrlChange=l;n.baseHref=function(){var a=S.attr(\"href\");\nreturn a?a.replace(/^(https?\\:)?\\/\\/[^\\/]*/,\"\"):\"\"};var fa={},y=\"\",ka=n.baseHref();n.cookies=function(a,b){var d,e,f,g;if(a)b===t?p.cookie=encodeURIComponent(a)+\"=;path=\"+ka+\";expires=Thu, 01 Jan 1970 00:00:00 GMT\":C(b)&&(d=(p.cookie=encodeURIComponent(a)+\"=\"+encodeURIComponent(b)+\";path=\"+ka).length+1,4096<d&&c.warn(\"Cookie '\"+a+\"' possibly not set or overflowed because it was too large (\"+d+\" > 4096 bytes)!\"));else{if(p.cookie!==y)for(y=p.cookie,d=y.split(\"; \"),fa={},f=0;f<d.length;f++)e=d[f],g=\ne.indexOf(\"=\"),0<g&&(a=k(e.substring(0,g)),fa[a]===t&&(fa[a]=k(e.substring(g+1))));return fa}};n.defer=function(a,b){var c;m++;c=s(function(){delete v[c];e(a)},b||0);v[c]=!0;return c};n.defer.cancel=function(a){return v[a]?(delete v[a],M(a),e(E),!0):!1}}function De(){this.$get=[\"$window\",\"$log\",\"$sniffer\",\"$document\",function(b,a,c,d){return new nf(b,d,a,c)}]}function Ee(){this.$get=function(){function b(b,d){function e(a){a!=p&&(q?q==a&&(q=a.n):q=a,f(a.n,a.p),f(a,p),p=a,p.n=null)}function f(a,b){a!=\nb&&(a&&(a.p=b),b&&(b.n=a))}if(b in a)throw R(\"$cacheFactory\")(\"iid\",b);var g=0,h=w({},d,{id:b}),l={},k=d&&d.capacity||Number.MAX_VALUE,n={},p=null,q=null;return a[b]={put:function(a,b){if(k<Number.MAX_VALUE){var c=n[a]||(n[a]={key:a});e(c)}if(!x(b))return a in l||g++,l[a]=b,g>k&&this.remove(q.key),b},get:function(a){if(k<Number.MAX_VALUE){var b=n[a];if(!b)return;e(b)}return l[a]},remove:function(a){if(k<Number.MAX_VALUE){var b=n[a];if(!b)return;b==p&&(p=b.p);b==q&&(q=b.n);f(b.n,b.p);delete n[a]}delete l[a];\ng--},removeAll:function(){l={};g=0;n={};p=q=null},destroy:function(){n=h=l=null;delete a[b]},info:function(){return w({},h,{size:g})}}}var a={};b.info=function(){var b={};r(a,function(a,e){b[e]=a.info()});return b};b.get=function(b){return a[b]};return b}}function Ve(){this.$get=[\"$cacheFactory\",function(b){return b(\"templates\")}]}function yc(b,a){function c(a,b){var c=/^\\s*([@&]|=(\\*?))(\\??)\\s*(\\w*)\\s*$/,d={};r(a,function(a,e){var f=a.match(c);if(!f)throw la(\"iscp\",b,e,a);d[e]={mode:f[1][0],collection:\"*\"===\nf[2],optional:\"?\"===f[3],attrName:f[4]||e}});return d}var d={},e=/^\\s*directive\\:\\s*([\\w\\-]+)\\s+(.*)$/,f=/(([\\w\\-]+)(?:\\:([^;]+))?;?)/,g=Gd(\"ngSrc,ngSrcset,src,srcset\"),h=/^(?:(\\^\\^?)?(\\?)?(\\^\\^?)?)?/,l=/^(on[a-z]+|formaction)$/;this.directive=function p(a,e){La(a,\"directive\");C(a)?(Rb(e,\"directiveFactory\"),d.hasOwnProperty(a)||(d[a]=[],b.factory(a+\"Directive\",[\"$injector\",\"$exceptionHandler\",function(b,e){var f=[];r(d[a],function(d,g){try{var h=b.invoke(d);G(h)?h={compile:ea(h)}:!h.compile&&h.link&&\n(h.compile=ea(h.link));h.priority=h.priority||0;h.index=g;h.name=h.name||a;h.require=h.require||h.controller&&h.name;h.restrict=h.restrict||\"EA\";J(h.scope)&&(h.$$isolateBindings=c(h.scope,h.name));f.push(h)}catch(k){e(k)}});return f}])),d[a].push(e)):r(a,mc(p));return this};this.aHrefSanitizationWhitelist=function(b){return y(b)?(a.aHrefSanitizationWhitelist(b),this):a.aHrefSanitizationWhitelist()};this.imgSrcSanitizationWhitelist=function(b){return y(b)?(a.imgSrcSanitizationWhitelist(b),this):a.imgSrcSanitizationWhitelist()};\nvar k=!0;this.debugInfoEnabled=function(a){return y(a)?(k=a,this):k};this.$get=[\"$injector\",\"$interpolate\",\"$exceptionHandler\",\"$templateRequest\",\"$parse\",\"$controller\",\"$rootScope\",\"$document\",\"$sce\",\"$animate\",\"$$sanitizeUri\",function(a,b,c,s,M,v,m,F,Z,L,B){function I(a,b){try{a.addClass(b)}catch(c){}}function D(a,b,c,d,e){a instanceof A||(a=A(a));r(a,function(b,c){b.nodeType==pb&&b.nodeValue.match(/\\S+/)&&(a[c]=A(b).wrap(\"<span></span>\").parent()[0])});var f=S(a,b,a,c,d,e);D.$$addScopeClass(a);\nvar g=null;return function(b,c,d){Rb(b,\"scope\");d=d||{};var e=d.parentBoundTranscludeFn,h=d.transcludeControllers;d=d.futureParentElement;e&&e.$$boundTransclude&&(e=e.$$boundTransclude);g||(g=(d=d&&d[0])?\"foreignobject\"!==va(d)&&d.toString().match(/SVG/)?\"svg\":\"html\":\"html\");d=\"html\"!==g?A(Xb(g,A(\"<div>\").append(a).html())):c?Ka.clone.call(a):a;if(h)for(var k in h)d.data(\"$\"+k+\"Controller\",h[k].instance);D.$$addScopeInfo(d,b);c&&c(d,b);f&&f(b,d,d,e);return d}}function S(a,b,c,d,e,f){function g(a,\nc,d,e){var f,k,l,q,p,s,M;if(m)for(M=Array(c.length),q=0;q<h.length;q+=3)f=h[q],M[f]=c[f];else M=c;q=0;for(p=h.length;q<p;)k=M[h[q++]],c=h[q++],f=h[q++],c?(c.scope?(l=a.$new(),D.$$addScopeInfo(A(k),l)):l=a,s=c.transcludeOnThisElement?P(a,c.transclude,e,c.elementTranscludeOnThisElement):!c.templateOnThisElement&&e?e:!e&&b?P(a,b):null,c(f,l,k,d,s)):f&&f(a,k.childNodes,t,e)}for(var h=[],k,l,q,p,m,s=0;s<a.length;s++){k=new Yb;l=X(a[s],[],k,0===s?d:t,e);(f=l.length?fa(l,a[s],k,b,c,null,[],[],f):null)&&\nf.scope&&D.$$addScopeClass(k.$$element);k=f&&f.terminal||!(q=a[s].childNodes)||!q.length?null:S(q,f?(f.transcludeOnThisElement||!f.templateOnThisElement)&&f.transclude:b);if(f||k)h.push(s,f,k),p=!0,m=m||f;f=null}return p?g:null}function P(a,b,c,d){return function(d,e,f,g,h){d||(d=a.$new(!1,h),d.$$transcluded=!0);return b(d,e,{parentBoundTranscludeFn:c,transcludeControllers:f,futureParentElement:g})}}function X(a,b,c,d,g){var h=c.$attr,k;switch(a.nodeType){case qa:ka(b,xa(va(a)),\"E\",d,g);for(var l,\nq,p,m=a.attributes,s=0,M=m&&m.length;s<M;s++){var u=!1,L=!1;l=m[s];k=l.name;q=N(l.value);l=xa(k);if(p=U.test(l))k=k.replace(Sc,\"\").substr(8).replace(/_(.)/g,function(a,b){return b.toUpperCase()});var B=l.replace(/(Start|End)$/,\"\");x(B)&&l===B+\"Start\"&&(u=k,L=k.substr(0,k.length-5)+\"end\",k=k.substr(0,k.length-6));l=xa(k.toLowerCase());h[l]=k;if(p||!c.hasOwnProperty(l))c[l]=q,Nc(a,l)&&(c[l]=!0);Oa(a,b,q,l,p);ka(b,l,\"A\",d,g,u,L)}a=a.className;J(a)&&(a=a.animVal);if(C(a)&&\"\"!==a)for(;k=f.exec(a);)l=xa(k[2]),\nka(b,l,\"C\",d,g)&&(c[l]=N(k[3])),a=a.substr(k.index+k[0].length);break;case pb:za(b,a.nodeValue);break;case 8:try{if(k=e.exec(a.nodeValue))l=xa(k[1]),ka(b,l,\"M\",d,g)&&(c[l]=N(k[2]))}catch(v){}}b.sort(da);return b}function ba(a,b,c){var d=[],e=0;if(b&&a.hasAttribute&&a.hasAttribute(b)){do{if(!a)throw la(\"uterdir\",b,c);a.nodeType==qa&&(a.hasAttribute(b)&&e++,a.hasAttribute(c)&&e--);d.push(a);a=a.nextSibling}while(0<e)}else d.push(a);return A(d)}function O(a,b,c){return function(d,e,f,g,h){e=ba(e[0],\nb,c);return a(d,e,f,g,h)}}function fa(a,d,e,f,g,k,l,p,m){function s(a,b,c,d){if(a){c&&(a=O(a,c,d));a.require=K.require;a.directiveName=da;if(P===K||K.$$isolateScope)a=Y(a,{isolateScope:!0});l.push(a)}if(b){c&&(b=O(b,c,d));b.require=K.require;b.directiveName=da;if(P===K||K.$$isolateScope)b=Y(b,{isolateScope:!0});p.push(b)}}function L(a,b,c,d){var e,f=\"data\",g=!1,k=c,l;if(C(b)){l=b.match(h);b=b.substring(l[0].length);l[3]&&(l[1]?l[3]=null:l[1]=l[3]);\"^\"===l[1]?f=\"inheritedData\":\"^^\"===l[1]&&(f=\"inheritedData\",\nk=c.parent());\"?\"===l[2]&&(g=!0);e=null;d&&\"data\"===f&&(e=d[b])&&(e=e.instance);e=e||k[f](\"$\"+b+\"Controller\");if(!e&&!g)throw la(\"ctreq\",b,a);return e||null}H(b)&&(e=[],r(b,function(b){e.push(L(a,b,c,d))}));return e}function B(a,c,f,g,h){function k(a,b,c){var d;Va(a)||(c=b,b=a,a=t);E&&(d=F);c||(c=E?X.parent():X);return h(a,b,d,c,Wb)}var m,s,u,I,F,gb,X,O;d===f?(O=e,X=e.$$element):(X=A(f),O=new Yb(X,e));P&&(I=c.$new(!0));h&&(gb=k,gb.$$boundTransclude=h);S&&(Z={},F={},r(S,function(a){var b={$scope:a===\nP||a.$$isolateScope?I:c,$element:X,$attrs:O,$transclude:gb};u=a.controller;\"@\"==u&&(u=O[a.name]);b=v(u,b,!0,a.controllerAs);F[a.name]=b;E||X.data(\"$\"+a.name+\"Controller\",b.instance);Z[a.name]=b}));if(P){D.$$addScopeInfo(X,I,!0,!(ma&&(ma===P||ma===P.$$originalDirective)));D.$$addScopeClass(X,!0);g=Z&&Z[P.name];var ba=I;g&&g.identifier&&!0===P.bindToController&&(ba=g.instance);r(I.$$isolateBindings=P.$$isolateBindings,function(a,d){var e=a.attrName,f=a.optional,g,h,k,l;switch(a.mode){case \"@\":O.$observe(e,\nfunction(a){ba[d]=a});O.$$observers[e].$$scope=c;O[e]&&(ba[d]=b(O[e])(c));break;case \"=\":if(f&&!O[e])break;h=M(O[e]);l=h.literal?ha:function(a,b){return a===b||a!==a&&b!==b};k=h.assign||function(){g=ba[d]=h(c);throw la(\"nonassign\",O[e],P.name);};g=ba[d]=h(c);f=function(a){l(a,ba[d])||(l(a,g)?k(c,a=ba[d]):ba[d]=a);return g=a};f.$stateful=!0;f=a.collection?c.$watchCollection(O[e],f):c.$watch(M(O[e],f),null,h.literal);I.$on(\"$destroy\",f);break;case \"&\":h=M(O[e]),ba[d]=function(a){return h(c,a)}}})}Z&&\n(r(Z,function(a){a()}),Z=null);g=0;for(m=l.length;g<m;g++)s=l[g],$(s,s.isolateScope?I:c,X,O,s.require&&L(s.directiveName,s.require,X,F),gb);var Wb=c;P&&(P.template||null===P.templateUrl)&&(Wb=I);a&&a(Wb,f.childNodes,t,h);for(g=p.length-1;0<=g;g--)s=p[g],$(s,s.isolateScope?I:c,X,O,s.require&&L(s.directiveName,s.require,X,F),gb)}m=m||{};for(var I=-Number.MAX_VALUE,F,S=m.controllerDirectives,Z,P=m.newIsolateScopeDirective,ma=m.templateDirective,fa=m.nonTlbTranscludeDirective,ka=!1,x=!1,E=m.hasElementTranscludeDirective,\nw=e.$$element=A(d),K,da,V,fb=f,za,z=0,Q=a.length;z<Q;z++){K=a[z];var Oa=K.$$start,U=K.$$end;Oa&&(w=ba(d,Oa,U));V=t;if(I>K.priority)break;if(V=K.scope)K.templateUrl||(J(V)?(Na(\"new/isolated scope\",P||F,K,w),P=K):Na(\"new/isolated scope\",P,K,w)),F=F||K;da=K.name;!K.templateUrl&&K.controller&&(V=K.controller,S=S||{},Na(\"'\"+da+\"' controller\",S[da],K,w),S[da]=K);if(V=K.transclude)ka=!0,K.$$tlb||(Na(\"transclusion\",fa,K,w),fa=K),\"element\"==V?(E=!0,I=K.priority,V=w,w=e.$$element=A(W.createComment(\" \"+da+\": \"+\ne[da]+\" \")),d=w[0],T(g,Za.call(V,0),d),fb=D(V,f,I,k&&k.name,{nonTlbTranscludeDirective:fa})):(V=A(Ub(d)).contents(),w.empty(),fb=D(V,f));if(K.template)if(x=!0,Na(\"template\",ma,K,w),ma=K,V=G(K.template)?K.template(w,e):K.template,V=Tc(V),K.replace){k=K;V=Sb.test(V)?Uc(Xb(K.templateNamespace,N(V))):[];d=V[0];if(1!=V.length||d.nodeType!==qa)throw la(\"tplrt\",da,\"\");T(g,w,d);Q={$attr:{}};V=X(d,[],Q);var aa=a.splice(z+1,a.length-(z+1));P&&y(V);a=a.concat(V).concat(aa);R(e,Q);Q=a.length}else w.html(V);if(K.templateUrl)x=\n!0,Na(\"template\",ma,K,w),ma=K,K.replace&&(k=K),B=of(a.splice(z,a.length-z),w,e,g,ka&&fb,l,p,{controllerDirectives:S,newIsolateScopeDirective:P,templateDirective:ma,nonTlbTranscludeDirective:fa}),Q=a.length;else if(K.compile)try{za=K.compile(w,e,fb),G(za)?s(null,za,Oa,U):za&&s(za.pre,za.post,Oa,U)}catch(pf){c(pf,wa(w))}K.terminal&&(B.terminal=!0,I=Math.max(I,K.priority))}B.scope=F&&!0===F.scope;B.transcludeOnThisElement=ka;B.elementTranscludeOnThisElement=E;B.templateOnThisElement=x;B.transclude=fb;\nm.hasElementTranscludeDirective=E;return B}function y(a){for(var b=0,c=a.length;b<c;b++)a[b]=Ob(a[b],{$$isolateScope:!0})}function ka(b,e,f,g,h,k,l){if(e===h)return null;h=null;if(d.hasOwnProperty(e)){var q;e=a.get(e+\"Directive\");for(var m=0,s=e.length;m<s;m++)try{q=e[m],(g===t||g>q.priority)&&-1!=q.restrict.indexOf(f)&&(k&&(q=Ob(q,{$$start:k,$$end:l})),b.push(q),h=q)}catch(M){c(M)}}return h}function x(b){if(d.hasOwnProperty(b))for(var c=a.get(b+\"Directive\"),e=0,f=c.length;e<f;e++)if(b=c[e],b.multiElement)return!0;\nreturn!1}function R(a,b){var c=b.$attr,d=a.$attr,e=a.$$element;r(a,function(d,e){\"$\"!=e.charAt(0)&&(b[e]&&b[e]!==d&&(d+=(\"style\"===e?\";\":\" \")+b[e]),a.$set(e,d,!0,c[e]))});r(b,function(b,f){\"class\"==f?(I(e,b),a[\"class\"]=(a[\"class\"]?a[\"class\"]+\" \":\"\")+b):\"style\"==f?(e.attr(\"style\",e.attr(\"style\")+\";\"+b),a.style=(a.style?a.style+\";\":\"\")+b):\"$\"==f.charAt(0)||a.hasOwnProperty(f)||(a[f]=b,d[f]=c[f])})}function of(a,b,c,d,e,f,g,h){var k=[],l,q,p=b[0],m=a.shift(),M=Ob(m,{templateUrl:null,transclude:null,\nreplace:null,$$originalDirective:m}),u=G(m.templateUrl)?m.templateUrl(b,c):m.templateUrl,L=m.templateNamespace;b.empty();s(Z.getTrustedResourceUrl(u)).then(function(s){var B,v;s=Tc(s);if(m.replace){s=Sb.test(s)?Uc(Xb(L,N(s))):[];B=s[0];if(1!=s.length||B.nodeType!==qa)throw la(\"tplrt\",m.name,u);s={$attr:{}};T(d,b,B);var D=X(B,[],s);J(m.scope)&&y(D);a=D.concat(a);R(c,s)}else B=p,b.html(s);a.unshift(M);l=fa(a,B,c,e,b,m,f,g,h);r(d,function(a,c){a==B&&(d[c]=b[0])});for(q=S(b[0].childNodes,e);k.length;){s=\nk.shift();v=k.shift();var F=k.shift(),O=k.shift(),D=b[0];if(!s.$$destroyed){if(v!==p){var Z=v.className;h.hasElementTranscludeDirective&&m.replace||(D=Ub(B));T(F,A(v),D);I(A(D),Z)}v=l.transcludeOnThisElement?P(s,l.transclude,O):O;l(q,s,D,d,v)}}k=null});return function(a,b,c,d,e){a=e;b.$$destroyed||(k?k.push(b,c,d,a):(l.transcludeOnThisElement&&(a=P(b,l.transclude,e)),l(q,b,c,d,a)))}}function da(a,b){var c=b.priority-a.priority;return 0!==c?c:a.name!==b.name?a.name<b.name?-1:1:a.index-b.index}function Na(a,\nb,c,d){if(b)throw la(\"multidir\",b.name,c.name,a,wa(d));}function za(a,c){var d=b(c,!0);d&&a.push({priority:0,compile:function(a){a=a.parent();var b=!!a.length;b&&D.$$addBindingClass(a);return function(a,c){var e=c.parent();b||D.$$addBindingClass(e);D.$$addBindingInfo(e,d.expressions);a.$watch(d,function(a){c[0].nodeValue=a})}}})}function Xb(a,b){a=z(a||\"html\");switch(a){case \"svg\":case \"math\":var c=W.createElement(\"div\");c.innerHTML=\"<\"+a+\">\"+b+\"</\"+a+\">\";return c.childNodes[0].childNodes;default:return b}}\nfunction Q(a,b){if(\"srcdoc\"==b)return Z.HTML;var c=va(a);if(\"xlinkHref\"==b||\"form\"==c&&\"action\"==b||\"img\"!=c&&(\"src\"==b||\"ngSrc\"==b))return Z.RESOURCE_URL}function Oa(a,c,d,e,f){var h=Q(a,e);f=g[e]||f;var k=b(d,!0,h,f);if(k){if(\"multiple\"===e&&\"select\"===va(a))throw la(\"selmulti\",wa(a));c.push({priority:100,compile:function(){return{pre:function(a,c,g){c=g.$$observers||(g.$$observers={});if(l.test(e))throw la(\"nodomevents\");var m=g[e];m!==d&&(k=m&&b(m,!0,h,f),d=m);k&&(g[e]=k(a),(c[e]||(c[e]=[])).$$inter=\n!0,(g.$$observers&&g.$$observers[e].$$scope||a).$watch(k,function(a,b){\"class\"===e&&a!=b?g.$updateClass(a,b):g.$set(e,a)}))}}}})}}function T(a,b,c){var d=b[0],e=b.length,f=d.parentNode,g,h;if(a)for(g=0,h=a.length;g<h;g++)if(a[g]==d){a[g++]=c;h=g+e-1;for(var k=a.length;g<k;g++,h++)h<k?a[g]=a[h]:delete a[g];a.length-=e-1;a.context===d&&(a.context=c);break}f&&f.replaceChild(c,d);a=W.createDocumentFragment();a.appendChild(d);A(c).data(A(d).data());ta?(Qb=!0,ta.cleanData([d])):delete A.cache[d[A.expando]];\nd=1;for(e=b.length;d<e;d++)f=b[d],A(f).remove(),a.appendChild(f),delete b[d];b[0]=c;b.length=1}function Y(a,b){return w(function(){return a.apply(null,arguments)},a,b)}function $(a,b,d,e,f,g){try{a(b,d,e,f,g)}catch(h){c(h,wa(d))}}var Yb=function(a,b){if(b){var c=Object.keys(b),d,e,f;d=0;for(e=c.length;d<e;d++)f=c[d],this[f]=b[f]}else this.$attr={};this.$$element=a};Yb.prototype={$normalize:xa,$addClass:function(a){a&&0<a.length&&L.addClass(this.$$element,a)},$removeClass:function(a){a&&0<a.length&&\nL.removeClass(this.$$element,a)},$updateClass:function(a,b){var c=Vc(a,b);c&&c.length&&L.addClass(this.$$element,c);(c=Vc(b,a))&&c.length&&L.removeClass(this.$$element,c)},$set:function(a,b,d,e){var f=this.$$element[0],g=Nc(f,a),h=kf(f,a),f=a;g?(this.$$element.prop(a,b),e=g):h&&(this[h]=b,f=h);this[a]=b;e?this.$attr[a]=e:(e=this.$attr[a])||(this.$attr[a]=e=vc(a,\"-\"));g=va(this.$$element);if(\"a\"===g&&\"href\"===a||\"img\"===g&&\"src\"===a)this[a]=b=B(b,\"src\"===a);else if(\"img\"===g&&\"srcset\"===a){for(var g=\n\"\",h=N(b),k=/(\\s+\\d+x\\s*,|\\s+\\d+w\\s*,|\\s+,|,\\s+)/,k=/\\s/.test(h)?k:/(,)/,h=h.split(k),k=Math.floor(h.length/2),l=0;l<k;l++)var q=2*l,g=g+B(N(h[q]),!0),g=g+(\" \"+N(h[q+1]));h=N(h[2*l]).split(/\\s/);g+=B(N(h[0]),!0);2===h.length&&(g+=\" \"+N(h[1]));this[a]=b=g}!1!==d&&(null===b||b===t?this.$$element.removeAttr(e):this.$$element.attr(e,b));(a=this.$$observers)&&r(a[f],function(a){try{a(b)}catch(d){c(d)}})},$observe:function(a,b){var c=this,d=c.$$observers||(c.$$observers=ia()),e=d[a]||(d[a]=[]);e.push(b);\nm.$evalAsync(function(){!e.$$inter&&c.hasOwnProperty(a)&&b(c[a])});return function(){Xa(e,b)}}};var V=b.startSymbol(),ma=b.endSymbol(),Tc=\"{{\"==V||\"}}\"==ma?ra:function(a){return a.replace(/\\{\\{/g,V).replace(/}}/g,ma)},U=/^ngAttr[A-Z]/;D.$$addBindingInfo=k?function(a,b){var c=a.data(\"$binding\")||[];H(b)?c=c.concat(b):c.push(b);a.data(\"$binding\",c)}:E;D.$$addBindingClass=k?function(a){I(a,\"ng-binding\")}:E;D.$$addScopeInfo=k?function(a,b,c,d){a.data(c?d?\"$isolateScopeNoTemplate\":\"$isolateScope\":\"$scope\",\nb)}:E;D.$$addScopeClass=k?function(a,b){I(a,b?\"ng-isolate-scope\":\"ng-scope\")}:E;return D}]}function xa(b){return db(b.replace(Sc,\"\"))}function Vc(b,a){var c=\"\",d=b.split(/\\s+/),e=a.split(/\\s+/),f=0;a:for(;f<d.length;f++){for(var g=d[f],h=0;h<e.length;h++)if(g==e[h])continue a;c+=(0<c.length?\" \":\"\")+g}return c}function Uc(b){b=A(b);var a=b.length;if(1>=a)return b;for(;a--;)8===b[a].nodeType&&qf.call(b,a,1);return b}function Fe(){var b={},a=!1,c=/^(\\S+)(\\s+as\\s+(\\w+))?$/;this.register=function(a,c){La(a,\n\"controller\");J(a)?w(b,a):b[a]=c};this.allowGlobals=function(){a=!0};this.$get=[\"$injector\",\"$window\",function(d,e){function f(a,b,c,d){if(!a||!J(a.$scope))throw R(\"$controller\")(\"noscp\",d,b);a.$scope[b]=c}return function(g,h,l,k){var n,p,q;l=!0===l;k&&C(k)&&(q=k);if(C(g)){k=g.match(c);if(!k)throw rf(\"ctrlfmt\",g);p=k[1];q=q||k[3];g=b.hasOwnProperty(p)?b[p]:xc(h.$scope,p,!0)||(a?xc(e,p,!0):t);sb(g,p,!0)}if(l)return l=(H(g)?g[g.length-1]:g).prototype,n=Object.create(l||null),q&&f(h,q,n,p||g.name),w(function(){d.invoke(g,\nn,h,p);return n},{instance:n,identifier:q});n=d.instantiate(g,h,p);q&&f(h,q,n,p||g.name);return n}}]}function Ge(){this.$get=[\"$window\",function(b){return A(b.document)}]}function He(){this.$get=[\"$log\",function(b){return function(a,c){b.error.apply(b,arguments)}}]}function Zb(b,a){if(C(b)){var c=b.replace(sf,\"\").trim();if(c){var d=a(\"Content-Type\");(d=d&&0===d.indexOf(Wc))||(d=(d=c.match(tf))&&uf[d[0]].test(c));d&&(b=qc(c))}}return b}function Xc(b){var a=ia(),c,d,e;if(!b)return a;r(b.split(\"\\n\"),\nfunction(b){e=b.indexOf(\":\");c=z(N(b.substr(0,e)));d=N(b.substr(e+1));c&&(a[c]=a[c]?a[c]+\", \"+d:d)});return a}function Yc(b){var a=J(b)?b:t;return function(c){a||(a=Xc(b));return c?(c=a[z(c)],void 0===c&&(c=null),c):a}}function Zc(b,a,c,d){if(G(d))return d(b,a,c);r(d,function(d){b=d(b,a,c)});return b}function Ke(){var b=this.defaults={transformResponse:[Zb],transformRequest:[function(a){return J(a)&&\"[object File]\"!==Ca.call(a)&&\"[object Blob]\"!==Ca.call(a)&&\"[object FormData]\"!==Ca.call(a)?$a(a):\na}],headers:{common:{Accept:\"application/json, text/plain, */*\"},post:sa($b),put:sa($b),patch:sa($b)},xsrfCookieName:\"XSRF-TOKEN\",xsrfHeaderName:\"X-XSRF-TOKEN\"},a=!1;this.useApplyAsync=function(b){return y(b)?(a=!!b,this):a};var c=this.interceptors=[];this.$get=[\"$httpBackend\",\"$browser\",\"$cacheFactory\",\"$rootScope\",\"$q\",\"$injector\",function(d,e,f,g,h,l){function k(a){function c(a){var b=w({},a);b.data=a.data?Zc(a.data,a.headers,a.status,e.transformResponse):a.data;a=a.status;return 200<=a&&300>a?\nb:h.reject(b)}function d(a){var b,c={};r(a,function(a,d){G(a)?(b=a(),null!=b&&(c[d]=b)):c[d]=a});return c}if(!ca.isObject(a))throw R(\"$http\")(\"badreq\",a);var e=w({method:\"get\",transformRequest:b.transformRequest,transformResponse:b.transformResponse},a);e.headers=function(a){var c=b.headers,e=w({},a.headers),f,g,c=w({},c.common,c[z(a.method)]);a:for(f in c){a=z(f);for(g in e)if(z(g)===a)continue a;e[f]=c[f]}return d(e)}(a);e.method=ub(e.method);var f=[function(a){var d=a.headers,e=Zc(a.data,Yc(d),\nt,a.transformRequest);x(e)&&r(d,function(a,b){\"content-type\"===z(b)&&delete d[b]});x(a.withCredentials)&&!x(b.withCredentials)&&(a.withCredentials=b.withCredentials);return n(a,e).then(c,c)},t],g=h.when(e);for(r(u,function(a){(a.request||a.requestError)&&f.unshift(a.request,a.requestError);(a.response||a.responseError)&&f.push(a.response,a.responseError)});f.length;){a=f.shift();var k=f.shift(),g=g.then(a,k)}g.success=function(a){g.then(function(b){a(b.data,b.status,b.headers,e)});return g};g.error=\nfunction(a){g.then(null,function(b){a(b.data,b.status,b.headers,e)});return g};return g}function n(c,f){function l(b,c,d,e){function f(){m(c,b,d,e)}I&&(200<=b&&300>b?I.put(P,[b,c,Xc(d),e]):I.remove(P));a?g.$applyAsync(f):(f(),g.$$phase||g.$apply())}function m(a,b,d,e){b=Math.max(b,0);(200<=b&&300>b?L.resolve:L.reject)({data:a,status:b,headers:Yc(d),config:c,statusText:e})}function n(a){m(a.data,a.status,sa(a.headers()),a.statusText)}function u(){var a=k.pendingRequests.indexOf(c);-1!==a&&k.pendingRequests.splice(a,\n1)}var L=h.defer(),B=L.promise,I,D,S=c.headers,P=p(c.url,c.params);k.pendingRequests.push(c);B.then(u,u);!c.cache&&!b.cache||!1===c.cache||\"GET\"!==c.method&&\"JSONP\"!==c.method||(I=J(c.cache)?c.cache:J(b.cache)?b.cache:q);I&&(D=I.get(P),y(D)?D&&G(D.then)?D.then(n,n):H(D)?m(D[1],D[0],sa(D[2]),D[3]):m(D,200,{},\"OK\"):I.put(P,B));x(D)&&((D=$c(c.url)?e.cookies()[c.xsrfCookieName||b.xsrfCookieName]:t)&&(S[c.xsrfHeaderName||b.xsrfHeaderName]=D),d(c.method,P,f,l,S,c.timeout,c.withCredentials,c.responseType));\nreturn B}function p(a,b){if(!b)return a;var c=[];Ed(b,function(a,b){null===a||x(a)||(H(a)||(a=[a]),r(a,function(a){J(a)&&(a=ga(a)?a.toISOString():$a(a));c.push(Ea(b)+\"=\"+Ea(a))}))});0<c.length&&(a+=(-1==a.indexOf(\"?\")?\"?\":\"&\")+c.join(\"&\"));return a}var q=f(\"$http\"),u=[];r(c,function(a){u.unshift(C(a)?l.get(a):l.invoke(a))});k.pendingRequests=[];(function(a){r(arguments,function(a){k[a]=function(b,c){return k(w(c||{},{method:a,url:b}))}})})(\"get\",\"delete\",\"head\",\"jsonp\");(function(a){r(arguments,function(a){k[a]=\nfunction(b,c,d){return k(w(d||{},{method:a,url:b,data:c}))}})})(\"post\",\"put\",\"patch\");k.defaults=b;return k}]}function vf(){return new Q.XMLHttpRequest}function Le(){this.$get=[\"$browser\",\"$window\",\"$document\",function(b,a,c){return wf(b,vf,b.defer,a.angular.callbacks,c[0])}]}function wf(b,a,c,d,e){function f(a,b,c){var f=e.createElement(\"script\"),n=null;f.type=\"text/javascript\";f.src=a;f.async=!0;n=function(a){f.removeEventListener(\"load\",n,!1);f.removeEventListener(\"error\",n,!1);e.body.removeChild(f);\nf=null;var g=-1,u=\"unknown\";a&&(\"load\"!==a.type||d[b].called||(a={type:\"error\"}),u=a.type,g=\"error\"===a.type?404:200);c&&c(g,u)};f.addEventListener(\"load\",n,!1);f.addEventListener(\"error\",n,!1);e.body.appendChild(f);return n}return function(e,h,l,k,n,p,q,u){function s(){m&&m();F&&F.abort()}function M(a,d,e,f,g){L!==t&&c.cancel(L);m=F=null;a(d,e,f,g);b.$$completeOutstandingRequest(E)}b.$$incOutstandingRequestCount();h=h||b.url();if(\"jsonp\"==z(e)){var v=\"_\"+(d.counter++).toString(36);d[v]=function(a){d[v].data=\na;d[v].called=!0};var m=f(h.replace(\"JSON_CALLBACK\",\"angular.callbacks.\"+v),v,function(a,b){M(k,a,d[v].data,\"\",b);d[v]=E})}else{var F=a();F.open(e,h,!0);r(n,function(a,b){y(a)&&F.setRequestHeader(b,a)});F.onload=function(){var a=F.statusText||\"\",b=\"response\"in F?F.response:F.responseText,c=1223===F.status?204:F.status;0===c&&(c=b?200:\"file\"==Aa(h).protocol?404:0);M(k,c,b,F.getAllResponseHeaders(),a)};e=function(){M(k,-1,null,null,\"\")};F.onerror=e;F.onabort=e;q&&(F.withCredentials=!0);if(u)try{F.responseType=\nu}catch(Z){if(\"json\"!==u)throw Z;}F.send(l||null)}if(0<p)var L=c(s,p);else p&&G(p.then)&&p.then(s)}}function Ie(){var b=\"{{\",a=\"}}\";this.startSymbol=function(a){return a?(b=a,this):b};this.endSymbol=function(b){return b?(a=b,this):a};this.$get=[\"$parse\",\"$exceptionHandler\",\"$sce\",function(c,d,e){function f(a){return\"\\\\\\\\\\\\\"+a}function g(f,g,u,s){function M(c){return c.replace(k,b).replace(n,a)}function v(a){try{var b=a;a=u?e.getTrusted(u,b):e.valueOf(b);var c;if(s&&!y(a))c=a;else if(null==a)c=\"\";\nelse{switch(typeof a){case \"string\":break;case \"number\":a=\"\"+a;break;default:a=$a(a)}c=a}return c}catch(g){c=ac(\"interr\",f,g.toString()),d(c)}}s=!!s;for(var m,F,r=0,L=[],B=[],I=f.length,D=[],S=[];r<I;)if(-1!=(m=f.indexOf(b,r))&&-1!=(F=f.indexOf(a,m+h)))r!==m&&D.push(M(f.substring(r,m))),r=f.substring(m+h,F),L.push(r),B.push(c(r,v)),r=F+l,S.push(D.length),D.push(\"\");else{r!==I&&D.push(M(f.substring(r)));break}if(u&&1<D.length)throw ac(\"noconcat\",f);if(!g||L.length){var P=function(a){for(var b=0,c=\nL.length;b<c;b++){if(s&&x(a[b]))return;D[S[b]]=a[b]}return D.join(\"\")};return w(function(a){var b=0,c=L.length,e=Array(c);try{for(;b<c;b++)e[b]=B[b](a);return P(e)}catch(g){a=ac(\"interr\",f,g.toString()),d(a)}},{exp:f,expressions:L,$$watchDelegate:function(a,b,c){var d;return a.$watchGroup(B,function(c,e){var f=P(c);G(b)&&b.call(this,f,c!==e?d:f,a);d=f},c)}})}}var h=b.length,l=a.length,k=new RegExp(b.replace(/./g,f),\"g\"),n=new RegExp(a.replace(/./g,f),\"g\");g.startSymbol=function(){return b};g.endSymbol=\nfunction(){return a};return g}]}function Je(){this.$get=[\"$rootScope\",\"$window\",\"$q\",\"$$q\",function(b,a,c,d){function e(e,h,l,k){var n=a.setInterval,p=a.clearInterval,q=0,u=y(k)&&!k,s=(u?d:c).defer(),M=s.promise;l=y(l)?l:0;M.then(null,null,e);M.$$intervalId=n(function(){s.notify(q++);0<l&&q>=l&&(s.resolve(q),p(M.$$intervalId),delete f[M.$$intervalId]);u||b.$apply()},h);f[M.$$intervalId]=s;return M}var f={};e.cancel=function(b){return b&&b.$$intervalId in f?(f[b.$$intervalId].reject(\"canceled\"),a.clearInterval(b.$$intervalId),\ndelete f[b.$$intervalId],!0):!1};return e}]}function Rd(){this.$get=function(){return{id:\"en-us\",NUMBER_FORMATS:{DECIMAL_SEP:\".\",GROUP_SEP:\",\",PATTERNS:[{minInt:1,minFrac:0,maxFrac:3,posPre:\"\",posSuf:\"\",negPre:\"-\",negSuf:\"\",gSize:3,lgSize:3},{minInt:1,minFrac:2,maxFrac:2,posPre:\"\\u00a4\",posSuf:\"\",negPre:\"(\\u00a4\",negSuf:\")\",gSize:3,lgSize:3}],CURRENCY_SYM:\"$\"},DATETIME_FORMATS:{MONTH:\"January February March April May June July August September October November December\".split(\" \"),SHORTMONTH:\"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec\".split(\" \"),\nDAY:\"Sunday Monday Tuesday Wednesday Thursday Friday Saturday\".split(\" \"),SHORTDAY:\"Sun Mon Tue Wed Thu Fri Sat\".split(\" \"),AMPMS:[\"AM\",\"PM\"],medium:\"MMM d, y h:mm:ss a\",\"short\":\"M/d/yy h:mm a\",fullDate:\"EEEE, MMMM d, y\",longDate:\"MMMM d, y\",mediumDate:\"MMM d, y\",shortDate:\"M/d/yy\",mediumTime:\"h:mm:ss a\",shortTime:\"h:mm a\",ERANAMES:[\"Before Christ\",\"Anno Domini\"],ERAS:[\"BC\",\"AD\"]},pluralCat:function(b){return 1===b?\"one\":\"other\"}}}}function bc(b){b=b.split(\"/\");for(var a=b.length;a--;)b[a]=qb(b[a]);\nreturn b.join(\"/\")}function ad(b,a){var c=Aa(b);a.$$protocol=c.protocol;a.$$host=c.hostname;a.$$port=aa(c.port)||xf[c.protocol]||null}function bd(b,a){var c=\"/\"!==b.charAt(0);c&&(b=\"/\"+b);var d=Aa(b);a.$$path=decodeURIComponent(c&&\"/\"===d.pathname.charAt(0)?d.pathname.substring(1):d.pathname);a.$$search=sc(d.search);a.$$hash=decodeURIComponent(d.hash);a.$$path&&\"/\"!=a.$$path.charAt(0)&&(a.$$path=\"/\"+a.$$path)}function ya(b,a){if(0===a.indexOf(b))return a.substr(b.length)}function Ga(b){var a=b.indexOf(\"#\");\nreturn-1==a?b:b.substr(0,a)}function Fb(b){return b.replace(/(#.+)|#$/,\"$1\")}function cc(b){return b.substr(0,Ga(b).lastIndexOf(\"/\")+1)}function dc(b,a){this.$$html5=!0;a=a||\"\";var c=cc(b);ad(b,this);this.$$parse=function(a){var b=ya(c,a);if(!C(b))throw Gb(\"ipthprfx\",a,c);bd(b,this);this.$$path||(this.$$path=\"/\");this.$$compose()};this.$$compose=function(){var a=Pb(this.$$search),b=this.$$hash?\"#\"+qb(this.$$hash):\"\";this.$$url=bc(this.$$path)+(a?\"?\"+a:\"\")+b;this.$$absUrl=c+this.$$url.substr(1)};this.$$parseLinkUrl=\nfunction(d,e){if(e&&\"#\"===e[0])return this.hash(e.slice(1)),!0;var f,g;(f=ya(b,d))!==t?(g=f,g=(f=ya(a,f))!==t?c+(ya(\"/\",f)||f):b+g):(f=ya(c,d))!==t?g=c+f:c==d+\"/\"&&(g=c);g&&this.$$parse(g);return!!g}}function ec(b,a){var c=cc(b);ad(b,this);this.$$parse=function(d){d=ya(b,d)||ya(c,d);var e;\"#\"===d.charAt(0)?(e=ya(a,d),x(e)&&(e=d)):e=this.$$html5?d:\"\";bd(e,this);d=this.$$path;var f=/^\\/[A-Z]:(\\/.*)/;0===e.indexOf(b)&&(e=e.replace(b,\"\"));f.exec(e)||(d=(e=f.exec(d))?e[1]:d);this.$$path=d;this.$$compose()};\nthis.$$compose=function(){var c=Pb(this.$$search),e=this.$$hash?\"#\"+qb(this.$$hash):\"\";this.$$url=bc(this.$$path)+(c?\"?\"+c:\"\")+e;this.$$absUrl=b+(this.$$url?a+this.$$url:\"\")};this.$$parseLinkUrl=function(a,c){return Ga(b)==Ga(a)?(this.$$parse(a),!0):!1}}function cd(b,a){this.$$html5=!0;ec.apply(this,arguments);var c=cc(b);this.$$parseLinkUrl=function(d,e){if(e&&\"#\"===e[0])return this.hash(e.slice(1)),!0;var f,g;b==Ga(d)?f=d:(g=ya(c,d))?f=b+a+g:c===d+\"/\"&&(f=c);f&&this.$$parse(f);return!!f};this.$$compose=\nfunction(){var c=Pb(this.$$search),e=this.$$hash?\"#\"+qb(this.$$hash):\"\";this.$$url=bc(this.$$path)+(c?\"?\"+c:\"\")+e;this.$$absUrl=b+a+this.$$url}}function Hb(b){return function(){return this[b]}}function dd(b,a){return function(c){if(x(c))return this[b];this[b]=a(c);this.$$compose();return this}}function Me(){var b=\"\",a={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(a){return y(a)?(b=a,this):b};this.html5Mode=function(b){return Wa(b)?(a.enabled=b,this):J(b)?(Wa(b.enabled)&&(a.enabled=\nb.enabled),Wa(b.requireBase)&&(a.requireBase=b.requireBase),Wa(b.rewriteLinks)&&(a.rewriteLinks=b.rewriteLinks),this):a};this.$get=[\"$rootScope\",\"$browser\",\"$sniffer\",\"$rootElement\",\"$window\",function(c,d,e,f,g){function h(a,b,c){var e=k.url(),f=k.$$state;try{d.url(a,b,c),k.$$state=d.state()}catch(g){throw k.url(e),k.$$state=f,g;}}function l(a,b){c.$broadcast(\"$locationChangeSuccess\",k.absUrl(),a,k.$$state,b)}var k,n;n=d.baseHref();var p=d.url(),q;if(a.enabled){if(!n&&a.requireBase)throw Gb(\"nobase\");\nq=p.substring(0,p.indexOf(\"/\",p.indexOf(\"//\")+2))+(n||\"/\");n=e.history?dc:cd}else q=Ga(p),n=ec;k=new n(q,\"#\"+b);k.$$parseLinkUrl(p,p);k.$$state=d.state();var u=/^\\s*(javascript|mailto):/i;f.on(\"click\",function(b){if(a.rewriteLinks&&!b.ctrlKey&&!b.metaKey&&!b.shiftKey&&2!=b.which&&2!=b.button){for(var e=A(b.target);\"a\"!==va(e[0]);)if(e[0]===f[0]||!(e=e.parent())[0])return;var h=e.prop(\"href\"),l=e.attr(\"href\")||e.attr(\"xlink:href\");J(h)&&\"[object SVGAnimatedString]\"===h.toString()&&(h=Aa(h.animVal).href);\nu.test(h)||!h||e.attr(\"target\")||b.isDefaultPrevented()||!k.$$parseLinkUrl(h,l)||(b.preventDefault(),k.absUrl()!=d.url()&&(c.$apply(),g.angular[\"ff-684208-preventDefault\"]=!0))}});Fb(k.absUrl())!=Fb(p)&&d.url(k.absUrl(),!0);var s=!0;d.onUrlChange(function(a,b){c.$evalAsync(function(){var d=k.absUrl(),e=k.$$state,f;k.$$parse(a);k.$$state=b;f=c.$broadcast(\"$locationChangeStart\",a,d,b,e).defaultPrevented;k.absUrl()===a&&(f?(k.$$parse(d),k.$$state=e,h(d,!1,e)):(s=!1,l(d,e)))});c.$$phase||c.$digest()});\nc.$watch(function(){var a=Fb(d.url()),b=Fb(k.absUrl()),f=d.state(),g=k.$$replace,q=a!==b||k.$$html5&&e.history&&f!==k.$$state;if(s||q)s=!1,c.$evalAsync(function(){var b=k.absUrl(),d=c.$broadcast(\"$locationChangeStart\",b,a,k.$$state,f).defaultPrevented;k.absUrl()===b&&(d?(k.$$parse(a),k.$$state=f):(q&&h(b,g,f===k.$$state?null:k.$$state),l(a,f)))});k.$$replace=!1});return k}]}function Ne(){var b=!0,a=this;this.debugEnabled=function(a){return y(a)?(b=a,this):b};this.$get=[\"$window\",function(c){function d(a){a instanceof\nError&&(a.stack?a=a.message&&-1===a.stack.indexOf(a.message)?\"Error: \"+a.message+\"\\n\"+a.stack:a.stack:a.sourceURL&&(a=a.message+\"\\n\"+a.sourceURL+\":\"+a.line));return a}function e(a){var b=c.console||{},e=b[a]||b.log||E;a=!1;try{a=!!e.apply}catch(l){}return a?function(){var a=[];r(arguments,function(b){a.push(d(b))});return e.apply(b,a)}:function(a,b){e(a,null==b?\"\":b)}}return{log:e(\"log\"),info:e(\"info\"),warn:e(\"warn\"),error:e(\"error\"),debug:function(){var c=e(\"debug\");return function(){b&&c.apply(a,\narguments)}}()}}]}function ua(b,a){if(\"__defineGetter__\"===b||\"__defineSetter__\"===b||\"__lookupGetter__\"===b||\"__lookupSetter__\"===b||\"__proto__\"===b)throw na(\"isecfld\",a);return b}function oa(b,a){if(b){if(b.constructor===b)throw na(\"isecfn\",a);if(b.window===b)throw na(\"isecwindow\",a);if(b.children&&(b.nodeName||b.prop&&b.attr&&b.find))throw na(\"isecdom\",a);if(b===Object)throw na(\"isecobj\",a);}return b}function fc(b){return b.constant}function hb(b,a,c,d,e){oa(b,e);oa(a,e);c=c.split(\".\");for(var f,\ng=0;1<c.length;g++){f=ua(c.shift(),e);var h=0===g&&a&&a[f]||b[f];h||(h={},b[f]=h);b=oa(h,e)}f=ua(c.shift(),e);oa(b[f],e);return b[f]=d}function Pa(b){return\"constructor\"==b}function ed(b,a,c,d,e,f,g){ua(b,f);ua(a,f);ua(c,f);ua(d,f);ua(e,f);var h=function(a){return oa(a,f)},l=g||Pa(b)?h:ra,k=g||Pa(a)?h:ra,n=g||Pa(c)?h:ra,p=g||Pa(d)?h:ra,q=g||Pa(e)?h:ra;return function(f,g){var h=g&&g.hasOwnProperty(b)?g:f;if(null==h)return h;h=l(h[b]);if(!a)return h;if(null==h)return t;h=k(h[a]);if(!c)return h;if(null==\nh)return t;h=n(h[c]);if(!d)return h;if(null==h)return t;h=p(h[d]);return e?null==h?t:h=q(h[e]):h}}function yf(b,a){return function(c,d){return b(c,d,oa,a)}}function zf(b,a,c){var d=a.expensiveChecks,e=d?Af:Bf,f=e[b];if(f)return f;var g=b.split(\".\"),h=g.length;if(a.csp)f=6>h?ed(g[0],g[1],g[2],g[3],g[4],c,d):function(a,b){var e=0,f;do f=ed(g[e++],g[e++],g[e++],g[e++],g[e++],c,d)(a,b),b=t,a=f;while(e<h);return f};else{var l=\"\";d&&(l+=\"s = eso(s, fe);\\nl = eso(l, fe);\\n\");var k=d;r(g,function(a,b){ua(a,\nc);var e=(b?\"s\":'((l&&l.hasOwnProperty(\"'+a+'\"))?l:s)')+\".\"+a;if(d||Pa(a))e=\"eso(\"+e+\", fe)\",k=!0;l+=\"if(s == null) return undefined;\\ns=\"+e+\";\\n\"});l+=\"return s;\";a=new Function(\"s\",\"l\",\"eso\",\"fe\",l);a.toString=ea(l);k&&(a=yf(a,c));f=a}f.sharedGetter=!0;f.assign=function(a,c,d){return hb(a,d,b,c,b)};return e[b]=f}function gc(b){return G(b.valueOf)?b.valueOf():Cf.call(b)}function Oe(){var b=ia(),a=ia();this.$get=[\"$filter\",\"$sniffer\",function(c,d){function e(a){var b=a;a.sharedGetter&&(b=function(b,\nc){return a(b,c)},b.literal=a.literal,b.constant=a.constant,b.assign=a.assign);return b}function f(a,b){for(var c=0,d=a.length;c<d;c++){var e=a[c];e.constant||(e.inputs?f(e.inputs,b):-1===b.indexOf(e)&&b.push(e))}return b}function g(a,b){return null==a||null==b?a===b:\"object\"===typeof a&&(a=gc(a),\"object\"===typeof a)?!1:a===b||a!==a&&b!==b}function h(a,b,c,d){var e=d.$$inputs||(d.$$inputs=f(d.inputs,[])),h;if(1===e.length){var k=g,e=e[0];return a.$watch(function(a){var b=e(a);g(b,k)||(h=d(a),k=b&&\ngc(b));return h},b,c)}for(var l=[],q=0,p=e.length;q<p;q++)l[q]=g;return a.$watch(function(a){for(var b=!1,c=0,f=e.length;c<f;c++){var k=e[c](a);if(b||(b=!g(k,l[c])))l[c]=k&&gc(k)}b&&(h=d(a));return h},b,c)}function l(a,b,c,d){var e,f;return e=a.$watch(function(a){return d(a)},function(a,c,d){f=a;G(b)&&b.apply(this,arguments);y(a)&&d.$$postDigest(function(){y(f)&&e()})},c)}function k(a,b,c,d){function e(a){var b=!0;r(a,function(a){y(a)||(b=!1)});return b}var f,g;return f=a.$watch(function(a){return d(a)},\nfunction(a,c,d){g=a;G(b)&&b.call(this,a,c,d);e(a)&&d.$$postDigest(function(){e(g)&&f()})},c)}function n(a,b,c,d){var e;return e=a.$watch(function(a){return d(a)},function(a,c,d){G(b)&&b.apply(this,arguments);e()},c)}function p(a,b){if(!b)return a;var c=a.$$watchDelegate,c=c!==k&&c!==l?function(c,d){var e=a(c,d);return b(e,c,d)}:function(c,d){var e=a(c,d),f=b(e,c,d);return y(e)?f:e};a.$$watchDelegate&&a.$$watchDelegate!==h?c.$$watchDelegate=a.$$watchDelegate:b.$stateful||(c.$$watchDelegate=h,c.inputs=\n[a]);return c}var q={csp:d.csp,expensiveChecks:!1},u={csp:d.csp,expensiveChecks:!0};return function(d,f,g){var m,r,t;switch(typeof d){case \"string\":t=d=d.trim();var L=g?a:b;m=L[t];m||(\":\"===d.charAt(0)&&\":\"===d.charAt(1)&&(r=!0,d=d.substring(2)),g=g?u:q,m=new hc(g),m=(new ib(m,c,g)).parse(d),m.constant?m.$$watchDelegate=n:r?(m=e(m),m.$$watchDelegate=m.literal?k:l):m.inputs&&(m.$$watchDelegate=h),L[t]=m);return p(m,f);case \"function\":return p(d,f);default:return p(E,f)}}}]}function Qe(){this.$get=\n[\"$rootScope\",\"$exceptionHandler\",function(b,a){return fd(function(a){b.$evalAsync(a)},a)}]}function Re(){this.$get=[\"$browser\",\"$exceptionHandler\",function(b,a){return fd(function(a){b.defer(a)},a)}]}function fd(b,a){function c(a,b,c){function d(b){return function(c){e||(e=!0,b.call(a,c))}}var e=!1;return[d(b),d(c)]}function d(){this.$$state={status:0}}function e(a,b){return function(c){b.call(a,c)}}function f(c){!c.processScheduled&&c.pending&&(c.processScheduled=!0,b(function(){var b,d,e;e=c.pending;\nc.processScheduled=!1;c.pending=t;for(var f=0,g=e.length;f<g;++f){d=e[f][0];b=e[f][c.status];try{G(b)?d.resolve(b(c.value)):1===c.status?d.resolve(c.value):d.reject(c.value)}catch(h){d.reject(h),a(h)}}}))}function g(){this.promise=new d;this.resolve=e(this,this.resolve);this.reject=e(this,this.reject);this.notify=e(this,this.notify)}var h=R(\"$q\",TypeError);d.prototype={then:function(a,b,c){var d=new g;this.$$state.pending=this.$$state.pending||[];this.$$state.pending.push([d,a,b,c]);0<this.$$state.status&&\nf(this.$$state);return d.promise},\"catch\":function(a){return this.then(null,a)},\"finally\":function(a,b){return this.then(function(b){return k(b,!0,a)},function(b){return k(b,!1,a)},b)}};g.prototype={resolve:function(a){this.promise.$$state.status||(a===this.promise?this.$$reject(h(\"qcycle\",a)):this.$$resolve(a))},$$resolve:function(b){var d,e;e=c(this,this.$$resolve,this.$$reject);try{if(J(b)||G(b))d=b&&b.then;G(d)?(this.promise.$$state.status=-1,d.call(b,e[0],e[1],this.notify)):(this.promise.$$state.value=\nb,this.promise.$$state.status=1,f(this.promise.$$state))}catch(g){e[1](g),a(g)}},reject:function(a){this.promise.$$state.status||this.$$reject(a)},$$reject:function(a){this.promise.$$state.value=a;this.promise.$$state.status=2;f(this.promise.$$state)},notify:function(c){var d=this.promise.$$state.pending;0>=this.promise.$$state.status&&d&&d.length&&b(function(){for(var b,e,f=0,g=d.length;f<g;f++){e=d[f][0];b=d[f][3];try{e.notify(G(b)?b(c):c)}catch(h){a(h)}}})}};var l=function(a,b){var c=new g;b?c.resolve(a):\nc.reject(a);return c.promise},k=function(a,b,c){var d=null;try{G(c)&&(d=c())}catch(e){return l(e,!1)}return d&&G(d.then)?d.then(function(){return l(a,b)},function(a){return l(a,!1)}):l(a,b)},n=function(a,b,c,d){var e=new g;e.resolve(a);return e.promise.then(b,c,d)},p=function u(a){if(!G(a))throw h(\"norslvr\",a);if(!(this instanceof u))return new u(a);var b=new g;a(function(a){b.resolve(a)},function(a){b.reject(a)});return b.promise};p.defer=function(){return new g};p.reject=function(a){var b=new g;\nb.reject(a);return b.promise};p.when=n;p.all=function(a){var b=new g,c=0,d=H(a)?[]:{};r(a,function(a,e){c++;n(a).then(function(a){d.hasOwnProperty(e)||(d[e]=a,--c||b.resolve(d))},function(a){d.hasOwnProperty(e)||b.reject(a)})});0===c&&b.resolve(d);return b.promise};return p}function $e(){this.$get=[\"$window\",\"$timeout\",function(b,a){var c=b.requestAnimationFrame||b.webkitRequestAnimationFrame,d=b.cancelAnimationFrame||b.webkitCancelAnimationFrame||b.webkitCancelRequestAnimationFrame,e=!!c,f=e?function(a){var b=\nc(a);return function(){d(b)}}:function(b){var c=a(b,16.66,!1);return function(){a.cancel(c)}};f.supported=e;return f}]}function Pe(){function b(a){function b(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null;this.$$listeners={};this.$$listenerCount={};this.$$watchersCount=0;this.$id=++ob;this.$$ChildScope=null}b.prototype=a;return b}var a=10,c=R(\"$rootScope\"),d=null,e=null;this.digestTtl=function(b){arguments.length&&(a=b);return a};this.$get=[\"$injector\",\"$exceptionHandler\",\n\"$parse\",\"$browser\",function(f,g,h,l){function k(a){a.currentScope.$$destroyed=!0}function n(){this.$id=++ob;this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null;this.$root=this;this.$$destroyed=!1;this.$$listeners={};this.$$listenerCount={};this.$$isolateBindings=null}function p(a){if(v.$$phase)throw c(\"inprog\",v.$$phase);v.$$phase=a}function q(a,b,c){do a.$$listenerCount[c]-=b,0===a.$$listenerCount[c]&&delete a.$$listenerCount[c];\nwhile(a=a.$parent)}function u(){}function s(){for(;t.length;)try{t.shift()()}catch(a){g(a)}e=null}function M(){null===e&&(e=l.defer(function(){v.$apply(s)}))}n.prototype={constructor:n,$new:function(a,c){var d;c=c||this;a?(d=new n,d.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=b(this)),d=new this.$$ChildScope);d.$parent=c;d.$$prevSibling=c.$$childTail;c.$$childHead?(c.$$childTail.$$nextSibling=d,c.$$childTail=d):c.$$childHead=c.$$childTail=d;(a||c!=this)&&d.$on(\"$destroy\",k);return d},\n$watch:function(a,b,c){var e=h(a);if(e.$$watchDelegate)return e.$$watchDelegate(this,b,c,e);var f=this.$$watchers,g={fn:b,last:u,get:e,exp:a,eq:!!c};d=null;G(b)||(g.fn=E);f||(f=this.$$watchers=[]);f.unshift(g);return function(){Xa(f,g);d=null}},$watchGroup:function(a,b){function c(){h=!1;k?(k=!1,b(e,e,g)):b(e,d,g)}var d=Array(a.length),e=Array(a.length),f=[],g=this,h=!1,k=!0;if(!a.length){var l=!0;g.$evalAsync(function(){l&&b(e,e,g)});return function(){l=!1}}if(1===a.length)return this.$watch(a[0],\nfunction(a,c,f){e[0]=a;d[0]=c;b(e,a===c?e:d,f)});r(a,function(a,b){var k=g.$watch(a,function(a,f){e[b]=a;d[b]=f;h||(h=!0,g.$evalAsync(c))});f.push(k)});return function(){for(;f.length;)f.shift()()}},$watchCollection:function(a,b){function c(a){e=a;var b,d,g,h;if(!x(e)){if(J(e))if(Sa(e))for(f!==p&&(f=p,u=f.length=0,l++),a=e.length,u!==a&&(l++,f.length=u=a),b=0;b<a;b++)h=f[b],g=e[b],d=h!==h&&g!==g,d||h===g||(l++,f[b]=g);else{f!==n&&(f=n={},u=0,l++);a=0;for(b in e)e.hasOwnProperty(b)&&(a++,g=e[b],h=\nf[b],b in f?(d=h!==h&&g!==g,d||h===g||(l++,f[b]=g)):(u++,f[b]=g,l++));if(u>a)for(b in l++,f)e.hasOwnProperty(b)||(u--,delete f[b])}else f!==e&&(f=e,l++);return l}}c.$stateful=!0;var d=this,e,f,g,k=1<b.length,l=0,q=h(a,c),p=[],n={},m=!0,u=0;return this.$watch(q,function(){m?(m=!1,b(e,e,d)):b(e,g,d);if(k)if(J(e))if(Sa(e)){g=Array(e.length);for(var a=0;a<e.length;a++)g[a]=e[a]}else for(a in g={},e)tc.call(e,a)&&(g[a]=e[a]);else g=e})},$digest:function(){var b,f,h,k,q,n,r=a,t,O=[],M,y;p(\"$digest\");l.$$checkUrlChange();\nthis===v&&null!==e&&(l.defer.cancel(e),s());d=null;do{n=!1;for(t=this;m.length;){try{y=m.shift(),y.scope.$eval(y.expression,y.locals)}catch(w){g(w)}d=null}a:do{if(k=t.$$watchers)for(q=k.length;q--;)try{if(b=k[q])if((f=b.get(t))!==(h=b.last)&&!(b.eq?ha(f,h):\"number\"===typeof f&&\"number\"===typeof h&&isNaN(f)&&isNaN(h)))n=!0,d=b,b.last=b.eq?Da(f,null):f,b.fn(f,h===u?f:h,t),5>r&&(M=4-r,O[M]||(O[M]=[]),O[M].push({msg:G(b.exp)?\"fn: \"+(b.exp.name||b.exp.toString()):b.exp,newVal:f,oldVal:h}));else if(b===\nd){n=!1;break a}}catch(A){g(A)}if(!(k=t.$$childHead||t!==this&&t.$$nextSibling))for(;t!==this&&!(k=t.$$nextSibling);)t=t.$parent}while(t=k);if((n||m.length)&&!r--)throw v.$$phase=null,c(\"infdig\",a,O);}while(n||m.length);for(v.$$phase=null;F.length;)try{F.shift()()}catch(x){g(x)}},$destroy:function(){if(!this.$$destroyed){var a=this.$parent;this.$broadcast(\"$destroy\");this.$$destroyed=!0;if(this!==v){for(var b in this.$$listenerCount)q(this,this.$$listenerCount[b],b);a.$$childHead==this&&(a.$$childHead=\nthis.$$nextSibling);a.$$childTail==this&&(a.$$childTail=this.$$prevSibling);this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling);this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling);this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=E;this.$on=this.$watch=this.$watchGroup=function(){return E};this.$$listeners={};this.$parent=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=this.$root=this.$$watchers=null}}},$eval:function(a,\nb){return h(a)(this,b)},$evalAsync:function(a,b){v.$$phase||m.length||l.defer(function(){m.length&&v.$digest()});m.push({scope:this,expression:a,locals:b})},$$postDigest:function(a){F.push(a)},$apply:function(a){try{return p(\"$apply\"),this.$eval(a)}catch(b){g(b)}finally{v.$$phase=null;try{v.$digest()}catch(c){throw g(c),c;}}},$applyAsync:function(a){function b(){c.$eval(a)}var c=this;a&&t.push(b);M()},$on:function(a,b){var c=this.$$listeners[a];c||(this.$$listeners[a]=c=[]);c.push(b);var d=this;do d.$$listenerCount[a]||\n(d.$$listenerCount[a]=0),d.$$listenerCount[a]++;while(d=d.$parent);var e=this;return function(){var d=c.indexOf(b);-1!==d&&(c[d]=null,q(e,1,a))}},$emit:function(a,b){var c=[],d,e=this,f=!1,h={name:a,targetScope:e,stopPropagation:function(){f=!0},preventDefault:function(){h.defaultPrevented=!0},defaultPrevented:!1},k=Ya([h],arguments,1),l,q;do{d=e.$$listeners[a]||c;h.currentScope=e;l=0;for(q=d.length;l<q;l++)if(d[l])try{d[l].apply(null,k)}catch(p){g(p)}else d.splice(l,1),l--,q--;if(f)return h.currentScope=\nnull,h;e=e.$parent}while(e);h.currentScope=null;return h},$broadcast:function(a,b){var c=this,d=this,e={name:a,targetScope:this,preventDefault:function(){e.defaultPrevented=!0},defaultPrevented:!1};if(!this.$$listenerCount[a])return e;for(var f=Ya([e],arguments,1),h,l;c=d;){e.currentScope=c;d=c.$$listeners[a]||[];h=0;for(l=d.length;h<l;h++)if(d[h])try{d[h].apply(null,f)}catch(k){g(k)}else d.splice(h,1),h--,l--;if(!(d=c.$$listenerCount[a]&&c.$$childHead||c!==this&&c.$$nextSibling))for(;c!==this&&!(d=\nc.$$nextSibling);)c=c.$parent}e.currentScope=null;return e}};var v=new n,m=v.$$asyncQueue=[],F=v.$$postDigestQueue=[],t=v.$$applyAsyncQueue=[];return v}]}function Sd(){var b=/^\\s*(https?|ftp|mailto|tel|file):/,a=/^\\s*((https?|ftp|file|blob):|data:image\\/)/;this.aHrefSanitizationWhitelist=function(a){return y(a)?(b=a,this):b};this.imgSrcSanitizationWhitelist=function(b){return y(b)?(a=b,this):a};this.$get=function(){return function(c,d){var e=d?a:b,f;f=Aa(c).href;return\"\"===f||f.match(e)?c:\"unsafe:\"+\nf}}}function Df(b){if(\"self\"===b)return b;if(C(b)){if(-1<b.indexOf(\"***\"))throw Ba(\"iwcard\",b);b=gd(b).replace(\"\\\\*\\\\*\",\".*\").replace(\"\\\\*\",\"[^:/.?&;]*\");return new RegExp(\"^\"+b+\"$\")}if(Ua(b))return new RegExp(\"^\"+b.source+\"$\");throw Ba(\"imatcher\");}function hd(b){var a=[];y(b)&&r(b,function(b){a.push(Df(b))});return a}function Te(){this.SCE_CONTEXTS=pa;var b=[\"self\"],a=[];this.resourceUrlWhitelist=function(a){arguments.length&&(b=hd(a));return b};this.resourceUrlBlacklist=function(b){arguments.length&&\n(a=hd(b));return a};this.$get=[\"$injector\",function(c){function d(a,b){return\"self\"===a?$c(b):!!a.exec(b.href)}function e(a){var b=function(a){this.$$unwrapTrustedValue=function(){return a}};a&&(b.prototype=new a);b.prototype.valueOf=function(){return this.$$unwrapTrustedValue()};b.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()};return b}var f=function(a){throw Ba(\"unsafe\");};c.has(\"$sanitize\")&&(f=c.get(\"$sanitize\"));var g=e(),h={};h[pa.HTML]=e(g);h[pa.CSS]=e(g);h[pa.URL]=\ne(g);h[pa.JS]=e(g);h[pa.RESOURCE_URL]=e(h[pa.URL]);return{trustAs:function(a,b){var c=h.hasOwnProperty(a)?h[a]:null;if(!c)throw Ba(\"icontext\",a,b);if(null===b||b===t||\"\"===b)return b;if(\"string\"!==typeof b)throw Ba(\"itype\",a);return new c(b)},getTrusted:function(c,e){if(null===e||e===t||\"\"===e)return e;var g=h.hasOwnProperty(c)?h[c]:null;if(g&&e instanceof g)return e.$$unwrapTrustedValue();if(c===pa.RESOURCE_URL){var g=Aa(e.toString()),p,q,u=!1;p=0;for(q=b.length;p<q;p++)if(d(b[p],g)){u=!0;break}if(u)for(p=\n0,q=a.length;p<q;p++)if(d(a[p],g)){u=!1;break}if(u)return e;throw Ba(\"insecurl\",e.toString());}if(c===pa.HTML)return f(e);throw Ba(\"unsafe\");},valueOf:function(a){return a instanceof g?a.$$unwrapTrustedValue():a}}}]}function Se(){var b=!0;this.enabled=function(a){arguments.length&&(b=!!a);return b};this.$get=[\"$parse\",\"$sceDelegate\",function(a,c){if(b&&8>Qa)throw Ba(\"iequirks\");var d=sa(pa);d.isEnabled=function(){return b};d.trustAs=c.trustAs;d.getTrusted=c.getTrusted;d.valueOf=c.valueOf;b||(d.trustAs=\nd.getTrusted=function(a,b){return b},d.valueOf=ra);d.parseAs=function(b,c){var e=a(c);return e.literal&&e.constant?e:a(c,function(a){return d.getTrusted(b,a)})};var e=d.parseAs,f=d.getTrusted,g=d.trustAs;r(pa,function(a,b){var c=z(b);d[db(\"parse_as_\"+c)]=function(b){return e(a,b)};d[db(\"get_trusted_\"+c)]=function(b){return f(a,b)};d[db(\"trust_as_\"+c)]=function(b){return g(a,b)}});return d}]}function Ue(){this.$get=[\"$window\",\"$document\",function(b,a){var c={},d=aa((/android (\\d+)/.exec(z((b.navigator||\n{}).userAgent))||[])[1]),e=/Boxee/i.test((b.navigator||{}).userAgent),f=a[0]||{},g,h=/^(Moz|webkit|ms)(?=[A-Z])/,l=f.body&&f.body.style,k=!1,n=!1;if(l){for(var p in l)if(k=h.exec(p)){g=k[0];g=g.substr(0,1).toUpperCase()+g.substr(1);break}g||(g=\"WebkitOpacity\"in l&&\"webkit\");k=!!(\"transition\"in l||g+\"Transition\"in l);n=!!(\"animation\"in l||g+\"Animation\"in l);!d||k&&n||(k=C(f.body.style.webkitTransition),n=C(f.body.style.webkitAnimation))}return{history:!(!b.history||!b.history.pushState||4>d||e),hasEvent:function(a){if(\"input\"===\na&&11>=Qa)return!1;if(x(c[a])){var b=f.createElement(\"div\");c[a]=\"on\"+a in b}return c[a]},csp:bb(),vendorPrefix:g,transitions:k,animations:n,android:d}}]}function We(){this.$get=[\"$templateCache\",\"$http\",\"$q\",function(b,a,c){function d(e,f){d.totalPendingRequests++;var g=a.defaults&&a.defaults.transformResponse;H(g)?g=g.filter(function(a){return a!==Zb}):g===Zb&&(g=null);return a.get(e,{cache:b,transformResponse:g})[\"finally\"](function(){d.totalPendingRequests--}).then(function(a){return a.data},\nfunction(a){if(!f)throw la(\"tpload\",e);return c.reject(a)})}d.totalPendingRequests=0;return d}]}function Xe(){this.$get=[\"$rootScope\",\"$browser\",\"$location\",function(b,a,c){return{findBindings:function(a,b,c){a=a.getElementsByClassName(\"ng-binding\");var g=[];r(a,function(a){var d=ca.element(a).data(\"$binding\");d&&r(d,function(d){c?(new RegExp(\"(^|\\\\s)\"+gd(b)+\"(\\\\s|\\\\||$)\")).test(d)&&g.push(a):-1!=d.indexOf(b)&&g.push(a)})});return g},findModels:function(a,b,c){for(var g=[\"ng-\",\"data-ng-\",\"ng\\\\:\"],\nh=0;h<g.length;++h){var l=a.querySelectorAll(\"[\"+g[h]+\"model\"+(c?\"=\":\"*=\")+'\"'+b+'\"]');if(l.length)return l}},getLocation:function(){return c.url()},setLocation:function(a){a!==c.url()&&(c.url(a),b.$digest())},whenStable:function(b){a.notifyWhenNoOutstandingRequests(b)}}}]}function Ye(){this.$get=[\"$rootScope\",\"$browser\",\"$q\",\"$$q\",\"$exceptionHandler\",function(b,a,c,d,e){function f(f,l,k){var n=y(k)&&!k,p=(n?d:c).defer(),q=p.promise;l=a.defer(function(){try{p.resolve(f())}catch(a){p.reject(a),e(a)}finally{delete g[q.$$timeoutId]}n||\nb.$apply()},l);q.$$timeoutId=l;g[l]=p;return q}var g={};f.cancel=function(b){return b&&b.$$timeoutId in g?(g[b.$$timeoutId].reject(\"canceled\"),delete g[b.$$timeoutId],a.defer.cancel(b.$$timeoutId)):!1};return f}]}function Aa(b){Qa&&($.setAttribute(\"href\",b),b=$.href);$.setAttribute(\"href\",b);return{href:$.href,protocol:$.protocol?$.protocol.replace(/:$/,\"\"):\"\",host:$.host,search:$.search?$.search.replace(/^\\?/,\"\"):\"\",hash:$.hash?$.hash.replace(/^#/,\"\"):\"\",hostname:$.hostname,port:$.port,pathname:\"/\"===\n$.pathname.charAt(0)?$.pathname:\"/\"+$.pathname}}function $c(b){b=C(b)?Aa(b):b;return b.protocol===id.protocol&&b.host===id.host}function Ze(){this.$get=ea(Q)}function Fc(b){function a(c,d){if(J(c)){var e={};r(c,function(b,c){e[c]=a(c,b)});return e}return b.factory(c+\"Filter\",d)}this.register=a;this.$get=[\"$injector\",function(a){return function(b){return a.get(b+\"Filter\")}}];a(\"currency\",jd);a(\"date\",kd);a(\"filter\",Ef);a(\"json\",Ff);a(\"limitTo\",Gf);a(\"lowercase\",Hf);a(\"number\",ld);a(\"orderBy\",md);a(\"uppercase\",\nIf)}function Ef(){return function(b,a,c){if(!H(b))return b;var d;switch(typeof a){case \"function\":break;case \"boolean\":case \"number\":case \"string\":d=!0;case \"object\":a=Jf(a,c,d);break;default:return b}return b.filter(a)}}function Jf(b,a,c){var d=J(b)&&\"$\"in b;!0===a?a=ha:G(a)||(a=function(a,b){if(J(a)||J(b))return!1;a=z(\"\"+a);b=z(\"\"+b);return-1!==a.indexOf(b)});return function(e){return d&&!J(e)?Ha(e,b.$,a,!1):Ha(e,b,a,c)}}function Ha(b,a,c,d,e){var f=null!==b?typeof b:\"null\",g=null!==a?typeof a:\n\"null\";if(\"string\"===g&&\"!\"===a.charAt(0))return!Ha(b,a.substring(1),c,d);if(H(b))return b.some(function(b){return Ha(b,a,c,d)});switch(f){case \"object\":var h;if(d){for(h in b)if(\"$\"!==h.charAt(0)&&Ha(b[h],a,c,!0))return!0;return e?!1:Ha(b,a,c,!1)}if(\"object\"===g){for(h in a)if(e=a[h],!G(e)&&!x(e)&&(f=\"$\"===h,!Ha(f?b:b[h],e,c,f,f)))return!1;return!0}return c(b,a);case \"function\":return!1;default:return c(b,a)}}function jd(b){var a=b.NUMBER_FORMATS;return function(b,d,e){x(d)&&(d=a.CURRENCY_SYM);x(e)&&\n(e=a.PATTERNS[1].maxFrac);return null==b?b:nd(b,a.PATTERNS[1],a.GROUP_SEP,a.DECIMAL_SEP,e).replace(/\\u00A4/g,d)}}function ld(b){var a=b.NUMBER_FORMATS;return function(b,d){return null==b?b:nd(b,a.PATTERNS[0],a.GROUP_SEP,a.DECIMAL_SEP,d)}}function nd(b,a,c,d,e){if(!isFinite(b)||J(b))return\"\";var f=0>b;b=Math.abs(b);var g=b+\"\",h=\"\",l=[],k=!1;if(-1!==g.indexOf(\"e\")){var n=g.match(/([\\d\\.]+)e(-?)(\\d+)/);n&&\"-\"==n[2]&&n[3]>e+1?b=0:(h=g,k=!0)}if(k)0<e&&1>b&&(h=b.toFixed(e),b=parseFloat(h));else{g=(g.split(od)[1]||\n\"\").length;x(e)&&(e=Math.min(Math.max(a.minFrac,g),a.maxFrac));b=+(Math.round(+(b.toString()+\"e\"+e)).toString()+\"e\"+-e);var g=(\"\"+b).split(od),k=g[0],g=g[1]||\"\",p=0,q=a.lgSize,u=a.gSize;if(k.length>=q+u)for(p=k.length-q,n=0;n<p;n++)0===(p-n)%u&&0!==n&&(h+=c),h+=k.charAt(n);for(n=p;n<k.length;n++)0===(k.length-n)%q&&0!==n&&(h+=c),h+=k.charAt(n);for(;g.length<e;)g+=\"0\";e&&\"0\"!==e&&(h+=d+g.substr(0,e))}0===b&&(f=!1);l.push(f?a.negPre:a.posPre,h,f?a.negSuf:a.posSuf);return l.join(\"\")}function Ib(b,a,\nc){var d=\"\";0>b&&(d=\"-\",b=-b);for(b=\"\"+b;b.length<a;)b=\"0\"+b;c&&(b=b.substr(b.length-a));return d+b}function U(b,a,c,d){c=c||0;return function(e){e=e[\"get\"+b]();if(0<c||e>-c)e+=c;0===e&&-12==c&&(e=12);return Ib(e,a,d)}}function Jb(b,a){return function(c,d){var e=c[\"get\"+b](),f=ub(a?\"SHORT\"+b:b);return d[f][e]}}function pd(b){var a=(new Date(b,0,1)).getDay();return new Date(b,0,(4>=a?5:12)-a)}function qd(b){return function(a){var c=pd(a.getFullYear());a=+new Date(a.getFullYear(),a.getMonth(),a.getDate()+\n(4-a.getDay()))-+c;a=1+Math.round(a/6048E5);return Ib(a,b)}}function ic(b,a){return 0>=b.getFullYear()?a.ERAS[0]:a.ERAS[1]}function kd(b){function a(a){var b;if(b=a.match(c)){a=new Date(0);var f=0,g=0,h=b[8]?a.setUTCFullYear:a.setFullYear,l=b[8]?a.setUTCHours:a.setHours;b[9]&&(f=aa(b[9]+b[10]),g=aa(b[9]+b[11]));h.call(a,aa(b[1]),aa(b[2])-1,aa(b[3]));f=aa(b[4]||0)-f;g=aa(b[5]||0)-g;h=aa(b[6]||0);b=Math.round(1E3*parseFloat(\"0.\"+(b[7]||0)));l.call(a,f,g,h,b)}return a}var c=/^(\\d{4})-?(\\d\\d)-?(\\d\\d)(?:T(\\d\\d)(?::?(\\d\\d)(?::?(\\d\\d)(?:\\.(\\d+))?)?)?(Z|([+-])(\\d\\d):?(\\d\\d))?)?$/;\nreturn function(c,e,f){var g=\"\",h=[],l,k;e=e||\"mediumDate\";e=b.DATETIME_FORMATS[e]||e;C(c)&&(c=Kf.test(c)?aa(c):a(c));Y(c)&&(c=new Date(c));if(!ga(c))return c;for(;e;)(k=Lf.exec(e))?(h=Ya(h,k,1),e=h.pop()):(h.push(e),e=null);f&&\"UTC\"===f&&(c=new Date(c.getTime()),c.setMinutes(c.getMinutes()+c.getTimezoneOffset()));r(h,function(a){l=Mf[a];g+=l?l(c,b.DATETIME_FORMATS):a.replace(/(^'|'$)/g,\"\").replace(/''/g,\"'\")});return g}}function Ff(){return function(b,a){x(a)&&(a=2);return $a(b,a)}}function Gf(){return function(b,\na){Y(b)&&(b=b.toString());return H(b)||C(b)?(a=Infinity===Math.abs(Number(a))?Number(a):aa(a))?0<a?b.slice(0,a):b.slice(a):C(b)?\"\":[]:b}}function md(b){return function(a,c,d){function e(a,b){return b?function(b,c){return a(c,b)}:a}function f(a){switch(typeof a){case \"number\":case \"boolean\":case \"string\":return!0;default:return!1}}function g(a){return null===a?\"null\":\"function\"===typeof a.valueOf&&(a=a.valueOf(),f(a))||\"function\"===typeof a.toString&&(a=a.toString(),f(a))?a:\"\"}function h(a,b){var c=\ntypeof a,d=typeof b;c===d&&\"object\"===c&&(a=g(a),b=g(b));return c===d?(\"string\"===c&&(a=a.toLowerCase(),b=b.toLowerCase()),a===b?0:a<b?-1:1):c<d?-1:1}if(!Sa(a))return a;c=H(c)?c:[c];0===c.length&&(c=[\"+\"]);c=c.map(function(a){var c=!1,d=a||ra;if(C(a)){if(\"+\"==a.charAt(0)||\"-\"==a.charAt(0))c=\"-\"==a.charAt(0),a=a.substring(1);if(\"\"===a)return e(h,c);d=b(a);if(d.constant){var f=d();return e(function(a,b){return h(a[f],b[f])},c)}}return e(function(a,b){return h(d(a),d(b))},c)});return Za.call(a).sort(e(function(a,\nb){for(var d=0;d<c.length;d++){var e=c[d](a,b);if(0!==e)return e}return 0},d))}}function Ia(b){G(b)&&(b={link:b});b.restrict=b.restrict||\"AC\";return ea(b)}function rd(b,a,c,d,e){var f=this,g=[],h=f.$$parentForm=b.parent().controller(\"form\")||Kb;f.$error={};f.$$success={};f.$pending=t;f.$name=e(a.name||a.ngForm||\"\")(c);f.$dirty=!1;f.$pristine=!0;f.$valid=!0;f.$invalid=!1;f.$submitted=!1;h.$addControl(f);f.$rollbackViewValue=function(){r(g,function(a){a.$rollbackViewValue()})};f.$commitViewValue=function(){r(g,\nfunction(a){a.$commitViewValue()})};f.$addControl=function(a){La(a.$name,\"input\");g.push(a);a.$name&&(f[a.$name]=a)};f.$$renameControl=function(a,b){var c=a.$name;f[c]===a&&delete f[c];f[b]=a;a.$name=b};f.$removeControl=function(a){a.$name&&f[a.$name]===a&&delete f[a.$name];r(f.$pending,function(b,c){f.$setValidity(c,null,a)});r(f.$error,function(b,c){f.$setValidity(c,null,a)});r(f.$$success,function(b,c){f.$setValidity(c,null,a)});Xa(g,a)};sd({ctrl:this,$element:b,set:function(a,b,c){var d=a[b];\nd?-1===d.indexOf(c)&&d.push(c):a[b]=[c]},unset:function(a,b,c){var d=a[b];d&&(Xa(d,c),0===d.length&&delete a[b])},parentForm:h,$animate:d});f.$setDirty=function(){d.removeClass(b,Ra);d.addClass(b,Lb);f.$dirty=!0;f.$pristine=!1;h.$setDirty()};f.$setPristine=function(){d.setClass(b,Ra,Lb+\" ng-submitted\");f.$dirty=!1;f.$pristine=!0;f.$submitted=!1;r(g,function(a){a.$setPristine()})};f.$setUntouched=function(){r(g,function(a){a.$setUntouched()})};f.$setSubmitted=function(){d.addClass(b,\"ng-submitted\");\nf.$submitted=!0;h.$setSubmitted()}}function jc(b){b.$formatters.push(function(a){return b.$isEmpty(a)?a:a.toString()})}function jb(b,a,c,d,e,f){var g=z(a[0].type);if(!e.android){var h=!1;a.on(\"compositionstart\",function(a){h=!0});a.on(\"compositionend\",function(){h=!1;l()})}var l=function(b){k&&(f.defer.cancel(k),k=null);if(!h){var e=a.val();b=b&&b.type;\"password\"===g||c.ngTrim&&\"false\"===c.ngTrim||(e=N(e));(d.$viewValue!==e||\"\"===e&&d.$$hasNativeValidators)&&d.$setViewValue(e,b)}};if(e.hasEvent(\"input\"))a.on(\"input\",\nl);else{var k,n=function(a,b,c){k||(k=f.defer(function(){k=null;b&&b.value===c||l(a)}))};a.on(\"keydown\",function(a){var b=a.keyCode;91===b||15<b&&19>b||37<=b&&40>=b||n(a,this,this.value)});if(e.hasEvent(\"paste\"))a.on(\"paste cut\",n)}a.on(\"change\",l);d.$render=function(){a.val(d.$isEmpty(d.$viewValue)?\"\":d.$viewValue)}}function Mb(b,a){return function(c,d){var e,f;if(ga(c))return c;if(C(c)){'\"'==c.charAt(0)&&'\"'==c.charAt(c.length-1)&&(c=c.substring(1,c.length-1));if(Nf.test(c))return new Date(c);b.lastIndex=\n0;if(e=b.exec(c))return e.shift(),f=d?{yyyy:d.getFullYear(),MM:d.getMonth()+1,dd:d.getDate(),HH:d.getHours(),mm:d.getMinutes(),ss:d.getSeconds(),sss:d.getMilliseconds()/1E3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},r(e,function(b,c){c<a.length&&(f[a[c]]=+b)}),new Date(f.yyyy,f.MM-1,f.dd,f.HH,f.mm,f.ss||0,1E3*f.sss||0)}return NaN}}function kb(b,a,c,d){return function(e,f,g,h,l,k,n){function p(a){return a&&!(a.getTime&&a.getTime()!==a.getTime())}function q(a){return y(a)?ga(a)?a:c(a):t}td(e,f,g,h);\njb(e,f,g,h,l,k);var u=h&&h.$options&&h.$options.timezone,s;h.$$parserName=b;h.$parsers.push(function(b){return h.$isEmpty(b)?null:a.test(b)?(b=c(b,s),\"UTC\"===u&&b.setMinutes(b.getMinutes()-b.getTimezoneOffset()),b):t});h.$formatters.push(function(a){if(a&&!ga(a))throw Nb(\"datefmt\",a);if(p(a)){if((s=a)&&\"UTC\"===u){var b=6E4*s.getTimezoneOffset();s=new Date(s.getTime()+b)}return n(\"date\")(a,d,u)}s=null;return\"\"});if(y(g.min)||g.ngMin){var r;h.$validators.min=function(a){return!p(a)||x(r)||c(a)>=r};\ng.$observe(\"min\",function(a){r=q(a);h.$validate()})}if(y(g.max)||g.ngMax){var v;h.$validators.max=function(a){return!p(a)||x(v)||c(a)<=v};g.$observe(\"max\",function(a){v=q(a);h.$validate()})}}}function td(b,a,c,d){(d.$$hasNativeValidators=J(a[0].validity))&&d.$parsers.push(function(b){var c=a.prop(\"validity\")||{};return c.badInput&&!c.typeMismatch?t:b})}function ud(b,a,c,d,e){if(y(d)){b=b(d);if(!b.constant)throw R(\"ngModel\")(\"constexpr\",c,d);return b(a)}return e}function kc(b,a){b=\"ngClass\"+b;return[\"$animate\",\nfunction(c){function d(a,b){var c=[],d=0;a:for(;d<a.length;d++){for(var e=a[d],n=0;n<b.length;n++)if(e==b[n])continue a;c.push(e)}return c}function e(a){if(!H(a)){if(C(a))return a.split(\" \");if(J(a)){var b=[];r(a,function(a,c){a&&(b=b.concat(c.split(\" \")))});return b}}return a}return{restrict:\"AC\",link:function(f,g,h){function l(a,b){var c=g.data(\"$classCounts\")||{},d=[];r(a,function(a){if(0<b||c[a])c[a]=(c[a]||0)+b,c[a]===+(0<b)&&d.push(a)});g.data(\"$classCounts\",c);return d.join(\" \")}function k(b){if(!0===\na||f.$index%2===a){var k=e(b||[]);if(!n){var u=l(k,1);h.$addClass(u)}else if(!ha(b,n)){var s=e(n),u=d(k,s),k=d(s,k),u=l(u,1),k=l(k,-1);u&&u.length&&c.addClass(g,u);k&&k.length&&c.removeClass(g,k)}}n=sa(b)}var n;f.$watch(h[b],k,!0);h.$observe(\"class\",function(a){k(f.$eval(h[b]))});\"ngClass\"!==b&&f.$watch(\"$index\",function(c,d){var g=c&1;if(g!==(d&1)){var k=e(f.$eval(h[b]));g===a?(g=l(k,1),h.$addClass(g)):(g=l(k,-1),h.$removeClass(g))}})}}}]}function sd(b){function a(a,b){b&&!f[a]?(k.addClass(e,a),\nf[a]=!0):!b&&f[a]&&(k.removeClass(e,a),f[a]=!1)}function c(b,c){b=b?\"-\"+vc(b,\"-\"):\"\";a(lb+b,!0===c);a(vd+b,!1===c)}var d=b.ctrl,e=b.$element,f={},g=b.set,h=b.unset,l=b.parentForm,k=b.$animate;f[vd]=!(f[lb]=e.hasClass(lb));d.$setValidity=function(b,e,f){e===t?(d.$pending||(d.$pending={}),g(d.$pending,b,f)):(d.$pending&&h(d.$pending,b,f),wd(d.$pending)&&(d.$pending=t));Wa(e)?e?(h(d.$error,b,f),g(d.$$success,b,f)):(g(d.$error,b,f),h(d.$$success,b,f)):(h(d.$error,b,f),h(d.$$success,b,f));d.$pending?(a(xd,\n!0),d.$valid=d.$invalid=t,c(\"\",null)):(a(xd,!1),d.$valid=wd(d.$error),d.$invalid=!d.$valid,c(\"\",d.$valid));e=d.$pending&&d.$pending[b]?t:d.$error[b]?!1:d.$$success[b]?!0:null;c(b,e);l.$setValidity(b,e,d)}}function wd(b){if(b)for(var a in b)return!1;return!0}var Of=/^\\/(.+)\\/([a-z]*)$/,z=function(b){return C(b)?b.toLowerCase():b},tc=Object.prototype.hasOwnProperty,ub=function(b){return C(b)?b.toUpperCase():b},Qa,A,ta,Za=[].slice,qf=[].splice,Pf=[].push,Ca=Object.prototype.toString,Ja=R(\"ng\"),ca=Q.angular||\n(Q.angular={}),cb,ob=0;Qa=W.documentMode;E.$inject=[];ra.$inject=[];var H=Array.isArray,N=function(b){return C(b)?b.trim():b},gd=function(b){return b.replace(/([-()\\[\\]{}+?*.$\\^|,:#<!\\\\])/g,\"\\\\$1\").replace(/\\x08/g,\"\\\\x08\")},bb=function(){if(y(bb.isActive_))return bb.isActive_;var b=!(!W.querySelector(\"[ng-csp]\")&&!W.querySelector(\"[data-ng-csp]\"));if(!b)try{new Function(\"\")}catch(a){b=!0}return bb.isActive_=b},rb=[\"ng-\",\"data-ng-\",\"ng:\",\"x-ng-\"],Md=/[A-Z]/g,wc=!1,Qb,qa=1,pb=3,Qd={full:\"1.3.15\",major:1,\nminor:3,dot:15,codeName:\"locality-filtration\"};T.expando=\"ng339\";var zb=T.cache={},hf=1;T._data=function(b){return this.cache[b[this.expando]]||{}};var cf=/([\\:\\-\\_]+(.))/g,df=/^moz([A-Z])/,Qf={mouseleave:\"mouseout\",mouseenter:\"mouseover\"},Tb=R(\"jqLite\"),gf=/^<(\\w+)\\s*\\/?>(?:<\\/\\1>|)$/,Sb=/<|&#?\\w+;/,ef=/<([\\w:]+)/,ff=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\\w:]+)[^>]*)\\/>/gi,ja={option:[1,'<select multiple=\"multiple\">',\"</select>\"],thead:[1,\"<table>\",\"</table>\"],col:[2,\"<table><colgroup>\",\n\"</colgroup></table>\"],tr:[2,\"<table><tbody>\",\"</tbody></table>\"],td:[3,\"<table><tbody><tr>\",\"</tr></tbody></table>\"],_default:[0,\"\",\"\"]};ja.optgroup=ja.option;ja.tbody=ja.tfoot=ja.colgroup=ja.caption=ja.thead;ja.th=ja.td;var Ka=T.prototype={ready:function(b){function a(){c||(c=!0,b())}var c=!1;\"complete\"===W.readyState?setTimeout(a):(this.on(\"DOMContentLoaded\",a),T(Q).on(\"load\",a))},toString:function(){var b=[];r(this,function(a){b.push(\"\"+a)});return\"[\"+b.join(\", \")+\"]\"},eq:function(b){return 0<=\nb?A(this[b]):A(this[this.length+b])},length:0,push:Pf,sort:[].sort,splice:[].splice},Eb={};r(\"multiple selected checked disabled readOnly required open\".split(\" \"),function(b){Eb[z(b)]=b});var Oc={};r(\"input select option textarea button form details\".split(\" \"),function(b){Oc[b]=!0});var Pc={ngMinlength:\"minlength\",ngMaxlength:\"maxlength\",ngMin:\"min\",ngMax:\"max\",ngPattern:\"pattern\"};r({data:Vb,removeData:xb},function(b,a){T[a]=b});r({data:Vb,inheritedData:Db,scope:function(b){return A.data(b,\"$scope\")||\nDb(b.parentNode||b,[\"$isolateScope\",\"$scope\"])},isolateScope:function(b){return A.data(b,\"$isolateScope\")||A.data(b,\"$isolateScopeNoTemplate\")},controller:Kc,injector:function(b){return Db(b,\"$injector\")},removeAttr:function(b,a){b.removeAttribute(a)},hasClass:Ab,css:function(b,a,c){a=db(a);if(y(c))b.style[a]=c;else return b.style[a]},attr:function(b,a,c){var d=z(a);if(Eb[d])if(y(c))c?(b[a]=!0,b.setAttribute(a,d)):(b[a]=!1,b.removeAttribute(d));else return b[a]||(b.attributes.getNamedItem(a)||E).specified?\nd:t;else if(y(c))b.setAttribute(a,c);else if(b.getAttribute)return b=b.getAttribute(a,2),null===b?t:b},prop:function(b,a,c){if(y(c))b[a]=c;else return b[a]},text:function(){function b(a,b){if(x(b)){var d=a.nodeType;return d===qa||d===pb?a.textContent:\"\"}a.textContent=b}b.$dv=\"\";return b}(),val:function(b,a){if(x(a)){if(b.multiple&&\"select\"===va(b)){var c=[];r(b.options,function(a){a.selected&&c.push(a.value||a.text)});return 0===c.length?null:c}return b.value}b.value=a},html:function(b,a){if(x(a))return b.innerHTML;\nwb(b,!0);b.innerHTML=a},empty:Lc},function(b,a){T.prototype[a]=function(a,d){var e,f,g=this.length;if(b!==Lc&&(2==b.length&&b!==Ab&&b!==Kc?a:d)===t){if(J(a)){for(e=0;e<g;e++)if(b===Vb)b(this[e],a);else for(f in a)b(this[e],f,a[f]);return this}e=b.$dv;g=e===t?Math.min(g,1):g;for(f=0;f<g;f++){var h=b(this[f],a,d);e=e?e+h:h}return e}for(e=0;e<g;e++)b(this[e],a,d);return this}});r({removeData:xb,on:function a(c,d,e,f){if(y(f))throw Tb(\"onargs\");if(Gc(c)){var g=yb(c,!0);f=g.events;var h=g.handle;h||(h=\ng.handle=lf(c,f));for(var g=0<=d.indexOf(\" \")?d.split(\" \"):[d],l=g.length;l--;){d=g[l];var k=f[d];k||(f[d]=[],\"mouseenter\"===d||\"mouseleave\"===d?a(c,Qf[d],function(a){var c=a.relatedTarget;c&&(c===this||this.contains(c))||h(a,d)}):\"$destroy\"!==d&&c.addEventListener(d,h,!1),k=f[d]);k.push(e)}}},off:Jc,one:function(a,c,d){a=A(a);a.on(c,function f(){a.off(c,d);a.off(c,f)});a.on(c,d)},replaceWith:function(a,c){var d,e=a.parentNode;wb(a);r(new T(c),function(c){d?e.insertBefore(c,d.nextSibling):e.replaceChild(c,\na);d=c})},children:function(a){var c=[];r(a.childNodes,function(a){a.nodeType===qa&&c.push(a)});return c},contents:function(a){return a.contentDocument||a.childNodes||[]},append:function(a,c){var d=a.nodeType;if(d===qa||11===d){c=new T(c);for(var d=0,e=c.length;d<e;d++)a.appendChild(c[d])}},prepend:function(a,c){if(a.nodeType===qa){var d=a.firstChild;r(new T(c),function(c){a.insertBefore(c,d)})}},wrap:function(a,c){c=A(c).eq(0).clone()[0];var d=a.parentNode;d&&d.replaceChild(c,a);c.appendChild(a)},\nremove:Mc,detach:function(a){Mc(a,!0)},after:function(a,c){var d=a,e=a.parentNode;c=new T(c);for(var f=0,g=c.length;f<g;f++){var h=c[f];e.insertBefore(h,d.nextSibling);d=h}},addClass:Cb,removeClass:Bb,toggleClass:function(a,c,d){c&&r(c.split(\" \"),function(c){var f=d;x(f)&&(f=!Ab(a,c));(f?Cb:Bb)(a,c)})},parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},next:function(a){return a.nextElementSibling},find:function(a,c){return a.getElementsByTagName?a.getElementsByTagName(c):[]},clone:Ub,\ntriggerHandler:function(a,c,d){var e,f,g=c.type||c,h=yb(a);if(h=(h=h&&h.events)&&h[g])e={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return!0===this.defaultPrevented},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return!0===this.immediatePropagationStopped},stopPropagation:E,type:g,target:a},c.type&&(e=w(e,c)),c=sa(h),f=d?[e].concat(d):[e],r(c,function(c){e.isImmediatePropagationStopped()||c.apply(a,\nf)})}},function(a,c){T.prototype[c]=function(c,e,f){for(var g,h=0,l=this.length;h<l;h++)x(g)?(g=a(this[h],c,e,f),y(g)&&(g=A(g))):Ic(g,a(this[h],c,e,f));return y(g)?g:this};T.prototype.bind=T.prototype.on;T.prototype.unbind=T.prototype.off});eb.prototype={put:function(a,c){this[Ma(a,this.nextUid)]=c},get:function(a){return this[Ma(a,this.nextUid)]},remove:function(a){var c=this[a=Ma(a,this.nextUid)];delete this[a];return c}};var Rc=/^function\\s*[^\\(]*\\(\\s*([^\\)]*)\\)/m,Rf=/,/,Sf=/^\\s*(_?)(\\S+?)\\1\\s*$/,\nQc=/((\\/\\/.*$)|(\\/\\*[\\s\\S]*?\\*\\/))/mg,Fa=R(\"$injector\");ab.$$annotate=function(a,c,d){var e;if(\"function\"===typeof a){if(!(e=a.$inject)){e=[];if(a.length){if(c)throw C(d)&&d||(d=a.name||mf(a)),Fa(\"strictdi\",d);c=a.toString().replace(Qc,\"\");c=c.match(Rc);r(c[1].split(Rf),function(a){a.replace(Sf,function(a,c,d){e.push(d)})})}a.$inject=e}}else H(a)?(c=a.length-1,sb(a[c],\"fn\"),e=a.slice(0,c)):sb(a,\"fn\",!0);return e};var Tf=R(\"$animate\"),Ce=[\"$provide\",function(a){this.$$selectors={};this.register=function(c,\nd){var e=c+\"-animation\";if(c&&\".\"!=c.charAt(0))throw Tf(\"notcsel\",c);this.$$selectors[c.substr(1)]=e;a.factory(e,d)};this.classNameFilter=function(a){1===arguments.length&&(this.$$classNameFilter=a instanceof RegExp?a:null);return this.$$classNameFilter};this.$get=[\"$$q\",\"$$asyncCallback\",\"$rootScope\",function(a,d,e){function f(d){var f,g=a.defer();g.promise.$$cancelFn=function(){f&&f()};e.$$postDigest(function(){f=d(function(){g.resolve()})});return g.promise}function g(a,c){var d=[],e=[],f=ia();\nr((a.attr(\"class\")||\"\").split(/\\s+/),function(a){f[a]=!0});r(c,function(a,c){var g=f[c];!1===a&&g?e.push(c):!0!==a||g||d.push(c)});return 0<d.length+e.length&&[d.length?d:null,e.length?e:null]}function h(a,c,d){for(var e=0,f=c.length;e<f;++e)a[c[e]]=d}function l(){n||(n=a.defer(),d(function(){n.resolve();n=null}));return n.promise}function k(a,c){if(ca.isObject(c)){var d=w(c.from||{},c.to||{});a.css(d)}}var n;return{animate:function(a,c,d){k(a,{from:c,to:d});return l()},enter:function(a,c,d,e){k(a,\ne);d?d.after(a):c.prepend(a);return l()},leave:function(a,c){k(a,c);a.remove();return l()},move:function(a,c,d,e){return this.enter(a,c,d,e)},addClass:function(a,c,d){return this.setClass(a,c,[],d)},$$addClassImmediately:function(a,c,d){a=A(a);c=C(c)?c:H(c)?c.join(\" \"):\"\";r(a,function(a){Cb(a,c)});k(a,d);return l()},removeClass:function(a,c,d){return this.setClass(a,[],c,d)},$$removeClassImmediately:function(a,c,d){a=A(a);c=C(c)?c:H(c)?c.join(\" \"):\"\";r(a,function(a){Bb(a,c)});k(a,d);return l()},setClass:function(a,\nc,d,e){var k=this,l=!1;a=A(a);var m=a.data(\"$$animateClasses\");m?e&&m.options&&(m.options=ca.extend(m.options||{},e)):(m={classes:{},options:e},l=!0);e=m.classes;c=H(c)?c:c.split(\" \");d=H(d)?d:d.split(\" \");h(e,c,!0);h(e,d,!1);l&&(m.promise=f(function(c){var d=a.data(\"$$animateClasses\");a.removeData(\"$$animateClasses\");if(d){var e=g(a,d.classes);e&&k.$$setClassImmediately(a,e[0],e[1],d.options)}c()}),a.data(\"$$animateClasses\",m));return m.promise},$$setClassImmediately:function(a,c,d,e){c&&this.$$addClassImmediately(a,\nc);d&&this.$$removeClassImmediately(a,d);k(a,e);return l()},enabled:E,cancel:E}}]}],la=R(\"$compile\");yc.$inject=[\"$provide\",\"$$sanitizeUriProvider\"];var Sc=/^((?:x|data)[\\:\\-_])/i,rf=R(\"$controller\"),Wc=\"application/json\",$b={\"Content-Type\":Wc+\";charset=utf-8\"},tf=/^\\[|^\\{(?!\\{)/,uf={\"[\":/]$/,\"{\":/}$/},sf=/^\\)\\]\\}',?\\n/,ac=R(\"$interpolate\"),Uf=/^([^\\?#]*)(\\?([^#]*))?(#(.*))?$/,xf={http:80,https:443,ftp:21},Gb=R(\"$location\"),Vf={$$html5:!1,$$replace:!1,absUrl:Hb(\"$$absUrl\"),url:function(a){if(x(a))return this.$$url;\nvar c=Uf.exec(a);(c[1]||\"\"===a)&&this.path(decodeURIComponent(c[1]));(c[2]||c[1]||\"\"===a)&&this.search(c[3]||\"\");this.hash(c[5]||\"\");return this},protocol:Hb(\"$$protocol\"),host:Hb(\"$$host\"),port:Hb(\"$$port\"),path:dd(\"$$path\",function(a){a=null!==a?a.toString():\"\";return\"/\"==a.charAt(0)?a:\"/\"+a}),search:function(a,c){switch(arguments.length){case 0:return this.$$search;case 1:if(C(a)||Y(a))a=a.toString(),this.$$search=sc(a);else if(J(a))a=Da(a,{}),r(a,function(c,e){null==c&&delete a[e]}),this.$$search=\na;else throw Gb(\"isrcharg\");break;default:x(c)||null===c?delete this.$$search[a]:this.$$search[a]=c}this.$$compose();return this},hash:dd(\"$$hash\",function(a){return null!==a?a.toString():\"\"}),replace:function(){this.$$replace=!0;return this}};r([cd,ec,dc],function(a){a.prototype=Object.create(Vf);a.prototype.state=function(c){if(!arguments.length)return this.$$state;if(a!==dc||!this.$$html5)throw Gb(\"nostate\");this.$$state=x(c)?null:c;return this}});var na=R(\"$parse\"),Wf=Function.prototype.call,\nXf=Function.prototype.apply,Yf=Function.prototype.bind,mb=ia();r({\"null\":function(){return null},\"true\":function(){return!0},\"false\":function(){return!1},undefined:function(){}},function(a,c){a.constant=a.literal=a.sharedGetter=!0;mb[c]=a});mb[\"this\"]=function(a){return a};mb[\"this\"].sharedGetter=!0;var nb=w(ia(),{\"+\":function(a,c,d,e){d=d(a,c);e=e(a,c);return y(d)?y(e)?d+e:d:y(e)?e:t},\"-\":function(a,c,d,e){d=d(a,c);e=e(a,c);return(y(d)?d:0)-(y(e)?e:0)},\"*\":function(a,c,d,e){return d(a,c)*e(a,c)},\n\"/\":function(a,c,d,e){return d(a,c)/e(a,c)},\"%\":function(a,c,d,e){return d(a,c)%e(a,c)},\"===\":function(a,c,d,e){return d(a,c)===e(a,c)},\"!==\":function(a,c,d,e){return d(a,c)!==e(a,c)},\"==\":function(a,c,d,e){return d(a,c)==e(a,c)},\"!=\":function(a,c,d,e){return d(a,c)!=e(a,c)},\"<\":function(a,c,d,e){return d(a,c)<e(a,c)},\">\":function(a,c,d,e){return d(a,c)>e(a,c)},\"<=\":function(a,c,d,e){return d(a,c)<=e(a,c)},\">=\":function(a,c,d,e){return d(a,c)>=e(a,c)},\"&&\":function(a,c,d,e){return d(a,c)&&e(a,c)},\n\"||\":function(a,c,d,e){return d(a,c)||e(a,c)},\"!\":function(a,c,d){return!d(a,c)},\"=\":!0,\"|\":!0}),Zf={n:\"\\n\",f:\"\\f\",r:\"\\r\",t:\"\\t\",v:\"\\v\",\"'\":\"'\",'\"':'\"'},hc=function(a){this.options=a};hc.prototype={constructor:hc,lex:function(a){this.text=a;this.index=0;for(this.tokens=[];this.index<this.text.length;)if(a=this.text.charAt(this.index),'\"'===a||\"'\"===a)this.readString(a);else if(this.isNumber(a)||\".\"===a&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(a))this.readIdent();else if(this.is(a,\n\"(){}[].,;:?\"))this.tokens.push({index:this.index,text:a}),this.index++;else if(this.isWhitespace(a))this.index++;else{var c=a+this.peek(),d=c+this.peek(2),e=nb[c],f=nb[d];nb[a]||e||f?(a=f?d:e?c:a,this.tokens.push({index:this.index,text:a,operator:!0}),this.index+=a.length):this.throwError(\"Unexpected next character \",this.index,this.index+1)}return this.tokens},is:function(a,c){return-1!==c.indexOf(a)},peek:function(a){a=a||1;return this.index+a<this.text.length?this.text.charAt(this.index+a):!1},\nisNumber:function(a){return\"0\"<=a&&\"9\">=a&&\"string\"===typeof a},isWhitespace:function(a){return\" \"===a||\"\\r\"===a||\"\\t\"===a||\"\\n\"===a||\"\\v\"===a||\"\\u00a0\"===a},isIdent:function(a){return\"a\"<=a&&\"z\">=a||\"A\"<=a&&\"Z\">=a||\"_\"===a||\"$\"===a},isExpOperator:function(a){return\"-\"===a||\"+\"===a||this.isNumber(a)},throwError:function(a,c,d){d=d||this.index;c=y(c)?\"s \"+c+\"-\"+this.index+\" [\"+this.text.substring(c,d)+\"]\":\" \"+d;throw na(\"lexerr\",a,c,this.text);},readNumber:function(){for(var a=\"\",c=this.index;this.index<\nthis.text.length;){var d=z(this.text.charAt(this.index));if(\".\"==d||this.isNumber(d))a+=d;else{var e=this.peek();if(\"e\"==d&&this.isExpOperator(e))a+=d;else if(this.isExpOperator(d)&&e&&this.isNumber(e)&&\"e\"==a.charAt(a.length-1))a+=d;else if(!this.isExpOperator(d)||e&&this.isNumber(e)||\"e\"!=a.charAt(a.length-1))break;else this.throwError(\"Invalid exponent\")}this.index++}this.tokens.push({index:c,text:a,constant:!0,value:Number(a)})},readIdent:function(){for(var a=this.index;this.index<this.text.length;){var c=\nthis.text.charAt(this.index);if(!this.isIdent(c)&&!this.isNumber(c))break;this.index++}this.tokens.push({index:a,text:this.text.slice(a,this.index),identifier:!0})},readString:function(a){var c=this.index;this.index++;for(var d=\"\",e=a,f=!1;this.index<this.text.length;){var g=this.text.charAt(this.index),e=e+g;if(f)\"u\"===g?(f=this.text.substring(this.index+1,this.index+5),f.match(/[\\da-f]{4}/i)||this.throwError(\"Invalid unicode escape [\\\\u\"+f+\"]\"),this.index+=4,d+=String.fromCharCode(parseInt(f,16))):\nd+=Zf[g]||g,f=!1;else if(\"\\\\\"===g)f=!0;else{if(g===a){this.index++;this.tokens.push({index:c,text:e,constant:!0,value:d});return}d+=g}this.index++}this.throwError(\"Unterminated quote\",c)}};var ib=function(a,c,d){this.lexer=a;this.$filter=c;this.options=d};ib.ZERO=w(function(){return 0},{sharedGetter:!0,constant:!0});ib.prototype={constructor:ib,parse:function(a){this.text=a;this.tokens=this.lexer.lex(a);a=this.statements();0!==this.tokens.length&&this.throwError(\"is an unexpected token\",this.tokens[0]);\na.literal=!!a.literal;a.constant=!!a.constant;return a},primary:function(){var a;this.expect(\"(\")?(a=this.filterChain(),this.consume(\")\")):this.expect(\"[\")?a=this.arrayDeclaration():this.expect(\"{\")?a=this.object():this.peek().identifier&&this.peek().text in mb?a=mb[this.consume().text]:this.peek().identifier?a=this.identifier():this.peek().constant?a=this.constant():this.throwError(\"not a primary expression\",this.peek());for(var c,d;c=this.expect(\"(\",\"[\",\".\");)\"(\"===c.text?(a=this.functionCall(a,\nd),d=null):\"[\"===c.text?(d=a,a=this.objectIndex(a)):\".\"===c.text?(d=a,a=this.fieldAccess(a)):this.throwError(\"IMPOSSIBLE\");return a},throwError:function(a,c){throw na(\"syntax\",c.text,a,c.index+1,this.text,this.text.substring(c.index));},peekToken:function(){if(0===this.tokens.length)throw na(\"ueoe\",this.text);return this.tokens[0]},peek:function(a,c,d,e){return this.peekAhead(0,a,c,d,e)},peekAhead:function(a,c,d,e,f){if(this.tokens.length>a){a=this.tokens[a];var g=a.text;if(g===c||g===d||g===e||g===\nf||!(c||d||e||f))return a}return!1},expect:function(a,c,d,e){return(a=this.peek(a,c,d,e))?(this.tokens.shift(),a):!1},consume:function(a){if(0===this.tokens.length)throw na(\"ueoe\",this.text);var c=this.expect(a);c||this.throwError(\"is unexpected, expecting [\"+a+\"]\",this.peek());return c},unaryFn:function(a,c){var d=nb[a];return w(function(a,f){return d(a,f,c)},{constant:c.constant,inputs:[c]})},binaryFn:function(a,c,d,e){var f=nb[c];return w(function(c,e){return f(c,e,a,d)},{constant:a.constant&&\nd.constant,inputs:!e&&[a,d]})},identifier:function(){for(var a=this.consume().text;this.peek(\".\")&&this.peekAhead(1).identifier&&!this.peekAhead(2,\"(\");)a+=this.consume().text+this.consume().text;return zf(a,this.options,this.text)},constant:function(){var a=this.consume().value;return w(function(){return a},{constant:!0,literal:!0})},statements:function(){for(var a=[];;)if(0<this.tokens.length&&!this.peek(\"}\",\")\",\";\",\"]\")&&a.push(this.filterChain()),!this.expect(\";\"))return 1===a.length?a[0]:function(c,\nd){for(var e,f=0,g=a.length;f<g;f++)e=a[f](c,d);return e}},filterChain:function(){for(var a=this.expression();this.expect(\"|\");)a=this.filter(a);return a},filter:function(a){var c=this.$filter(this.consume().text),d,e;if(this.peek(\":\"))for(d=[],e=[];this.expect(\":\");)d.push(this.expression());var f=[a].concat(d||[]);return w(function(f,h){var l=a(f,h);if(e){e[0]=l;for(l=d.length;l--;)e[l+1]=d[l](f,h);return c.apply(t,e)}return c(l)},{constant:!c.$stateful&&f.every(fc),inputs:!c.$stateful&&f})},expression:function(){return this.assignment()},\nassignment:function(){var a=this.ternary(),c,d;return(d=this.expect(\"=\"))?(a.assign||this.throwError(\"implies assignment but [\"+this.text.substring(0,d.index)+\"] can not be assigned to\",d),c=this.ternary(),w(function(d,f){return a.assign(d,c(d,f),f)},{inputs:[a,c]})):a},ternary:function(){var a=this.logicalOR(),c;if(this.expect(\"?\")&&(c=this.assignment(),this.consume(\":\"))){var d=this.assignment();return w(function(e,f){return a(e,f)?c(e,f):d(e,f)},{constant:a.constant&&c.constant&&d.constant})}return a},\nlogicalOR:function(){for(var a=this.logicalAND(),c;c=this.expect(\"||\");)a=this.binaryFn(a,c.text,this.logicalAND(),!0);return a},logicalAND:function(){for(var a=this.equality(),c;c=this.expect(\"&&\");)a=this.binaryFn(a,c.text,this.equality(),!0);return a},equality:function(){for(var a=this.relational(),c;c=this.expect(\"==\",\"!=\",\"===\",\"!==\");)a=this.binaryFn(a,c.text,this.relational());return a},relational:function(){for(var a=this.additive(),c;c=this.expect(\"<\",\">\",\"<=\",\">=\");)a=this.binaryFn(a,c.text,\nthis.additive());return a},additive:function(){for(var a=this.multiplicative(),c;c=this.expect(\"+\",\"-\");)a=this.binaryFn(a,c.text,this.multiplicative());return a},multiplicative:function(){for(var a=this.unary(),c;c=this.expect(\"*\",\"/\",\"%\");)a=this.binaryFn(a,c.text,this.unary());return a},unary:function(){var a;return this.expect(\"+\")?this.primary():(a=this.expect(\"-\"))?this.binaryFn(ib.ZERO,a.text,this.unary()):(a=this.expect(\"!\"))?this.unaryFn(a.text,this.unary()):this.primary()},fieldAccess:function(a){var c=\nthis.identifier();return w(function(d,e,f){d=f||a(d,e);return null==d?t:c(d)},{assign:function(d,e,f){var g=a(d,f);g||a.assign(d,g={},f);return c.assign(g,e)}})},objectIndex:function(a){var c=this.text,d=this.expression();this.consume(\"]\");return w(function(e,f){var g=a(e,f),h=d(e,f);ua(h,c);return g?oa(g[h],c):t},{assign:function(e,f,g){var h=ua(d(e,g),c),l=oa(a(e,g),c);l||a.assign(e,l={},g);return l[h]=f}})},functionCall:function(a,c){var d=[];if(\")\"!==this.peekToken().text){do d.push(this.expression());\nwhile(this.expect(\",\"))}this.consume(\")\");var e=this.text,f=d.length?[]:null;return function(g,h){var l=c?c(g,h):y(c)?t:g,k=a(g,h,l)||E;if(f)for(var n=d.length;n--;)f[n]=oa(d[n](g,h),e);oa(l,e);if(k){if(k.constructor===k)throw na(\"isecfn\",e);if(k===Wf||k===Xf||k===Yf)throw na(\"isecff\",e);}l=k.apply?k.apply(l,f):k(f[0],f[1],f[2],f[3],f[4]);f&&(f.length=0);return oa(l,e)}},arrayDeclaration:function(){var a=[];if(\"]\"!==this.peekToken().text){do{if(this.peek(\"]\"))break;a.push(this.expression())}while(this.expect(\",\"))\n}this.consume(\"]\");return w(function(c,d){for(var e=[],f=0,g=a.length;f<g;f++)e.push(a[f](c,d));return e},{literal:!0,constant:a.every(fc),inputs:a})},object:function(){var a=[],c=[];if(\"}\"!==this.peekToken().text){do{if(this.peek(\"}\"))break;var d=this.consume();d.constant?a.push(d.value):d.identifier?a.push(d.text):this.throwError(\"invalid key\",d);this.consume(\":\");c.push(this.expression())}while(this.expect(\",\"))}this.consume(\"}\");return w(function(d,f){for(var g={},h=0,l=c.length;h<l;h++)g[a[h]]=\nc[h](d,f);return g},{literal:!0,constant:c.every(fc),inputs:c})}};var Bf=ia(),Af=ia(),Cf=Object.prototype.valueOf,Ba=R(\"$sce\"),pa={HTML:\"html\",CSS:\"css\",URL:\"url\",RESOURCE_URL:\"resourceUrl\",JS:\"js\"},la=R(\"$compile\"),$=W.createElement(\"a\"),id=Aa(Q.location.href);Fc.$inject=[\"$provide\"];jd.$inject=[\"$locale\"];ld.$inject=[\"$locale\"];var od=\".\",Mf={yyyy:U(\"FullYear\",4),yy:U(\"FullYear\",2,0,!0),y:U(\"FullYear\",1),MMMM:Jb(\"Month\"),MMM:Jb(\"Month\",!0),MM:U(\"Month\",2,1),M:U(\"Month\",1,1),dd:U(\"Date\",2),d:U(\"Date\",\n1),HH:U(\"Hours\",2),H:U(\"Hours\",1),hh:U(\"Hours\",2,-12),h:U(\"Hours\",1,-12),mm:U(\"Minutes\",2),m:U(\"Minutes\",1),ss:U(\"Seconds\",2),s:U(\"Seconds\",1),sss:U(\"Milliseconds\",3),EEEE:Jb(\"Day\"),EEE:Jb(\"Day\",!0),a:function(a,c){return 12>a.getHours()?c.AMPMS[0]:c.AMPMS[1]},Z:function(a){a=-1*a.getTimezoneOffset();return a=(0<=a?\"+\":\"\")+(Ib(Math[0<a?\"floor\":\"ceil\"](a/60),2)+Ib(Math.abs(a%60),2))},ww:qd(2),w:qd(1),G:ic,GG:ic,GGG:ic,GGGG:function(a,c){return 0>=a.getFullYear()?c.ERANAMES[0]:c.ERANAMES[1]}},Lf=/((?:[^yMdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,\nKf=/^\\-?\\d+$/;kd.$inject=[\"$locale\"];var Hf=ea(z),If=ea(ub);md.$inject=[\"$parse\"];var Td=ea({restrict:\"E\",compile:function(a,c){if(!c.href&&!c.xlinkHref&&!c.name)return function(a,c){if(\"a\"===c[0].nodeName.toLowerCase()){var f=\"[object SVGAnimatedString]\"===Ca.call(c.prop(\"href\"))?\"xlink:href\":\"href\";c.on(\"click\",function(a){c.attr(f)||a.preventDefault()})}}}}),vb={};r(Eb,function(a,c){if(\"multiple\"!=a){var d=xa(\"ng-\"+c);vb[d]=function(){return{restrict:\"A\",priority:100,link:function(a,f,g){a.$watch(g[d],\nfunction(a){g.$set(c,!!a)})}}}}});r(Pc,function(a,c){vb[c]=function(){return{priority:100,link:function(a,e,f){if(\"ngPattern\"===c&&\"/\"==f.ngPattern.charAt(0)&&(e=f.ngPattern.match(Of))){f.$set(\"ngPattern\",new RegExp(e[1],e[2]));return}a.$watch(f[c],function(a){f.$set(c,a)})}}}});r([\"src\",\"srcset\",\"href\"],function(a){var c=xa(\"ng-\"+a);vb[c]=function(){return{priority:99,link:function(d,e,f){var g=a,h=a;\"href\"===a&&\"[object SVGAnimatedString]\"===Ca.call(e.prop(\"href\"))&&(h=\"xlinkHref\",f.$attr[h]=\"xlink:href\",\ng=null);f.$observe(c,function(c){c?(f.$set(h,c),Qa&&g&&e.prop(g,f[h])):\"href\"===a&&f.$set(h,null)})}}}});var Kb={$addControl:E,$$renameControl:function(a,c){a.$name=c},$removeControl:E,$setValidity:E,$setDirty:E,$setPristine:E,$setSubmitted:E};rd.$inject=[\"$element\",\"$attrs\",\"$scope\",\"$animate\",\"$interpolate\"];var yd=function(a){return[\"$timeout\",function(c){return{name:\"form\",restrict:a?\"EAC\":\"E\",controller:rd,compile:function(d,e){d.addClass(Ra).addClass(lb);var f=e.name?\"name\":a&&e.ngForm?\"ngForm\":\n!1;return{pre:function(a,d,e,k){if(!(\"action\"in e)){var n=function(c){a.$apply(function(){k.$commitViewValue();k.$setSubmitted()});c.preventDefault()};d[0].addEventListener(\"submit\",n,!1);d.on(\"$destroy\",function(){c(function(){d[0].removeEventListener(\"submit\",n,!1)},0,!1)})}var p=k.$$parentForm;f&&(hb(a,null,k.$name,k,k.$name),e.$observe(f,function(c){k.$name!==c&&(hb(a,null,k.$name,t,k.$name),p.$$renameControl(k,c),hb(a,null,k.$name,k,k.$name))}));d.on(\"$destroy\",function(){p.$removeControl(k);\nf&&hb(a,null,e[f],t,k.$name);w(k,Kb)})}}}}}]},Ud=yd(),ge=yd(!0),Nf=/\\d{4}-[01]\\d-[0-3]\\dT[0-2]\\d:[0-5]\\d:[0-5]\\d\\.\\d+([+-][0-2]\\d:[0-5]\\d|Z)/,$f=/^(ftp|http|https):\\/\\/(\\w+:{0,1}\\w*@)?(\\S+)(:[0-9]+)?(\\/|\\/([\\w#!:.?+=&%@!\\-\\/]))?$/,ag=/^[a-z0-9!#$%&'*+\\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,bg=/^\\s*(\\-|\\+)?(\\d+|(\\d*(\\.\\d*)))\\s*$/,zd=/^(\\d{4})-(\\d{2})-(\\d{2})$/,Ad=/^(\\d{4})-(\\d\\d)-(\\d\\d)T(\\d\\d):(\\d\\d)(?::(\\d\\d)(\\.\\d{1,3})?)?$/,lc=/^(\\d{4})-W(\\d\\d)$/,Bd=/^(\\d{4})-(\\d\\d)$/,\nCd=/^(\\d\\d):(\\d\\d)(?::(\\d\\d)(\\.\\d{1,3})?)?$/,Dd={text:function(a,c,d,e,f,g){jb(a,c,d,e,f,g);jc(e)},date:kb(\"date\",zd,Mb(zd,[\"yyyy\",\"MM\",\"dd\"]),\"yyyy-MM-dd\"),\"datetime-local\":kb(\"datetimelocal\",Ad,Mb(Ad,\"yyyy MM dd HH mm ss sss\".split(\" \")),\"yyyy-MM-ddTHH:mm:ss.sss\"),time:kb(\"time\",Cd,Mb(Cd,[\"HH\",\"mm\",\"ss\",\"sss\"]),\"HH:mm:ss.sss\"),week:kb(\"week\",lc,function(a,c){if(ga(a))return a;if(C(a)){lc.lastIndex=0;var d=lc.exec(a);if(d){var e=+d[1],f=+d[2],g=d=0,h=0,l=0,k=pd(e),f=7*(f-1);c&&(d=c.getHours(),g=\nc.getMinutes(),h=c.getSeconds(),l=c.getMilliseconds());return new Date(e,0,k.getDate()+f,d,g,h,l)}}return NaN},\"yyyy-Www\"),month:kb(\"month\",Bd,Mb(Bd,[\"yyyy\",\"MM\"]),\"yyyy-MM\"),number:function(a,c,d,e,f,g){td(a,c,d,e);jb(a,c,d,e,f,g);e.$$parserName=\"number\";e.$parsers.push(function(a){return e.$isEmpty(a)?null:bg.test(a)?parseFloat(a):t});e.$formatters.push(function(a){if(!e.$isEmpty(a)){if(!Y(a))throw Nb(\"numfmt\",a);a=a.toString()}return a});if(y(d.min)||d.ngMin){var h;e.$validators.min=function(a){return e.$isEmpty(a)||\nx(h)||a>=h};d.$observe(\"min\",function(a){y(a)&&!Y(a)&&(a=parseFloat(a,10));h=Y(a)&&!isNaN(a)?a:t;e.$validate()})}if(y(d.max)||d.ngMax){var l;e.$validators.max=function(a){return e.$isEmpty(a)||x(l)||a<=l};d.$observe(\"max\",function(a){y(a)&&!Y(a)&&(a=parseFloat(a,10));l=Y(a)&&!isNaN(a)?a:t;e.$validate()})}},url:function(a,c,d,e,f,g){jb(a,c,d,e,f,g);jc(e);e.$$parserName=\"url\";e.$validators.url=function(a,c){var d=a||c;return e.$isEmpty(d)||$f.test(d)}},email:function(a,c,d,e,f,g){jb(a,c,d,e,f,g);jc(e);\ne.$$parserName=\"email\";e.$validators.email=function(a,c){var d=a||c;return e.$isEmpty(d)||ag.test(d)}},radio:function(a,c,d,e){x(d.name)&&c.attr(\"name\",++ob);c.on(\"click\",function(a){c[0].checked&&e.$setViewValue(d.value,a&&a.type)});e.$render=function(){c[0].checked=d.value==e.$viewValue};d.$observe(\"value\",e.$render)},checkbox:function(a,c,d,e,f,g,h,l){var k=ud(l,a,\"ngTrueValue\",d.ngTrueValue,!0),n=ud(l,a,\"ngFalseValue\",d.ngFalseValue,!1);c.on(\"click\",function(a){e.$setViewValue(c[0].checked,a&&\na.type)});e.$render=function(){c[0].checked=e.$viewValue};e.$isEmpty=function(a){return!1===a};e.$formatters.push(function(a){return ha(a,k)});e.$parsers.push(function(a){return a?k:n})},hidden:E,button:E,submit:E,reset:E,file:E},zc=[\"$browser\",\"$sniffer\",\"$filter\",\"$parse\",function(a,c,d,e){return{restrict:\"E\",require:[\"?ngModel\"],link:{pre:function(f,g,h,l){l[0]&&(Dd[z(h.type)]||Dd.text)(f,g,h,l[0],c,a,d,e)}}}}],cg=/^(true|false|\\d+)$/,ye=function(){return{restrict:\"A\",priority:100,compile:function(a,\nc){return cg.test(c.ngValue)?function(a,c,f){f.$set(\"value\",a.$eval(f.ngValue))}:function(a,c,f){a.$watch(f.ngValue,function(a){f.$set(\"value\",a)})}}}},Zd=[\"$compile\",function(a){return{restrict:\"AC\",compile:function(c){a.$$addBindingClass(c);return function(c,e,f){a.$$addBindingInfo(e,f.ngBind);e=e[0];c.$watch(f.ngBind,function(a){e.textContent=a===t?\"\":a})}}}}],ae=[\"$interpolate\",\"$compile\",function(a,c){return{compile:function(d){c.$$addBindingClass(d);return function(d,f,g){d=a(f.attr(g.$attr.ngBindTemplate));\nc.$$addBindingInfo(f,d.expressions);f=f[0];g.$observe(\"ngBindTemplate\",function(a){f.textContent=a===t?\"\":a})}}}}],$d=[\"$sce\",\"$parse\",\"$compile\",function(a,c,d){return{restrict:\"A\",compile:function(e,f){var g=c(f.ngBindHtml),h=c(f.ngBindHtml,function(a){return(a||\"\").toString()});d.$$addBindingClass(e);return function(c,e,f){d.$$addBindingInfo(e,f.ngBindHtml);c.$watch(h,function(){e.html(a.getTrustedHtml(g(c))||\"\")})}}}}],xe=ea({restrict:\"A\",require:\"ngModel\",link:function(a,c,d,e){e.$viewChangeListeners.push(function(){a.$eval(d.ngChange)})}}),\nbe=kc(\"\",!0),de=kc(\"Odd\",0),ce=kc(\"Even\",1),ee=Ia({compile:function(a,c){c.$set(\"ngCloak\",t);a.removeClass(\"ng-cloak\")}}),fe=[function(){return{restrict:\"A\",scope:!0,controller:\"@\",priority:500}}],Ec={},dg={blur:!0,focus:!0};r(\"click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste\".split(\" \"),function(a){var c=xa(\"ng-\"+a);Ec[c]=[\"$parse\",\"$rootScope\",function(d,e){return{restrict:\"A\",compile:function(f,g){var h=\nd(g[c],null,!0);return function(c,d){d.on(a,function(d){var f=function(){h(c,{$event:d})};dg[a]&&e.$$phase?c.$evalAsync(f):c.$apply(f)})}}}}]});var ie=[\"$animate\",function(a){return{multiElement:!0,transclude:\"element\",priority:600,terminal:!0,restrict:\"A\",$$tlb:!0,link:function(c,d,e,f,g){var h,l,k;c.$watch(e.ngIf,function(c){c?l||g(function(c,f){l=f;c[c.length++]=W.createComment(\" end ngIf: \"+e.ngIf+\" \");h={clone:c};a.enter(c,d.parent(),d)}):(k&&(k.remove(),k=null),l&&(l.$destroy(),l=null),h&&(k=\ntb(h.clone),a.leave(k).then(function(){k=null}),h=null))})}}}],je=[\"$templateRequest\",\"$anchorScroll\",\"$animate\",\"$sce\",function(a,c,d,e){return{restrict:\"ECA\",priority:400,terminal:!0,transclude:\"element\",controller:ca.noop,compile:function(f,g){var h=g.ngInclude||g.src,l=g.onload||\"\",k=g.autoscroll;return function(f,g,q,r,s){var t=0,v,m,F,w=function(){m&&(m.remove(),m=null);v&&(v.$destroy(),v=null);F&&(d.leave(F).then(function(){m=null}),m=F,F=null)};f.$watch(e.parseAsResourceUrl(h),function(e){var h=\nfunction(){!y(k)||k&&!f.$eval(k)||c()},m=++t;e?(a(e,!0).then(function(a){if(m===t){var c=f.$new();r.template=a;a=s(c,function(a){w();d.enter(a,null,g).then(h)});v=c;F=a;v.$emit(\"$includeContentLoaded\",e);f.$eval(l)}},function(){m===t&&(w(),f.$emit(\"$includeContentError\",e))}),f.$emit(\"$includeContentRequested\",e)):(w(),r.template=null)})}}}}],Ae=[\"$compile\",function(a){return{restrict:\"ECA\",priority:-400,require:\"ngInclude\",link:function(c,d,e,f){/SVG/.test(d[0].toString())?(d.empty(),a(Hc(f.template,\nW).childNodes)(c,function(a){d.append(a)},{futureParentElement:d})):(d.html(f.template),a(d.contents())(c))}}}],ke=Ia({priority:450,compile:function(){return{pre:function(a,c,d){a.$eval(d.ngInit)}}}}),we=function(){return{restrict:\"A\",priority:100,require:\"ngModel\",link:function(a,c,d,e){var f=c.attr(d.$attr.ngList)||\", \",g=\"false\"!==d.ngTrim,h=g?N(f):f;e.$parsers.push(function(a){if(!x(a)){var c=[];a&&r(a.split(h),function(a){a&&c.push(g?N(a):a)});return c}});e.$formatters.push(function(a){return H(a)?\na.join(f):t});e.$isEmpty=function(a){return!a||!a.length}}}},lb=\"ng-valid\",vd=\"ng-invalid\",Ra=\"ng-pristine\",Lb=\"ng-dirty\",xd=\"ng-pending\",Nb=new R(\"ngModel\"),eg=[\"$scope\",\"$exceptionHandler\",\"$attrs\",\"$element\",\"$parse\",\"$animate\",\"$timeout\",\"$rootScope\",\"$q\",\"$interpolate\",function(a,c,d,e,f,g,h,l,k,n){this.$modelValue=this.$viewValue=Number.NaN;this.$$rawModelValue=t;this.$validators={};this.$asyncValidators={};this.$parsers=[];this.$formatters=[];this.$viewChangeListeners=[];this.$untouched=!0;\nthis.$touched=!1;this.$pristine=!0;this.$dirty=!1;this.$valid=!0;this.$invalid=!1;this.$error={};this.$$success={};this.$pending=t;this.$name=n(d.name||\"\",!1)(a);var p=f(d.ngModel),q=p.assign,u=p,s=q,M=null,v,m=this;this.$$setOptions=function(a){if((m.$options=a)&&a.getterSetter){var c=f(d.ngModel+\"()\"),g=f(d.ngModel+\"($$$p)\");u=function(a){var d=p(a);G(d)&&(d=c(a));return d};s=function(a,c){G(p(a))?g(a,{$$$p:m.$modelValue}):q(a,m.$modelValue)}}else if(!p.assign)throw Nb(\"nonassign\",d.ngModel,wa(e));\n};this.$render=E;this.$isEmpty=function(a){return x(a)||\"\"===a||null===a||a!==a};var F=e.inheritedData(\"$formController\")||Kb,w=0;sd({ctrl:this,$element:e,set:function(a,c){a[c]=!0},unset:function(a,c){delete a[c]},parentForm:F,$animate:g});this.$setPristine=function(){m.$dirty=!1;m.$pristine=!0;g.removeClass(e,Lb);g.addClass(e,Ra)};this.$setDirty=function(){m.$dirty=!0;m.$pristine=!1;g.removeClass(e,Ra);g.addClass(e,Lb);F.$setDirty()};this.$setUntouched=function(){m.$touched=!1;m.$untouched=!0;g.setClass(e,\n\"ng-untouched\",\"ng-touched\")};this.$setTouched=function(){m.$touched=!0;m.$untouched=!1;g.setClass(e,\"ng-touched\",\"ng-untouched\")};this.$rollbackViewValue=function(){h.cancel(M);m.$viewValue=m.$$lastCommittedViewValue;m.$render()};this.$validate=function(){if(!Y(m.$modelValue)||!isNaN(m.$modelValue)){var a=m.$$rawModelValue,c=m.$valid,d=m.$modelValue,e=m.$options&&m.$options.allowInvalid;m.$$runValidators(a,m.$$lastCommittedViewValue,function(f){e||c===f||(m.$modelValue=f?a:t,m.$modelValue!==d&&m.$$writeModelToScope())})}};\nthis.$$runValidators=function(a,c,d){function e(){var d=!0;r(m.$validators,function(e,f){var h=e(a,c);d=d&&h;g(f,h)});return d?!0:(r(m.$asyncValidators,function(a,c){g(c,null)}),!1)}function f(){var d=[],e=!0;r(m.$asyncValidators,function(f,h){var k=f(a,c);if(!k||!G(k.then))throw Nb(\"$asyncValidators\",k);g(h,t);d.push(k.then(function(){g(h,!0)},function(a){e=!1;g(h,!1)}))});d.length?k.all(d).then(function(){h(e)},E):h(!0)}function g(a,c){l===w&&m.$setValidity(a,c)}function h(a){l===w&&d(a)}w++;var l=\nw;(function(){var a=m.$$parserName||\"parse\";if(v===t)g(a,null);else return v||(r(m.$validators,function(a,c){g(c,null)}),r(m.$asyncValidators,function(a,c){g(c,null)})),g(a,v),v;return!0})()?e()?f():h(!1):h(!1)};this.$commitViewValue=function(){var a=m.$viewValue;h.cancel(M);if(m.$$lastCommittedViewValue!==a||\"\"===a&&m.$$hasNativeValidators)m.$$lastCommittedViewValue=a,m.$pristine&&this.$setDirty(),this.$$parseAndValidate()};this.$$parseAndValidate=function(){var c=m.$$lastCommittedViewValue;if(v=\nx(c)?t:!0)for(var d=0;d<m.$parsers.length;d++)if(c=m.$parsers[d](c),x(c)){v=!1;break}Y(m.$modelValue)&&isNaN(m.$modelValue)&&(m.$modelValue=u(a));var e=m.$modelValue,f=m.$options&&m.$options.allowInvalid;m.$$rawModelValue=c;f&&(m.$modelValue=c,m.$modelValue!==e&&m.$$writeModelToScope());m.$$runValidators(c,m.$$lastCommittedViewValue,function(a){f||(m.$modelValue=a?c:t,m.$modelValue!==e&&m.$$writeModelToScope())})};this.$$writeModelToScope=function(){s(a,m.$modelValue);r(m.$viewChangeListeners,function(a){try{a()}catch(d){c(d)}})};\nthis.$setViewValue=function(a,c){m.$viewValue=a;m.$options&&!m.$options.updateOnDefault||m.$$debounceViewValueCommit(c)};this.$$debounceViewValueCommit=function(c){var d=0,e=m.$options;e&&y(e.debounce)&&(e=e.debounce,Y(e)?d=e:Y(e[c])?d=e[c]:Y(e[\"default\"])&&(d=e[\"default\"]));h.cancel(M);d?M=h(function(){m.$commitViewValue()},d):l.$$phase?m.$commitViewValue():a.$apply(function(){m.$commitViewValue()})};a.$watch(function(){var c=u(a);if(c!==m.$modelValue){m.$modelValue=m.$$rawModelValue=c;v=t;for(var d=\nm.$formatters,e=d.length,f=c;e--;)f=d[e](f);m.$viewValue!==f&&(m.$viewValue=m.$$lastCommittedViewValue=f,m.$render(),m.$$runValidators(c,f,E))}return c})}],ve=[\"$rootScope\",function(a){return{restrict:\"A\",require:[\"ngModel\",\"^?form\",\"^?ngModelOptions\"],controller:eg,priority:1,compile:function(c){c.addClass(Ra).addClass(\"ng-untouched\").addClass(lb);return{pre:function(a,c,f,g){var h=g[0],l=g[1]||Kb;h.$$setOptions(g[2]&&g[2].$options);l.$addControl(h);f.$observe(\"name\",function(a){h.$name!==a&&l.$$renameControl(h,\na)});a.$on(\"$destroy\",function(){l.$removeControl(h)})},post:function(c,e,f,g){var h=g[0];if(h.$options&&h.$options.updateOn)e.on(h.$options.updateOn,function(a){h.$$debounceViewValueCommit(a&&a.type)});e.on(\"blur\",function(e){h.$touched||(a.$$phase?c.$evalAsync(h.$setTouched):c.$apply(h.$setTouched))})}}}}}],fg=/(\\s+|^)default(\\s+|$)/,ze=function(){return{restrict:\"A\",controller:[\"$scope\",\"$attrs\",function(a,c){var d=this;this.$options=a.$eval(c.ngModelOptions);this.$options.updateOn!==t?(this.$options.updateOnDefault=\n!1,this.$options.updateOn=N(this.$options.updateOn.replace(fg,function(){d.$options.updateOnDefault=!0;return\" \"}))):this.$options.updateOnDefault=!0}]}},le=Ia({terminal:!0,priority:1E3}),me=[\"$locale\",\"$interpolate\",function(a,c){var d=/{}/g,e=/^when(Minus)?(.+)$/;return{restrict:\"EA\",link:function(f,g,h){function l(a){g.text(a||\"\")}var k=h.count,n=h.$attr.when&&g.attr(h.$attr.when),p=h.offset||0,q=f.$eval(n)||{},u={},n=c.startSymbol(),s=c.endSymbol(),t=n+k+\"-\"+p+s,v=ca.noop,m;r(h,function(a,c){var d=\ne.exec(c);d&&(d=(d[1]?\"-\":\"\")+z(d[2]),q[d]=g.attr(h.$attr[c]))});r(q,function(a,e){u[e]=c(a.replace(d,t))});f.$watch(k,function(c){c=parseFloat(c);var d=isNaN(c);d||c in q||(c=a.pluralCat(c-p));c===m||d&&isNaN(m)||(v(),v=f.$watch(u[c],l),m=c)})}}}],ne=[\"$parse\",\"$animate\",function(a,c){var d=R(\"ngRepeat\"),e=function(a,c,d,e,k,n,p){a[d]=e;k&&(a[k]=n);a.$index=c;a.$first=0===c;a.$last=c===p-1;a.$middle=!(a.$first||a.$last);a.$odd=!(a.$even=0===(c&1))};return{restrict:\"A\",multiElement:!0,transclude:\"element\",\npriority:1E3,terminal:!0,$$tlb:!0,compile:function(f,g){var h=g.ngRepeat,l=W.createComment(\" end ngRepeat: \"+h+\" \"),k=h.match(/^\\s*([\\s\\S]+?)\\s+in\\s+([\\s\\S]+?)(?:\\s+as\\s+([\\s\\S]+?))?(?:\\s+track\\s+by\\s+([\\s\\S]+?))?\\s*$/);if(!k)throw d(\"iexp\",h);var n=k[1],p=k[2],q=k[3],u=k[4],k=n.match(/^(?:(\\s*[\\$\\w]+)|\\(\\s*([\\$\\w]+)\\s*,\\s*([\\$\\w]+)\\s*\\))$/);if(!k)throw d(\"iidexp\",n);var s=k[3]||k[1],y=k[2];if(q&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(q)||/^(null|undefined|this|\\$index|\\$first|\\$middle|\\$last|\\$even|\\$odd|\\$parent|\\$root|\\$id)$/.test(q)))throw d(\"badident\",\nq);var v,m,w,x,E={$id:Ma};u?v=a(u):(w=function(a,c){return Ma(c)},x=function(a){return a});return function(a,f,g,k,n){v&&(m=function(c,d,e){y&&(E[y]=c);E[s]=d;E.$index=e;return v(a,E)});var u=ia();a.$watchCollection(p,function(g){var k,p,v=f[0],D,E=ia(),G,H,L,S,J,C,z;q&&(a[q]=g);if(Sa(g))J=g,p=m||w;else{p=m||x;J=[];for(z in g)g.hasOwnProperty(z)&&\"$\"!=z.charAt(0)&&J.push(z);J.sort()}G=J.length;z=Array(G);for(k=0;k<G;k++)if(H=g===J?k:J[k],L=g[H],S=p(H,L,k),u[S])C=u[S],delete u[S],E[S]=C,z[k]=C;else{if(E[S])throw r(z,\nfunction(a){a&&a.scope&&(u[a.id]=a)}),d(\"dupes\",h,S,L);z[k]={id:S,scope:t,clone:t};E[S]=!0}for(D in u){C=u[D];S=tb(C.clone);c.leave(S);if(S[0].parentNode)for(k=0,p=S.length;k<p;k++)S[k].$$NG_REMOVED=!0;C.scope.$destroy()}for(k=0;k<G;k++)if(H=g===J?k:J[k],L=g[H],C=z[k],C.scope){D=v;do D=D.nextSibling;while(D&&D.$$NG_REMOVED);C.clone[0]!=D&&c.move(tb(C.clone),null,A(v));v=C.clone[C.clone.length-1];e(C.scope,k,s,L,y,H,G)}else n(function(a,d){C.scope=d;var f=l.cloneNode(!1);a[a.length++]=f;c.enter(a,\nnull,A(v));v=f;C.clone=a;E[C.id]=C;e(C.scope,k,s,L,y,H,G)});u=E})}}}}],oe=[\"$animate\",function(a){return{restrict:\"A\",multiElement:!0,link:function(c,d,e){c.$watch(e.ngShow,function(c){a[c?\"removeClass\":\"addClass\"](d,\"ng-hide\",{tempClasses:\"ng-hide-animate\"})})}}}],he=[\"$animate\",function(a){return{restrict:\"A\",multiElement:!0,link:function(c,d,e){c.$watch(e.ngHide,function(c){a[c?\"addClass\":\"removeClass\"](d,\"ng-hide\",{tempClasses:\"ng-hide-animate\"})})}}}],pe=Ia(function(a,c,d){a.$watchCollection(d.ngStyle,\nfunction(a,d){d&&a!==d&&r(d,function(a,d){c.css(d,\"\")});a&&c.css(a)})}),qe=[\"$animate\",function(a){return{restrict:\"EA\",require:\"ngSwitch\",controller:[\"$scope\",function(){this.cases={}}],link:function(c,d,e,f){var g=[],h=[],l=[],k=[],n=function(a,c){return function(){a.splice(c,1)}};c.$watch(e.ngSwitch||e.on,function(c){var d,e;d=0;for(e=l.length;d<e;++d)a.cancel(l[d]);d=l.length=0;for(e=k.length;d<e;++d){var s=tb(h[d].clone);k[d].$destroy();(l[d]=a.leave(s)).then(n(l,d))}h.length=0;k.length=0;(g=\nf.cases[\"!\"+c]||f.cases[\"?\"])&&r(g,function(c){c.transclude(function(d,e){k.push(e);var f=c.element;d[d.length++]=W.createComment(\" end ngSwitchWhen: \");h.push({clone:d});a.enter(d,f.parent(),f)})})})}}}],re=Ia({transclude:\"element\",priority:1200,require:\"^ngSwitch\",multiElement:!0,link:function(a,c,d,e,f){e.cases[\"!\"+d.ngSwitchWhen]=e.cases[\"!\"+d.ngSwitchWhen]||[];e.cases[\"!\"+d.ngSwitchWhen].push({transclude:f,element:c})}}),se=Ia({transclude:\"element\",priority:1200,require:\"^ngSwitch\",multiElement:!0,\nlink:function(a,c,d,e,f){e.cases[\"?\"]=e.cases[\"?\"]||[];e.cases[\"?\"].push({transclude:f,element:c})}}),ue=Ia({restrict:\"EAC\",link:function(a,c,d,e,f){if(!f)throw R(\"ngTransclude\")(\"orphan\",wa(c));f(function(a){c.empty();c.append(a)})}}),Vd=[\"$templateCache\",function(a){return{restrict:\"E\",terminal:!0,compile:function(c,d){\"text/ng-template\"==d.type&&a.put(d.id,c[0].text)}}}],gg=R(\"ngOptions\"),te=ea({restrict:\"A\",terminal:!0}),Wd=[\"$compile\",\"$parse\",function(a,c){var d=/^\\s*([\\s\\S]+?)(?:\\s+as\\s+([\\s\\S]+?))?(?:\\s+group\\s+by\\s+([\\s\\S]+?))?\\s+for\\s+(?:([\\$\\w][\\$\\w]*)|(?:\\(\\s*([\\$\\w][\\$\\w]*)\\s*,\\s*([\\$\\w][\\$\\w]*)\\s*\\)))\\s+in\\s+([\\s\\S]+?)(?:\\s+track\\s+by\\s+([\\s\\S]+?))?$/,\ne={$setViewValue:E};return{restrict:\"E\",require:[\"select\",\"?ngModel\"],controller:[\"$element\",\"$scope\",\"$attrs\",function(a,c,d){var l=this,k={},n=e,p;l.databound=d.ngModel;l.init=function(a,c,d){n=a;p=d};l.addOption=function(c,d){La(c,'\"option value\"');k[c]=!0;n.$viewValue==c&&(a.val(c),p.parent()&&p.remove());d&&d[0].hasAttribute(\"selected\")&&(d[0].selected=!0)};l.removeOption=function(a){this.hasOption(a)&&(delete k[a],n.$viewValue===a&&this.renderUnknownOption(a))};l.renderUnknownOption=function(c){c=\n\"? \"+Ma(c)+\" ?\";p.val(c);a.prepend(p);a.val(c);p.prop(\"selected\",!0)};l.hasOption=function(a){return k.hasOwnProperty(a)};c.$on(\"$destroy\",function(){l.renderUnknownOption=E})}],link:function(e,g,h,l){function k(a,c,d,e){d.$render=function(){var a=d.$viewValue;e.hasOption(a)?(C.parent()&&C.remove(),c.val(a),\"\"===a&&v.prop(\"selected\",!0)):x(a)&&v?c.val(\"\"):e.renderUnknownOption(a)};c.on(\"change\",function(){a.$apply(function(){C.parent()&&C.remove();d.$setViewValue(c.val())})})}function n(a,c,d){var e;\nd.$render=function(){var a=new eb(d.$viewValue);r(c.find(\"option\"),function(c){c.selected=y(a.get(c.value))})};a.$watch(function(){ha(e,d.$viewValue)||(e=sa(d.$viewValue),d.$render())});c.on(\"change\",function(){a.$apply(function(){var a=[];r(c.find(\"option\"),function(c){c.selected&&a.push(c.value)});d.$setViewValue(a)})})}function p(e,f,g){function h(a,c,d){T[x]=d;G&&(T[G]=c);return a(e,T)}function k(a){var c;if(u)if(I&&H(a)){c=new eb([]);for(var d=0;d<a.length;d++)c.put(h(I,null,a[d]),!0)}else c=\nnew eb(a);else I&&(a=h(I,null,a));return function(d,e){var f;f=I?I:B?B:z;return u?y(c.remove(h(f,d,e))):a===h(f,d,e)}}function l(){m||(e.$$postDigest(p),m=!0)}function n(a,c,d){a[c]=a[c]||0;a[c]+=d?1:-1}function p(){m=!1;var a={\"\":[]},c=[\"\"],d,l,s,t,v;s=g.$viewValue;t=L(e)||[];var B=G?Object.keys(t).sort():t,x,A,H,z,O={};v=k(s);var N=!1,U,W;Q={};for(z=0;H=B.length,z<H;z++){x=z;if(G&&(x=B[z],\"$\"===x.charAt(0)))continue;A=t[x];d=h(J,x,A)||\"\";(l=a[d])||(l=a[d]=[],c.push(d));d=v(x,A);N=N||d;A=h(C,x,A);\nA=y(A)?A:\"\";W=I?I(e,T):G?B[z]:z;I&&(Q[W]=x);l.push({id:W,label:A,selected:d})}u||(w||null===s?a[\"\"].unshift({id:\"\",label:\"\",selected:!N}):N||a[\"\"].unshift({id:\"?\",label:\"\",selected:!0}));x=0;for(B=c.length;x<B;x++){d=c[x];l=a[d];R.length<=x?(s={element:E.clone().attr(\"label\",d),label:l.label},t=[s],R.push(t),f.append(s.element)):(t=R[x],s=t[0],s.label!=d&&s.element.attr(\"label\",s.label=d));N=null;z=0;for(H=l.length;z<H;z++)d=l[z],(v=t[z+1])?(N=v.element,v.label!==d.label&&(n(O,v.label,!1),n(O,d.label,\n!0),N.text(v.label=d.label),N.prop(\"label\",v.label)),v.id!==d.id&&N.val(v.id=d.id),N[0].selected!==d.selected&&(N.prop(\"selected\",v.selected=d.selected),Qa&&N.prop(\"selected\",v.selected))):(\"\"===d.id&&w?U=w:(U=F.clone()).val(d.id).prop(\"selected\",d.selected).attr(\"selected\",d.selected).prop(\"label\",d.label).text(d.label),t.push(v={element:U,label:d.label,id:d.id,selected:d.selected}),n(O,d.label,!0),N?N.after(U):s.element.append(U),N=U);for(z++;t.length>z;)d=t.pop(),n(O,d.label,!1),d.element.remove()}for(;R.length>\nx;){l=R.pop();for(z=1;z<l.length;++z)n(O,l[z].label,!1);l[0].element.remove()}r(O,function(a,c){0<a?q.addOption(c):0>a&&q.removeOption(c)})}var v;if(!(v=s.match(d)))throw gg(\"iexp\",s,wa(f));var C=c(v[2]||v[1]),x=v[4]||v[6],A=/ as /.test(v[0])&&v[1],B=A?c(A):null,G=v[5],J=c(v[3]||\"\"),z=c(v[2]?v[1]:x),L=c(v[7]),I=v[8]?c(v[8]):null,Q={},R=[[{element:f,label:\"\"}]],T={};w&&(a(w)(e),w.removeClass(\"ng-scope\"),w.remove());f.empty();f.on(\"change\",function(){e.$apply(function(){var a=L(e)||[],c;if(u)c=[],r(f.val(),\nfunction(d){d=I?Q[d]:d;c.push(\"?\"===d?t:\"\"===d?null:h(B?B:z,d,a[d]))});else{var d=I?Q[f.val()]:f.val();c=\"?\"===d?t:\"\"===d?null:h(B?B:z,d,a[d])}g.$setViewValue(c);p()})});g.$render=p;e.$watchCollection(L,l);e.$watchCollection(function(){var a=L(e),c;if(a&&H(a)){c=Array(a.length);for(var d=0,f=a.length;d<f;d++)c[d]=h(C,d,a[d])}else if(a)for(d in c={},a)a.hasOwnProperty(d)&&(c[d]=h(C,d,a[d]));return c},l);u&&e.$watchCollection(function(){return g.$modelValue},l)}if(l[1]){var q=l[0];l=l[1];var u=h.multiple,\ns=h.ngOptions,w=!1,v,m=!1,F=A(W.createElement(\"option\")),E=A(W.createElement(\"optgroup\")),C=F.clone();h=0;for(var B=g.children(),G=B.length;h<G;h++)if(\"\"===B[h].value){v=w=B.eq(h);break}q.init(l,w,C);u&&(l.$isEmpty=function(a){return!a||0===a.length});s?p(e,g,l):u?n(e,g,l):k(e,g,l,q)}}}}],Yd=[\"$interpolate\",function(a){var c={addOption:E,removeOption:E};return{restrict:\"E\",priority:100,compile:function(d,e){if(x(e.value)){var f=a(d.text(),!0);f||e.$set(\"value\",d.text())}return function(a,d,e){var k=\nd.parent(),n=k.data(\"$selectController\")||k.parent().data(\"$selectController\");n&&n.databound||(n=c);f?a.$watch(f,function(a,c){e.$set(\"value\",a);c!==a&&n.removeOption(c);n.addOption(a,d)}):n.addOption(e.value,d);d.on(\"$destroy\",function(){n.removeOption(e.value)})}}}}],Xd=ea({restrict:\"E\",terminal:!1}),Bc=function(){return{restrict:\"A\",require:\"?ngModel\",link:function(a,c,d,e){e&&(d.required=!0,e.$validators.required=function(a,c){return!d.required||!e.$isEmpty(c)},d.$observe(\"required\",function(){e.$validate()}))}}},\nAc=function(){return{restrict:\"A\",require:\"?ngModel\",link:function(a,c,d,e){if(e){var f,g=d.ngPattern||d.pattern;d.$observe(\"pattern\",function(a){C(a)&&0<a.length&&(a=new RegExp(\"^\"+a+\"$\"));if(a&&!a.test)throw R(\"ngPattern\")(\"noregexp\",g,a,wa(c));f=a||t;e.$validate()});e.$validators.pattern=function(a){return e.$isEmpty(a)||x(f)||f.test(a)}}}}},Dc=function(){return{restrict:\"A\",require:\"?ngModel\",link:function(a,c,d,e){if(e){var f=-1;d.$observe(\"maxlength\",function(a){a=aa(a);f=isNaN(a)?-1:a;e.$validate()});\ne.$validators.maxlength=function(a,c){return 0>f||e.$isEmpty(c)||c.length<=f}}}}},Cc=function(){return{restrict:\"A\",require:\"?ngModel\",link:function(a,c,d,e){if(e){var f=0;d.$observe(\"minlength\",function(a){f=aa(a)||0;e.$validate()});e.$validators.minlength=function(a,c){return e.$isEmpty(c)||c.length>=f}}}}};Q.angular.bootstrap?console.log(\"WARNING: Tried to load angular more than once.\"):(Nd(),Pd(ca),A(W).ready(function(){Jd(W,uc)}))})(window,document);!window.angular.$$csp()&&window.angular.element(document).find(\"head\").prepend('<style type=\"text/css\">@charset \"UTF-8\";[ng\\\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\\\:form{display:block;}</style>');\n//# sourceMappingURL=angular.min.js.map\n","/*\n AngularJS v1.3.15\n (c) 2010-2014 Google, Inc. http://angularjs.org\n License: MIT\n*/\n(function(I,d,B){'use strict';function D(f,q){q=q||{};d.forEach(q,function(d,h){delete q[h]});for(var h in f)!f.hasOwnProperty(h)||\"$\"===h.charAt(0)&&\"$\"===h.charAt(1)||(q[h]=f[h]);return q}var w=d.$$minErr(\"$resource\"),C=/^(\\.[a-zA-Z_$][0-9a-zA-Z_$]*)+$/;d.module(\"ngResource\",[\"ng\"]).provider(\"$resource\",function(){var f=this;this.defaults={stripTrailingSlashes:!0,actions:{get:{method:\"GET\"},save:{method:\"POST\"},query:{method:\"GET\",isArray:!0},remove:{method:\"DELETE\"},\"delete\":{method:\"DELETE\"}}};\nthis.$get=[\"$http\",\"$q\",function(q,h){function t(d,g){this.template=d;this.defaults=s({},f.defaults,g);this.urlParams={}}function v(x,g,l,m){function c(b,k){var c={};k=s({},g,k);r(k,function(a,k){u(a)&&(a=a());var d;if(a&&a.charAt&&\"@\"==a.charAt(0)){d=b;var e=a.substr(1);if(null==e||\"\"===e||\"hasOwnProperty\"===e||!C.test(\".\"+e))throw w(\"badmember\",e);for(var e=e.split(\".\"),n=0,g=e.length;n<g&&d!==B;n++){var h=e[n];d=null!==d?d[h]:B}}else d=a;c[k]=d});return c}function F(b){return b.resource}function e(b){D(b||\n{},this)}var G=new t(x,m);l=s({},f.defaults.actions,l);e.prototype.toJSON=function(){var b=s({},this);delete b.$promise;delete b.$resolved;return b};r(l,function(b,k){var g=/^(POST|PUT|PATCH)$/i.test(b.method);e[k]=function(a,y,m,x){var n={},f,l,z;switch(arguments.length){case 4:z=x,l=m;case 3:case 2:if(u(y)){if(u(a)){l=a;z=y;break}l=y;z=m}else{n=a;f=y;l=m;break}case 1:u(a)?l=a:g?f=a:n=a;break;case 0:break;default:throw w(\"badargs\",arguments.length);}var t=this instanceof e,p=t?f:b.isArray?[]:new e(f),\nA={},v=b.interceptor&&b.interceptor.response||F,C=b.interceptor&&b.interceptor.responseError||B;r(b,function(b,a){\"params\"!=a&&\"isArray\"!=a&&\"interceptor\"!=a&&(A[a]=H(b))});g&&(A.data=f);G.setUrlParams(A,s({},c(f,b.params||{}),n),b.url);n=q(A).then(function(a){var c=a.data,g=p.$promise;if(c){if(d.isArray(c)!==!!b.isArray)throw w(\"badcfg\",k,b.isArray?\"array\":\"object\",d.isArray(c)?\"array\":\"object\");b.isArray?(p.length=0,r(c,function(a){\"object\"===typeof a?p.push(new e(a)):p.push(a)})):(D(c,p),p.$promise=\ng)}p.$resolved=!0;a.resource=p;return a},function(a){p.$resolved=!0;(z||E)(a);return h.reject(a)});n=n.then(function(a){var b=v(a);(l||E)(b,a.headers);return b},C);return t?n:(p.$promise=n,p.$resolved=!1,p)};e.prototype[\"$\"+k]=function(a,b,c){u(a)&&(c=b,b=a,a={});a=e[k].call(this,a,this,b,c);return a.$promise||a}});e.bind=function(b){return v(x,s({},g,b),l)};return e}var E=d.noop,r=d.forEach,s=d.extend,H=d.copy,u=d.isFunction;t.prototype={setUrlParams:function(f,g,l){var m=this,c=l||m.template,h,\ne,q=m.urlParams={};r(c.split(/\\W/),function(b){if(\"hasOwnProperty\"===b)throw w(\"badname\");!/^\\d+$/.test(b)&&b&&(new RegExp(\"(^|[^\\\\\\\\]):\"+b+\"(\\\\W|$)\")).test(c)&&(q[b]=!0)});c=c.replace(/\\\\:/g,\":\");g=g||{};r(m.urlParams,function(b,k){h=g.hasOwnProperty(k)?g[k]:m.defaults[k];d.isDefined(h)&&null!==h?(e=encodeURIComponent(h).replace(/%40/gi,\"@\").replace(/%3A/gi,\":\").replace(/%24/g,\"$\").replace(/%2C/gi,\",\").replace(/%20/g,\"%20\").replace(/%26/gi,\"&\").replace(/%3D/gi,\"=\").replace(/%2B/gi,\"+\"),c=c.replace(new RegExp(\":\"+\nk+\"(\\\\W|$)\",\"g\"),function(b,a){return e+a})):c=c.replace(new RegExp(\"(/?):\"+k+\"(\\\\W|$)\",\"g\"),function(b,a,c){return\"/\"==c.charAt(0)?c:a+c})});m.defaults.stripTrailingSlashes&&(c=c.replace(/\\/+$/,\"\")||\"/\");c=c.replace(/\\/\\.(?=\\w+($|\\?))/,\".\");f.url=c.replace(/\\/\\\\\\./,\"/.\");r(g,function(b,c){m.urlParams[c]||(f.params=f.params||{},f.params[c]=b)})}};return v}]})})(window,window.angular);\n//# sourceMappingURL=angular-resource.min.js.map\n","/*\n AngularJS v1.3.15\n (c) 2010-2014 Google, Inc. http://angularjs.org\n License: MIT\n*/\n(function(q,d,C){'use strict';function v(r,k,h){return{restrict:\"ECA\",terminal:!0,priority:400,transclude:\"element\",link:function(a,f,b,c,y){function z(){l&&(h.cancel(l),l=null);m&&(m.$destroy(),m=null);n&&(l=h.leave(n),l.then(function(){l=null}),n=null)}function x(){var b=r.current&&r.current.locals;if(d.isDefined(b&&b.$template)){var b=a.$new(),c=r.current;n=y(b,function(b){h.enter(b,null,n||f).then(function(){!d.isDefined(t)||t&&!a.$eval(t)||k()});z()});m=c.scope=b;m.$emit(\"$viewContentLoaded\");\nm.$eval(w)}else z()}var m,n,l,t=b.autoscroll,w=b.onload||\"\";a.$on(\"$routeChangeSuccess\",x);x()}}}function A(d,k,h){return{restrict:\"ECA\",priority:-400,link:function(a,f){var b=h.current,c=b.locals;f.html(c.$template);var y=d(f.contents());b.controller&&(c.$scope=a,c=k(b.controller,c),b.controllerAs&&(a[b.controllerAs]=c),f.data(\"$ngControllerController\",c),f.children().data(\"$ngControllerController\",c));y(a)}}}q=d.module(\"ngRoute\",[\"ng\"]).provider(\"$route\",function(){function r(a,f){return d.extend(Object.create(a),\nf)}function k(a,d){var b=d.caseInsensitiveMatch,c={originalPath:a,regexp:a},h=c.keys=[];a=a.replace(/([().])/g,\"\\\\$1\").replace(/(\\/)?:(\\w+)([\\?\\*])?/g,function(a,d,b,c){a=\"?\"===c?c:null;c=\"*\"===c?c:null;h.push({name:b,optional:!!a});d=d||\"\";return\"\"+(a?\"\":d)+\"(?:\"+(a?d:\"\")+(c&&\"(.+?)\"||\"([^/]+)\")+(a||\"\")+\")\"+(a||\"\")}).replace(/([\\/$\\*])/g,\"\\\\$1\");c.regexp=new RegExp(\"^\"+a+\"$\",b?\"i\":\"\");return c}var h={};this.when=function(a,f){var b=d.copy(f);d.isUndefined(b.reloadOnSearch)&&(b.reloadOnSearch=!0);\nd.isUndefined(b.caseInsensitiveMatch)&&(b.caseInsensitiveMatch=this.caseInsensitiveMatch);h[a]=d.extend(b,a&&k(a,b));if(a){var c=\"/\"==a[a.length-1]?a.substr(0,a.length-1):a+\"/\";h[c]=d.extend({redirectTo:a},k(c,b))}return this};this.caseInsensitiveMatch=!1;this.otherwise=function(a){\"string\"===typeof a&&(a={redirectTo:a});this.when(null,a);return this};this.$get=[\"$rootScope\",\"$location\",\"$routeParams\",\"$q\",\"$injector\",\"$templateRequest\",\"$sce\",function(a,f,b,c,k,q,x){function m(b){var e=s.current;\n(v=(p=l())&&e&&p.$$route===e.$$route&&d.equals(p.pathParams,e.pathParams)&&!p.reloadOnSearch&&!w)||!e&&!p||a.$broadcast(\"$routeChangeStart\",p,e).defaultPrevented&&b&&b.preventDefault()}function n(){var u=s.current,e=p;if(v)u.params=e.params,d.copy(u.params,b),a.$broadcast(\"$routeUpdate\",u);else if(e||u)w=!1,(s.current=e)&&e.redirectTo&&(d.isString(e.redirectTo)?f.path(t(e.redirectTo,e.params)).search(e.params).replace():f.url(e.redirectTo(e.pathParams,f.path(),f.search())).replace()),c.when(e).then(function(){if(e){var a=\nd.extend({},e.resolve),b,g;d.forEach(a,function(b,e){a[e]=d.isString(b)?k.get(b):k.invoke(b,null,null,e)});d.isDefined(b=e.template)?d.isFunction(b)&&(b=b(e.params)):d.isDefined(g=e.templateUrl)&&(d.isFunction(g)&&(g=g(e.params)),g=x.getTrustedResourceUrl(g),d.isDefined(g)&&(e.loadedTemplateUrl=g,b=q(g)));d.isDefined(b)&&(a.$template=b);return c.all(a)}}).then(function(c){e==s.current&&(e&&(e.locals=c,d.copy(e.params,b)),a.$broadcast(\"$routeChangeSuccess\",e,u))},function(b){e==s.current&&a.$broadcast(\"$routeChangeError\",\ne,u,b)})}function l(){var a,b;d.forEach(h,function(c,h){var g;if(g=!b){var k=f.path();g=c.keys;var m={};if(c.regexp)if(k=c.regexp.exec(k)){for(var l=1,n=k.length;l<n;++l){var p=g[l-1],q=k[l];p&&q&&(m[p.name]=q)}g=m}else g=null;else g=null;g=a=g}g&&(b=r(c,{params:d.extend({},f.search(),a),pathParams:a}),b.$$route=c)});return b||h[null]&&r(h[null],{params:{},pathParams:{}})}function t(a,b){var c=[];d.forEach((a||\"\").split(\":\"),function(a,d){if(0===d)c.push(a);else{var f=a.match(/(\\w+)(?:[?*])?(.*)/),\nh=f[1];c.push(b[h]);c.push(f[2]||\"\");delete b[h]}});return c.join(\"\")}var w=!1,p,v,s={routes:h,reload:function(){w=!0;a.$evalAsync(function(){m();n()})},updateParams:function(a){if(this.current&&this.current.$$route)a=d.extend({},this.current.params,a),f.path(t(this.current.$$route.originalPath,a)),f.search(a);else throw B(\"norout\");}};a.$on(\"$locationChangeStart\",m);a.$on(\"$locationChangeSuccess\",n);return s}]});var B=d.$$minErr(\"ngRoute\");q.provider(\"$routeParams\",function(){this.$get=function(){return{}}});\nq.directive(\"ngView\",v);q.directive(\"ngView\",A);v.$inject=[\"$route\",\"$anchorScroll\",\"$animate\"];A.$inject=[\"$compile\",\"$controller\",\"$route\"]})(window,window.angular);\n//# sourceMappingURL=angular-route.min.js.map\n","/**\n * An Angular module that gives you access to the browsers local storage\n * @version v0.1.5 - 2014-11-04\n * @link https://github.com/grevory/angular-local-storage\n * @author grevory <greg@gregpike.ca>\n * @license MIT License, http://www.opensource.org/licenses/MIT\n */!function(a,b){\"use strict\";function c(a){return/^-?\\d+\\.?\\d*$/.test(a.replace(/[\"']/g,\"\"))}var d=b.isDefined,e=b.isUndefined,f=b.isNumber,g=b.isObject,h=b.isArray,i=b.extend,j=b.toJson,k=b.fromJson,l=b.module(\"LocalStorageModule\",[]);l.provider(\"localStorageService\",function(){this.prefix=\"ls\",this.storageType=\"localStorage\",this.cookie={expiry:30,path:\"/\"},this.notify={setItem:!0,removeItem:!1},this.setPrefix=function(a){return this.prefix=a,this},this.setStorageType=function(a){return this.storageType=a,this},this.setStorageCookie=function(a,b){return this.cookie={expiry:a,path:b},this},this.setStorageCookieDomain=function(a){return this.cookie.domain=a,this},this.setNotify=function(a,b){return this.notify={setItem:a,removeItem:b},this},this.$get=[\"$rootScope\",\"$window\",\"$document\",\"$parse\",function(a,b,l,m){var n,o=this,p=o.prefix,q=o.cookie,r=o.notify,s=o.storageType;l?l[0]&&(l=l[0]):l=document,\".\"!==p.substr(-1)&&(p=p?p+\".\":\"\");var t=function(a){return p+a},u=function(){try{var c=s in b&&null!==b[s],d=t(\"__\"+Math.round(1e7*Math.random()));return c&&(n=b[s],n.setItem(d,\"\"),n.removeItem(d)),c}catch(e){return s=\"cookie\",a.$broadcast(\"LocalStorageModule.notification.error\",e.message),!1}}(),v=function(b,c){if(e(c)?c=null:(g(c)||h(c)||f(+c||c))&&(c=j(c)),!u||\"cookie\"===o.storageType)return u||a.$broadcast(\"LocalStorageModule.notification.warning\",\"LOCAL_STORAGE_NOT_SUPPORTED\"),r.setItem&&a.$broadcast(\"LocalStorageModule.notification.setitem\",{key:b,newvalue:c,storageType:\"cookie\"}),B(b,c);try{(g(c)||h(c))&&(c=j(c)),n&&n.setItem(t(b),c),r.setItem&&a.$broadcast(\"LocalStorageModule.notification.setitem\",{key:b,newvalue:c,storageType:o.storageType})}catch(d){return a.$broadcast(\"LocalStorageModule.notification.error\",d.message),B(b,c)}return!0},w=function(b){if(!u||\"cookie\"===o.storageType)return u||a.$broadcast(\"LocalStorageModule.notification.warning\",\"LOCAL_STORAGE_NOT_SUPPORTED\"),C(b);var d=n?n.getItem(t(b)):null;return d&&\"null\"!==d?\"{\"===d.charAt(0)||\"[\"===d.charAt(0)||c(d)?k(d):d:null},x=function(b){if(!u||\"cookie\"===o.storageType)return u||a.$broadcast(\"LocalStorageModule.notification.warning\",\"LOCAL_STORAGE_NOT_SUPPORTED\"),r.removeItem&&a.$broadcast(\"LocalStorageModule.notification.removeitem\",{key:b,storageType:\"cookie\"}),D(b);try{n.removeItem(t(b)),r.removeItem&&a.$broadcast(\"LocalStorageModule.notification.removeitem\",{key:b,storageType:o.storageType})}catch(c){return a.$broadcast(\"LocalStorageModule.notification.error\",c.message),D(b)}return!0},y=function(){if(!u)return a.$broadcast(\"LocalStorageModule.notification.warning\",\"LOCAL_STORAGE_NOT_SUPPORTED\"),!1;var b=p.length,c=[];for(var d in n)if(d.substr(0,b)===p)try{c.push(d.substr(b))}catch(e){return a.$broadcast(\"LocalStorageModule.notification.error\",e.Description),[]}return c},z=function(b){b=b||\"\";var c=p.slice(0,-1),d=new RegExp(c+\".\"+b);if(!u||\"cookie\"===o.storageType)return u||a.$broadcast(\"LocalStorageModule.notification.warning\",\"LOCAL_STORAGE_NOT_SUPPORTED\"),E();var e=p.length;for(var f in n)if(d.test(f))try{x(f.substr(e))}catch(g){return a.$broadcast(\"LocalStorageModule.notification.error\",g.message),E()}return!0},A=function(){try{return b.navigator.cookieEnabled||\"cookie\"in l&&(l.cookie.length>0||(l.cookie=\"test\").indexOf.call(l.cookie,\"test\")>-1)}catch(c){return a.$broadcast(\"LocalStorageModule.notification.error\",c.message),!1}}(),B=function(b,c){if(e(c))return!1;if((h(c)||g(c))&&(c=j(c)),!A)return a.$broadcast(\"LocalStorageModule.notification.error\",\"COOKIES_NOT_SUPPORTED\"),!1;try{var d=\"\",f=new Date,i=\"\";if(null===c?(f.setTime(f.getTime()+-864e5),d=\"; expires=\"+f.toGMTString(),c=\"\"):0!==q.expiry&&(f.setTime(f.getTime()+24*q.expiry*60*60*1e3),d=\"; expires=\"+f.toGMTString()),b){var k=\"; path=\"+q.path;q.domain&&(i=\"; domain=\"+q.domain),l.cookie=t(b)+\"=\"+encodeURIComponent(c)+d+k+i}}catch(m){return a.$broadcast(\"LocalStorageModule.notification.error\",m.message),!1}return!0},C=function(b){if(!A)return a.$broadcast(\"LocalStorageModule.notification.error\",\"COOKIES_NOT_SUPPORTED\"),!1;for(var c=l.cookie&&l.cookie.split(\";\")||[],d=0;d<c.length;d++){for(var e=c[d];\" \"===e.charAt(0);)e=e.substring(1,e.length);if(0===e.indexOf(t(b)+\"=\")){var f=decodeURIComponent(e.substring(p.length+b.length+1,e.length));try{var g=JSON.parse(f);return k(g)}catch(h){return f}}}return null},D=function(a){B(a,null)},E=function(){for(var a=null,b=p.length,c=l.cookie.split(\";\"),d=0;d<c.length;d++){for(a=c[d];\" \"===a.charAt(0);)a=a.substring(1,a.length);var e=a.substring(b,a.indexOf(\"=\"));D(e)}},F=function(){return s},G=function(a,b,c,e){e=e||b;var f=w(e);return null===f&&d(c)?f=c:g(f)&&g(c)&&(f=i(c,f)),m(b).assign(a,f),a.$watch(b,function(a){v(e,a)},g(a[b]))},H=function(){for(var a=0,c=b[s],d=0;d<c.length;d++)0===c.key(d).indexOf(p)&&a++;return a};return{isSupported:u,getStorageType:F,set:v,add:v,get:w,keys:y,remove:x,clearAll:z,bind:G,deriveKey:t,length:H,cookie:{isSupported:A,set:B,add:B,get:C,remove:D,clearAll:E}}}]})}(window,window.angular);","/*\n AngularJS v1.3.15\n (c) 2010-2014 Google, Inc. http://angularjs.org\n License: MIT\n*/\n(function(N,f,W){'use strict';f.module(\"ngAnimate\",[\"ng\"]).directive(\"ngAnimateChildren\",function(){return function(X,C,g){g=g.ngAnimateChildren;f.isString(g)&&0===g.length?C.data(\"$$ngAnimateChildren\",!0):X.$watch(g,function(f){C.data(\"$$ngAnimateChildren\",!!f)})}}).factory(\"$$animateReflow\",[\"$$rAF\",\"$document\",function(f,C){return function(g){return f(function(){g()})}}]).config([\"$provide\",\"$animateProvider\",function(X,C){function g(f){for(var n=0;n<f.length;n++){var g=f[n];if(1==g.nodeType)return g}}\nfunction ba(f,n){return g(f)==g(n)}var t=f.noop,n=f.forEach,da=C.$$selectors,aa=f.isArray,ea=f.isString,ga=f.isObject,r={running:!0},u;X.decorator(\"$animate\",[\"$delegate\",\"$$q\",\"$injector\",\"$sniffer\",\"$rootElement\",\"$$asyncCallback\",\"$rootScope\",\"$document\",\"$templateRequest\",\"$$jqLite\",function(O,N,M,Y,y,H,P,W,Z,Q){function R(a,c){var b=a.data(\"$$ngAnimateState\")||{};c&&(b.running=!0,b.structural=!0,a.data(\"$$ngAnimateState\",b));return b.disabled||b.running&&b.structural}function D(a){var c,b=N.defer();\nb.promise.$$cancelFn=function(){c&&c()};P.$$postDigest(function(){c=a(function(){b.resolve()})});return b.promise}function I(a){if(ga(a))return a.tempClasses&&ea(a.tempClasses)&&(a.tempClasses=a.tempClasses.split(/\\s+/)),a}function S(a,c,b){b=b||{};var d={};n(b,function(e,a){n(a.split(\" \"),function(a){d[a]=e})});var h=Object.create(null);n((a.attr(\"class\")||\"\").split(/\\s+/),function(e){h[e]=!0});var f=[],l=[];n(c&&c.classes||[],function(e,a){var b=h[a],c=d[a]||{};!1===e?(b||\"addClass\"==c.event)&&\nl.push(a):!0===e&&(b&&\"removeClass\"!=c.event||f.push(a))});return 0<f.length+l.length&&[f.join(\" \"),l.join(\" \")]}function T(a){if(a){var c=[],b={};a=a.substr(1).split(\".\");(Y.transitions||Y.animations)&&c.push(M.get(da[\"\"]));for(var d=0;d<a.length;d++){var f=a[d],k=da[f];k&&!b[f]&&(c.push(M.get(k)),b[f]=!0)}return c}}function U(a,c,b,d){function h(e,a){var b=e[a],c=e[\"before\"+a.charAt(0).toUpperCase()+a.substr(1)];if(b||c)return\"leave\"==a&&(c=b,b=null),u.push({event:a,fn:b}),J.push({event:a,fn:c}),\n!0}function k(c,l,w){var E=[];n(c,function(a){a.fn&&E.push(a)});var m=0;n(E,function(c,f){var p=function(){a:{if(l){(l[f]||t)();if(++m<E.length)break a;l=null}w()}};switch(c.event){case \"setClass\":l.push(c.fn(a,e,A,p,d));break;case \"animate\":l.push(c.fn(a,b,d.from,d.to,p));break;case \"addClass\":l.push(c.fn(a,e||b,p,d));break;case \"removeClass\":l.push(c.fn(a,A||b,p,d));break;default:l.push(c.fn(a,p,d))}});l&&0===l.length&&w()}var l=a[0];if(l){d&&(d.to=d.to||{},d.from=d.from||{});var e,A;aa(b)&&(e=\nb[0],A=b[1],e?A?b=e+\" \"+A:(b=e,c=\"addClass\"):(b=A,c=\"removeClass\"));var w=\"setClass\"==c,E=w||\"addClass\"==c||\"removeClass\"==c||\"animate\"==c,p=a.attr(\"class\")+\" \"+b;if(x(p)){var ca=t,m=[],J=[],g=t,s=[],u=[],p=(\" \"+p).replace(/\\s+/g,\".\");n(T(p),function(a){!h(a,c)&&w&&(h(a,\"addClass\"),h(a,\"removeClass\"))});return{node:l,event:c,className:b,isClassBased:E,isSetClassOperation:w,applyStyles:function(){d&&a.css(f.extend(d.from||{},d.to||{}))},before:function(a){ca=a;k(J,m,function(){ca=t;a()})},after:function(a){g=\na;k(u,s,function(){g=t;a()})},cancel:function(){m&&(n(m,function(a){(a||t)(!0)}),ca(!0));s&&(n(s,function(a){(a||t)(!0)}),g(!0))}}}}}function G(a,c,b,d,h,k,l,e){function A(e){var l=\"$animate:\"+e;J&&J[l]&&0<J[l].length&&H(function(){b.triggerHandler(l,{event:a,className:c})})}function w(){A(\"before\")}function E(){A(\"after\")}function p(){p.hasBeenRun||(p.hasBeenRun=!0,k())}function g(){if(!g.hasBeenRun){m&&m.applyStyles();g.hasBeenRun=!0;l&&l.tempClasses&&n(l.tempClasses,function(a){u.removeClass(b,\na)});var w=b.data(\"$$ngAnimateState\");w&&(m&&m.isClassBased?B(b,c):(H(function(){var e=b.data(\"$$ngAnimateState\")||{};fa==e.index&&B(b,c,a)}),b.data(\"$$ngAnimateState\",w)));A(\"close\");e()}}var m=U(b,a,c,l);if(!m)return p(),w(),E(),g(),t;a=m.event;c=m.className;var J=f.element._data(m.node),J=J&&J.events;d||(d=h?h.parent():b.parent());if(z(b,d))return p(),w(),E(),g(),t;d=b.data(\"$$ngAnimateState\")||{};var L=d.active||{},s=d.totalActive||0,q=d.last;h=!1;if(0<s){s=[];if(m.isClassBased)\"setClass\"==q.event?\n(s.push(q),B(b,c)):L[c]&&(v=L[c],v.event==a?h=!0:(s.push(v),B(b,c)));else if(\"leave\"==a&&L[\"ng-leave\"])h=!0;else{for(var v in L)s.push(L[v]);d={};B(b,!0)}0<s.length&&n(s,function(a){a.cancel()})}!m.isClassBased||m.isSetClassOperation||\"animate\"==a||h||(h=\"addClass\"==a==b.hasClass(c));if(h)return p(),w(),E(),A(\"close\"),e(),t;L=d.active||{};s=d.totalActive||0;if(\"leave\"==a)b.one(\"$destroy\",function(a){a=f.element(this);var e=a.data(\"$$ngAnimateState\");e&&(e=e.active[\"ng-leave\"])&&(e.cancel(),B(a,\"ng-leave\"))});\nu.addClass(b,\"ng-animate\");l&&l.tempClasses&&n(l.tempClasses,function(a){u.addClass(b,a)});var fa=K++;s++;L[c]=m;b.data(\"$$ngAnimateState\",{last:m,active:L,index:fa,totalActive:s});w();m.before(function(e){var l=b.data(\"$$ngAnimateState\");e=e||!l||!l.active[c]||m.isClassBased&&l.active[c].event!=a;p();!0===e?g():(E(),m.after(g))});return m.cancel}function q(a){if(a=g(a))a=f.isFunction(a.getElementsByClassName)?a.getElementsByClassName(\"ng-animate\"):a.querySelectorAll(\".ng-animate\"),n(a,function(a){a=\nf.element(a);(a=a.data(\"$$ngAnimateState\"))&&a.active&&n(a.active,function(a){a.cancel()})})}function B(a,c){if(ba(a,y))r.disabled||(r.running=!1,r.structural=!1);else if(c){var b=a.data(\"$$ngAnimateState\")||{},d=!0===c;!d&&b.active&&b.active[c]&&(b.totalActive--,delete b.active[c]);if(d||!b.totalActive)u.removeClass(a,\"ng-animate\"),a.removeData(\"$$ngAnimateState\")}}function z(a,c){if(r.disabled)return!0;if(ba(a,y))return r.running;var b,d,g;do{if(0===c.length)break;var k=ba(c,y),l=k?r:c.data(\"$$ngAnimateState\")||\n{};if(l.disabled)return!0;k&&(g=!0);!1!==b&&(k=c.data(\"$$ngAnimateChildren\"),f.isDefined(k)&&(b=k));d=d||l.running||l.last&&!l.last.isClassBased}while(c=c.parent());return!g||!b&&d}u=Q;y.data(\"$$ngAnimateState\",r);var $=P.$watch(function(){return Z.totalPendingRequests},function(a,c){0===a&&($(),P.$$postDigest(function(){P.$$postDigest(function(){r.running=!1})}))}),K=0,V=C.classNameFilter(),x=V?function(a){return V.test(a)}:function(){return!0};return{animate:function(a,c,b,d,h){d=d||\"ng-inline-animate\";\nh=I(h)||{};h.from=b?c:null;h.to=b?b:c;return D(function(b){return G(\"animate\",d,f.element(g(a)),null,null,t,h,b)})},enter:function(a,c,b,d){d=I(d);a=f.element(a);c=c&&f.element(c);b=b&&f.element(b);R(a,!0);O.enter(a,c,b);return D(function(h){return G(\"enter\",\"ng-enter\",f.element(g(a)),c,b,t,d,h)})},leave:function(a,c){c=I(c);a=f.element(a);q(a);R(a,!0);return D(function(b){return G(\"leave\",\"ng-leave\",f.element(g(a)),null,null,function(){O.leave(a)},c,b)})},move:function(a,c,b,d){d=I(d);a=f.element(a);\nc=c&&f.element(c);b=b&&f.element(b);q(a);R(a,!0);O.move(a,c,b);return D(function(h){return G(\"move\",\"ng-move\",f.element(g(a)),c,b,t,d,h)})},addClass:function(a,c,b){return this.setClass(a,c,[],b)},removeClass:function(a,c,b){return this.setClass(a,[],c,b)},setClass:function(a,c,b,d){d=I(d);a=f.element(a);a=f.element(g(a));if(R(a))return O.$$setClassImmediately(a,c,b,d);var h,k=a.data(\"$$animateClasses\"),l=!!k;k||(k={classes:{}});h=k.classes;c=aa(c)?c:c.split(\" \");n(c,function(a){a&&a.length&&(h[a]=\n!0)});b=aa(b)?b:b.split(\" \");n(b,function(a){a&&a.length&&(h[a]=!1)});if(l)return d&&k.options&&(k.options=f.extend(k.options||{},d)),k.promise;a.data(\"$$animateClasses\",k={classes:h,options:d});return k.promise=D(function(e){var l=a.parent(),b=g(a),c=b.parentNode;if(!c||c.$$NG_REMOVED||b.$$NG_REMOVED)e();else{b=a.data(\"$$animateClasses\");a.removeData(\"$$animateClasses\");var c=a.data(\"$$ngAnimateState\")||{},d=S(a,b,c.active);return d?G(\"setClass\",d,a,l,null,function(){d[0]&&O.$$addClassImmediately(a,\nd[0]);d[1]&&O.$$removeClassImmediately(a,d[1])},b.options,e):e()}})},cancel:function(a){a.$$cancelFn()},enabled:function(a,c){switch(arguments.length){case 2:if(a)B(c);else{var b=c.data(\"$$ngAnimateState\")||{};b.disabled=!0;c.data(\"$$ngAnimateState\",b)}break;case 1:r.disabled=!a;break;default:a=!r.disabled}return!!a}}}]);C.register(\"\",[\"$window\",\"$sniffer\",\"$timeout\",\"$$animateReflow\",function(r,C,M,Y){function y(){b||(b=Y(function(){c=[];b=null;x={}}))}function H(a,e){b&&b();c.push(e);b=Y(function(){n(c,\nfunction(a){a()});c=[];b=null;x={}})}function P(a,e){var b=g(a);a=f.element(b);k.push(a);b=Date.now()+e;b<=h||(M.cancel(d),h=b,d=M(function(){X(k);k=[]},e,!1))}function X(a){n(a,function(a){(a=a.data(\"$$ngAnimateCSS3Data\"))&&n(a.closeAnimationFns,function(a){a()})})}function Z(a,e){var b=e?x[e]:null;if(!b){var c=0,d=0,f=0,g=0;n(a,function(a){if(1==a.nodeType){a=r.getComputedStyle(a)||{};c=Math.max(Q(a[z+\"Duration\"]),c);d=Math.max(Q(a[z+\"Delay\"]),d);g=Math.max(Q(a[K+\"Delay\"]),g);var e=Q(a[K+\"Duration\"]);\n0<e&&(e*=parseInt(a[K+\"IterationCount\"],10)||1);f=Math.max(e,f)}});b={total:0,transitionDelay:d,transitionDuration:c,animationDelay:g,animationDuration:f};e&&(x[e]=b)}return b}function Q(a){var e=0;a=ea(a)?a.split(/\\s*,\\s*/):[];n(a,function(a){e=Math.max(parseFloat(a)||0,e)});return e}function R(b,e,c,d){b=0<=[\"ng-enter\",\"ng-leave\",\"ng-move\"].indexOf(c);var f,p=e.parent(),h=p.data(\"$$ngAnimateKey\");h||(p.data(\"$$ngAnimateKey\",++a),h=a);f=h+\"-\"+g(e).getAttribute(\"class\");var p=f+\" \"+c,h=x[p]?++x[p].total:\n0,m={};if(0<h){var n=c+\"-stagger\",m=f+\" \"+n;(f=!x[m])&&u.addClass(e,n);m=Z(e,m);f&&u.removeClass(e,n)}u.addClass(e,c);var n=e.data(\"$$ngAnimateCSS3Data\")||{},k=Z(e,p);f=k.transitionDuration;k=k.animationDuration;if(b&&0===f&&0===k)return u.removeClass(e,c),!1;c=d||b&&0<f;b=0<k&&0<m.animationDelay&&0===m.animationDuration;e.data(\"$$ngAnimateCSS3Data\",{stagger:m,cacheKey:p,running:n.running||0,itemIndex:h,blockTransition:c,closeAnimationFns:n.closeAnimationFns||[]});p=g(e);c&&(I(p,!0),d&&e.css(d));\nb&&(p.style[K+\"PlayState\"]=\"paused\");return!0}function D(a,e,b,c,d){function f(){e.off(D,h);u.removeClass(e,k);u.removeClass(e,t);z&&M.cancel(z);G(e,b);var a=g(e),c;for(c in s)a.style.removeProperty(s[c])}function h(a){a.stopPropagation();var b=a.originalEvent||a;a=b.$manualTimeStamp||b.timeStamp||Date.now();b=parseFloat(b.elapsedTime.toFixed(3));Math.max(a-H,0)>=C&&b>=x&&c()}var m=g(e);a=e.data(\"$$ngAnimateCSS3Data\");if(-1!=m.getAttribute(\"class\").indexOf(b)&&a){var k=\"\",t=\"\";n(b.split(\" \"),function(a,\nb){var e=(0<b?\" \":\"\")+a;k+=e+\"-active\";t+=e+\"-pending\"});var s=[],q=a.itemIndex,v=a.stagger,r=0;if(0<q){r=0;0<v.transitionDelay&&0===v.transitionDuration&&(r=v.transitionDelay*q);var y=0;0<v.animationDelay&&0===v.animationDuration&&(y=v.animationDelay*q,s.push(B+\"animation-play-state\"));r=Math.round(100*Math.max(r,y))/100}r||(u.addClass(e,k),a.blockTransition&&I(m,!1));var F=Z(e,a.cacheKey+\" \"+k),x=Math.max(F.transitionDuration,F.animationDuration);if(0===x)u.removeClass(e,k),G(e,b),c();else{!r&&\nd&&0<Object.keys(d).length&&(F.transitionDuration||(e.css(\"transition\",F.animationDuration+\"s linear all\"),s.push(\"transition\")),e.css(d));var q=Math.max(F.transitionDelay,F.animationDelay),C=1E3*q;0<s.length&&(v=m.getAttribute(\"style\")||\"\",\";\"!==v.charAt(v.length-1)&&(v+=\";\"),m.setAttribute(\"style\",v+\" \"));var H=Date.now(),D=V+\" \"+$,q=1E3*(r+1.5*(q+x)),z;0<r&&(u.addClass(e,t),z=M(function(){z=null;0<F.transitionDuration&&I(m,!1);0<F.animationDuration&&(m.style[K+\"PlayState\"]=\"\");u.addClass(e,k);\nu.removeClass(e,t);d&&(0===F.transitionDuration&&e.css(\"transition\",F.animationDuration+\"s linear all\"),e.css(d),s.push(\"transition\"))},1E3*r,!1));e.on(D,h);a.closeAnimationFns.push(function(){f();c()});a.running++;P(e,q);return f}}else c()}function I(a,b){a.style[z+\"Property\"]=b?\"none\":\"\"}function S(a,b,c,d){if(R(a,b,c,d))return function(a){a&&G(b,c)}}function T(a,b,c,d,f){if(b.data(\"$$ngAnimateCSS3Data\"))return D(a,b,c,d,f);G(b,c);d()}function U(a,b,c,d,f){var g=S(a,b,c,f.from);if(g){var h=g;H(b,\nfunction(){h=T(a,b,c,d,f.to)});return function(a){(h||t)(a)}}y();d()}function G(a,b){u.removeClass(a,b);var c=a.data(\"$$ngAnimateCSS3Data\");c&&(c.running&&c.running--,c.running&&0!==c.running||a.removeData(\"$$ngAnimateCSS3Data\"))}function q(a,b){var c=\"\";a=aa(a)?a:a.split(/\\s+/);n(a,function(a,d){a&&0<a.length&&(c+=(0<d?\" \":\"\")+a+b)});return c}var B=\"\",z,$,K,V;N.ontransitionend===W&&N.onwebkittransitionend!==W?(B=\"-webkit-\",z=\"WebkitTransition\",$=\"webkitTransitionEnd transitionend\"):(z=\"transition\",\n$=\"transitionend\");N.onanimationend===W&&N.onwebkitanimationend!==W?(B=\"-webkit-\",K=\"WebkitAnimation\",V=\"webkitAnimationEnd animationend\"):(K=\"animation\",V=\"animationend\");var x={},a=0,c=[],b,d=null,h=0,k=[];return{animate:function(a,b,c,d,f,g){g=g||{};g.from=c;g.to=d;return U(\"animate\",a,b,f,g)},enter:function(a,b,c){c=c||{};return U(\"enter\",a,\"ng-enter\",b,c)},leave:function(a,b,c){c=c||{};return U(\"leave\",a,\"ng-leave\",b,c)},move:function(a,b,c){c=c||{};return U(\"move\",a,\"ng-move\",b,c)},beforeSetClass:function(a,\nb,c,d,f){f=f||{};b=q(c,\"-remove\")+\" \"+q(b,\"-add\");if(f=S(\"setClass\",a,b,f.from))return H(a,d),f;y();d()},beforeAddClass:function(a,b,c,d){d=d||{};if(b=S(\"addClass\",a,q(b,\"-add\"),d.from))return H(a,c),b;y();c()},beforeRemoveClass:function(a,b,c,d){d=d||{};if(b=S(\"removeClass\",a,q(b,\"-remove\"),d.from))return H(a,c),b;y();c()},setClass:function(a,b,c,d,f){f=f||{};c=q(c,\"-remove\");b=q(b,\"-add\");return T(\"setClass\",a,c+\" \"+b,d,f.to)},addClass:function(a,b,c,d){d=d||{};return T(\"addClass\",a,q(b,\"-add\"),\nc,d.to)},removeClass:function(a,b,c,d){d=d||{};return T(\"removeClass\",a,q(b,\"-remove\"),c,d.to)}}}])}])})(window,window.angular);\n//# sourceMappingURL=angular-animate.min.js.map\n","/*\n AngularJS v1.3.15\n (c) 2010-2014 Google, Inc. http://angularjs.org\n License: MIT\n*/\n(function(n,h,p){'use strict';function E(a){var e=[];r(e,h.noop).chars(a);return e.join(\"\")}function g(a){var e={};a=a.split(\",\");var d;for(d=0;d<a.length;d++)e[a[d]]=!0;return e}function F(a,e){function d(a,b,d,l){b=h.lowercase(b);if(s[b])for(;f.last()&&t[f.last()];)c(\"\",f.last());u[b]&&f.last()==b&&c(\"\",b);(l=v[b]||!!l)||f.push(b);var m={};d.replace(G,function(a,b,e,c,d){m[b]=q(e||c||d||\"\")});e.start&&e.start(b,m,l)}function c(a,b){var c=0,d;if(b=h.lowercase(b))for(c=f.length-1;0<=c&&f[c]!=b;c--);\nif(0<=c){for(d=f.length-1;d>=c;d--)e.end&&e.end(f[d]);f.length=c}}\"string\"!==typeof a&&(a=null===a||\"undefined\"===typeof a?\"\":\"\"+a);var b,k,f=[],m=a,l;for(f.last=function(){return f[f.length-1]};a;){l=\"\";k=!0;if(f.last()&&w[f.last()])a=a.replace(new RegExp(\"([\\\\W\\\\w]*)<\\\\s*\\\\/\\\\s*\"+f.last()+\"[^>]*>\",\"i\"),function(a,b){b=b.replace(H,\"$1\").replace(I,\"$1\");e.chars&&e.chars(q(b));return\"\"}),c(\"\",f.last());else{if(0===a.indexOf(\"\\x3c!--\"))b=a.indexOf(\"--\",4),0<=b&&a.lastIndexOf(\"--\\x3e\",b)===b&&(e.comment&&\ne.comment(a.substring(4,b)),a=a.substring(b+3),k=!1);else if(x.test(a)){if(b=a.match(x))a=a.replace(b[0],\"\"),k=!1}else if(J.test(a)){if(b=a.match(y))a=a.substring(b[0].length),b[0].replace(y,c),k=!1}else K.test(a)&&((b=a.match(z))?(b[4]&&(a=a.substring(b[0].length),b[0].replace(z,d)),k=!1):(l+=\"<\",a=a.substring(1)));k&&(b=a.indexOf(\"<\"),l+=0>b?a:a.substring(0,b),a=0>b?\"\":a.substring(b),e.chars&&e.chars(q(l)))}if(a==m)throw L(\"badparse\",a);m=a}c()}function q(a){if(!a)return\"\";A.innerHTML=a.replace(/</g,\n\"&lt;\");return A.textContent}function B(a){return a.replace(/&/g,\"&amp;\").replace(M,function(a){var d=a.charCodeAt(0);a=a.charCodeAt(1);return\"&#\"+(1024*(d-55296)+(a-56320)+65536)+\";\"}).replace(N,function(a){return\"&#\"+a.charCodeAt(0)+\";\"}).replace(/</g,\"&lt;\").replace(/>/g,\"&gt;\")}function r(a,e){var d=!1,c=h.bind(a,a.push);return{start:function(a,k,f){a=h.lowercase(a);!d&&w[a]&&(d=a);d||!0!==C[a]||(c(\"<\"),c(a),h.forEach(k,function(d,f){var k=h.lowercase(f),g=\"img\"===a&&\"src\"===k||\"background\"===\nk;!0!==O[k]||!0===D[k]&&!e(d,g)||(c(\" \"),c(f),c('=\"'),c(B(d)),c('\"'))}),c(f?\"/>\":\">\"))},end:function(a){a=h.lowercase(a);d||!0!==C[a]||(c(\"</\"),c(a),c(\">\"));a==d&&(d=!1)},chars:function(a){d||c(B(a))}}}var L=h.$$minErr(\"$sanitize\"),z=/^<((?:[a-zA-Z])[\\w:-]*)((?:\\s+[\\w:-]+(?:\\s*=\\s*(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>\\s]+))?)*)\\s*(\\/?)\\s*(>?)/,y=/^<\\/\\s*([\\w:-]+)[^>]*>/,G=/([\\w:-]+)(?:\\s*=\\s*(?:(?:\"((?:[^\"])*)\")|(?:'((?:[^'])*)')|([^>\\s]+)))?/g,K=/^</,J=/^<\\//,H=/\\x3c!--(.*?)--\\x3e/g,x=/<!DOCTYPE([^>]*?)>/i,\nI=/<!\\[CDATA\\[(.*?)]]\\x3e/g,M=/[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g,N=/([^\\#-~| |!])/g,v=g(\"area,br,col,hr,img,wbr\");n=g(\"colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr\");p=g(\"rp,rt\");var u=h.extend({},p,n),s=h.extend({},n,g(\"address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul\")),t=h.extend({},p,g(\"a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var\"));\nn=g(\"animate,animateColor,animateMotion,animateTransform,circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,set,stop,svg,switch,text,title,tspan,use\");var w=g(\"script,style\"),C=h.extend({},v,s,t,u,n),D=g(\"background,cite,href,longdesc,src,usemap,xlink:href\");n=g(\"abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,target,title,type,valign,value,vspace,width\");\np=g(\"accent-height,accumulate,additive,alphabetic,arabic-form,ascent,attributeName,attributeType,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan\");\nvar O=h.extend({},D,p,n),A=document.createElement(\"pre\");h.module(\"ngSanitize\",[]).provider(\"$sanitize\",function(){this.$get=[\"$$sanitizeUri\",function(a){return function(e){var d=[];F(e,r(d,function(c,b){return!/^unsafe/.test(a(c,b))}));return d.join(\"\")}}]});h.module(\"ngSanitize\").filter(\"linky\",[\"$sanitize\",function(a){var e=/((ftp|https?):\\/\\/|(www\\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\\S*[^\\s.;,(){}<>\"\\u201d\\u2019]/,d=/^mailto:/;return function(c,b){function k(a){a&&g.push(E(a))}function f(a,c){g.push(\"<a \");\nh.isDefined(b)&&g.push('target=\"',b,'\" ');g.push('href=\"',a.replace(/\"/g,\"&quot;\"),'\">');k(c);g.push(\"</a>\")}if(!c)return c;for(var m,l=c,g=[],n,p;m=l.match(e);)n=m[0],m[2]||m[4]||(n=(m[3]?\"http://\":\"mailto:\")+n),p=m.index,k(l.substr(0,p)),f(n,m[0].replace(d,\"\")),l=l.substring(p+m[0].length);k(l);return a(g.join(\"\"))}}])})(window,window.angular);\n//# sourceMappingURL=angular-sanitize.min.js.map\n","/*\n * angular-ui-bootstrap\n * http://angular-ui.github.io/bootstrap/\n\n * Version: 0.12.1 - 2015-02-20\n * License: MIT\n */\nangular.module(\"ui.bootstrap\",[\"ui.bootstrap.transition\",\"ui.bootstrap.collapse\",\"ui.bootstrap.accordion\",\"ui.bootstrap.alert\",\"ui.bootstrap.bindHtml\",\"ui.bootstrap.buttons\",\"ui.bootstrap.carousel\",\"ui.bootstrap.dateparser\",\"ui.bootstrap.position\",\"ui.bootstrap.datepicker\",\"ui.bootstrap.dropdown\",\"ui.bootstrap.modal\",\"ui.bootstrap.pagination\",\"ui.bootstrap.tooltip\",\"ui.bootstrap.popover\",\"ui.bootstrap.progressbar\",\"ui.bootstrap.rating\",\"ui.bootstrap.tabs\",\"ui.bootstrap.timepicker\",\"ui.bootstrap.typeahead\"]),angular.module(\"ui.bootstrap.transition\",[]).factory(\"$transition\",[\"$q\",\"$timeout\",\"$rootScope\",function(a,b,c){function d(a){for(var b in a)if(void 0!==f.style[b])return a[b]}var e=function(d,f,g){g=g||{};var h=a.defer(),i=e[g.animation?\"animationEndEventName\":\"transitionEndEventName\"],j=function(){c.$apply(function(){d.unbind(i,j),h.resolve(d)})};return i&&d.bind(i,j),b(function(){angular.isString(f)?d.addClass(f):angular.isFunction(f)?f(d):angular.isObject(f)&&d.css(f),i||h.resolve(d)}),h.promise.cancel=function(){i&&d.unbind(i,j),h.reject(\"Transition cancelled\")},h.promise},f=document.createElement(\"trans\"),g={WebkitTransition:\"webkitTransitionEnd\",MozTransition:\"transitionend\",OTransition:\"oTransitionEnd\",transition:\"transitionend\"},h={WebkitTransition:\"webkitAnimationEnd\",MozTransition:\"animationend\",OTransition:\"oAnimationEnd\",transition:\"animationend\"};return e.transitionEndEventName=d(g),e.animationEndEventName=d(h),e}]),angular.module(\"ui.bootstrap.collapse\",[\"ui.bootstrap.transition\"]).directive(\"collapse\",[\"$transition\",function(a){return{link:function(b,c,d){function e(b){function d(){j===e&&(j=void 0)}var e=a(c,b);return j&&j.cancel(),j=e,e.then(d,d),e}function f(){k?(k=!1,g()):(c.removeClass(\"collapse\").addClass(\"collapsing\"),e({height:c[0].scrollHeight+\"px\"}).then(g))}function g(){c.removeClass(\"collapsing\"),c.addClass(\"collapse in\"),c.css({height:\"auto\"})}function h(){if(k)k=!1,i(),c.css({height:0});else{c.css({height:c[0].scrollHeight+\"px\"});{c[0].offsetWidth}c.removeClass(\"collapse in\").addClass(\"collapsing\"),e({height:0}).then(i)}}function i(){c.removeClass(\"collapsing\"),c.addClass(\"collapse\")}var j,k=!0;b.$watch(d.collapse,function(a){a?h():f()})}}}]),angular.module(\"ui.bootstrap.accordion\",[\"ui.bootstrap.collapse\"]).constant(\"accordionConfig\",{closeOthers:!0}).controller(\"AccordionController\",[\"$scope\",\"$attrs\",\"accordionConfig\",function(a,b,c){this.groups=[],this.closeOthers=function(d){var e=angular.isDefined(b.closeOthers)?a.$eval(b.closeOthers):c.closeOthers;e&&angular.forEach(this.groups,function(a){a!==d&&(a.isOpen=!1)})},this.addGroup=function(a){var b=this;this.groups.push(a),a.$on(\"$destroy\",function(){b.removeGroup(a)})},this.removeGroup=function(a){var b=this.groups.indexOf(a);-1!==b&&this.groups.splice(b,1)}}]).directive(\"accordion\",function(){return{restrict:\"EA\",controller:\"AccordionController\",transclude:!0,replace:!1,templateUrl:\"template/accordion/accordion.html\"}}).directive(\"accordionGroup\",function(){return{require:\"^accordion\",restrict:\"EA\",transclude:!0,replace:!0,templateUrl:\"template/accordion/accordion-group.html\",scope:{heading:\"@\",isOpen:\"=?\",isDisabled:\"=?\"},controller:function(){this.setHeading=function(a){this.heading=a}},link:function(a,b,c,d){d.addGroup(a),a.$watch(\"isOpen\",function(b){b&&d.closeOthers(a)}),a.toggleOpen=function(){a.isDisabled||(a.isOpen=!a.isOpen)}}}}).directive(\"accordionHeading\",function(){return{restrict:\"EA\",transclude:!0,template:\"\",replace:!0,require:\"^accordionGroup\",link:function(a,b,c,d,e){d.setHeading(e(a,function(){}))}}}).directive(\"accordionTransclude\",function(){return{require:\"^accordionGroup\",link:function(a,b,c,d){a.$watch(function(){return d[c.accordionTransclude]},function(a){a&&(b.html(\"\"),b.append(a))})}}}),angular.module(\"ui.bootstrap.alert\",[]).controller(\"AlertController\",[\"$scope\",\"$attrs\",function(a,b){a.closeable=\"close\"in b,this.close=a.close}]).directive(\"alert\",function(){return{restrict:\"EA\",controller:\"AlertController\",templateUrl:\"template/alert/alert.html\",transclude:!0,replace:!0,scope:{type:\"@\",close:\"&\"}}}).directive(\"dismissOnTimeout\",[\"$timeout\",function(a){return{require:\"alert\",link:function(b,c,d,e){a(function(){e.close()},parseInt(d.dismissOnTimeout,10))}}}]),angular.module(\"ui.bootstrap.bindHtml\",[]).directive(\"bindHtmlUnsafe\",function(){return function(a,b,c){b.addClass(\"ng-binding\").data(\"$binding\",c.bindHtmlUnsafe),a.$watch(c.bindHtmlUnsafe,function(a){b.html(a||\"\")})}}),angular.module(\"ui.bootstrap.buttons\",[]).constant(\"buttonConfig\",{activeClass:\"active\",toggleEvent:\"click\"}).controller(\"ButtonsController\",[\"buttonConfig\",function(a){this.activeClass=a.activeClass||\"active\",this.toggleEvent=a.toggleEvent||\"click\"}]).directive(\"btnRadio\",function(){return{require:[\"btnRadio\",\"ngModel\"],controller:\"ButtonsController\",link:function(a,b,c,d){var e=d[0],f=d[1];f.$render=function(){b.toggleClass(e.activeClass,angular.equals(f.$modelValue,a.$eval(c.btnRadio)))},b.bind(e.toggleEvent,function(){var d=b.hasClass(e.activeClass);(!d||angular.isDefined(c.uncheckable))&&a.$apply(function(){f.$setViewValue(d?null:a.$eval(c.btnRadio)),f.$render()})})}}}).directive(\"btnCheckbox\",function(){return{require:[\"btnCheckbox\",\"ngModel\"],controller:\"ButtonsController\",link:function(a,b,c,d){function e(){return g(c.btnCheckboxTrue,!0)}function f(){return g(c.btnCheckboxFalse,!1)}function g(b,c){var d=a.$eval(b);return angular.isDefined(d)?d:c}var h=d[0],i=d[1];i.$render=function(){b.toggleClass(h.activeClass,angular.equals(i.$modelValue,e()))},b.bind(h.toggleEvent,function(){a.$apply(function(){i.$setViewValue(b.hasClass(h.activeClass)?f():e()),i.$render()})})}}}),angular.module(\"ui.bootstrap.carousel\",[\"ui.bootstrap.transition\"]).controller(\"CarouselController\",[\"$scope\",\"$timeout\",\"$interval\",\"$transition\",function(a,b,c,d){function e(){f();var b=+a.interval;!isNaN(b)&&b>0&&(h=c(g,b))}function f(){h&&(c.cancel(h),h=null)}function g(){var b=+a.interval;i&&!isNaN(b)&&b>0?a.next():a.pause()}var h,i,j=this,k=j.slides=a.slides=[],l=-1;j.currentSlide=null;var m=!1;j.select=a.select=function(c,f){function g(){if(!m){if(j.currentSlide&&angular.isString(f)&&!a.noTransition&&c.$element){c.$element.addClass(f);{c.$element[0].offsetWidth}angular.forEach(k,function(a){angular.extend(a,{direction:\"\",entering:!1,leaving:!1,active:!1})}),angular.extend(c,{direction:f,active:!0,entering:!0}),angular.extend(j.currentSlide||{},{direction:f,leaving:!0}),a.$currentTransition=d(c.$element,{}),function(b,c){a.$currentTransition.then(function(){h(b,c)},function(){h(b,c)})}(c,j.currentSlide)}else h(c,j.currentSlide);j.currentSlide=c,l=i,e()}}function h(b,c){angular.extend(b,{direction:\"\",active:!0,leaving:!1,entering:!1}),angular.extend(c||{},{direction:\"\",active:!1,leaving:!1,entering:!1}),a.$currentTransition=null}var i=k.indexOf(c);void 0===f&&(f=i>l?\"next\":\"prev\"),c&&c!==j.currentSlide&&(a.$currentTransition?(a.$currentTransition.cancel(),b(g)):g())},a.$on(\"$destroy\",function(){m=!0}),j.indexOfSlide=function(a){return k.indexOf(a)},a.next=function(){var b=(l+1)%k.length;return a.$currentTransition?void 0:j.select(k[b],\"next\")},a.prev=function(){var b=0>l-1?k.length-1:l-1;return a.$currentTransition?void 0:j.select(k[b],\"prev\")},a.isActive=function(a){return j.currentSlide===a},a.$watch(\"interval\",e),a.$on(\"$destroy\",f),a.play=function(){i||(i=!0,e())},a.pause=function(){a.noPause||(i=!1,f())},j.addSlide=function(b,c){b.$element=c,k.push(b),1===k.length||b.active?(j.select(k[k.length-1]),1==k.length&&a.play()):b.active=!1},j.removeSlide=function(a){var b=k.indexOf(a);k.splice(b,1),k.length>0&&a.active?j.select(b>=k.length?k[b-1]:k[b]):l>b&&l--}}]).directive(\"carousel\",[function(){return{restrict:\"EA\",transclude:!0,replace:!0,controller:\"CarouselController\",require:\"carousel\",templateUrl:\"template/carousel/carousel.html\",scope:{interval:\"=\",noTransition:\"=\",noPause:\"=\"}}}]).directive(\"slide\",function(){return{require:\"^carousel\",restrict:\"EA\",transclude:!0,replace:!0,templateUrl:\"template/carousel/slide.html\",scope:{active:\"=?\"},link:function(a,b,c,d){d.addSlide(a,b),a.$on(\"$destroy\",function(){d.removeSlide(a)}),a.$watch(\"active\",function(b){b&&d.select(a)})}}}),angular.module(\"ui.bootstrap.dateparser\",[]).service(\"dateParser\",[\"$locale\",\"orderByFilter\",function(a,b){function c(a){var c=[],d=a.split(\"\");return angular.forEach(e,function(b,e){var f=a.indexOf(e);if(f>-1){a=a.split(\"\"),d[f]=\"(\"+b.regex+\")\",a[f]=\"$\";for(var g=f+1,h=f+e.length;h>g;g++)d[g]=\"\",a[g]=\"$\";a=a.join(\"\"),c.push({index:f,apply:b.apply})}}),{regex:new RegExp(\"^\"+d.join(\"\")+\"$\"),map:b(c,\"index\")}}function d(a,b,c){return 1===b&&c>28?29===c&&(a%4===0&&a%100!==0||a%400===0):3===b||5===b||8===b||10===b?31>c:!0}this.parsers={};var e={yyyy:{regex:\"\\\\d{4}\",apply:function(a){this.year=+a}},yy:{regex:\"\\\\d{2}\",apply:function(a){this.year=+a+2e3}},y:{regex:\"\\\\d{1,4}\",apply:function(a){this.year=+a}},MMMM:{regex:a.DATETIME_FORMATS.MONTH.join(\"|\"),apply:function(b){this.month=a.DATETIME_FORMATS.MONTH.indexOf(b)}},MMM:{regex:a.DATETIME_FORMATS.SHORTMONTH.join(\"|\"),apply:function(b){this.month=a.DATETIME_FORMATS.SHORTMONTH.indexOf(b)}},MM:{regex:\"0[1-9]|1[0-2]\",apply:function(a){this.month=a-1}},M:{regex:\"[1-9]|1[0-2]\",apply:function(a){this.month=a-1}},dd:{regex:\"[0-2][0-9]{1}|3[0-1]{1}\",apply:function(a){this.date=+a}},d:{regex:\"[1-2]?[0-9]{1}|3[0-1]{1}\",apply:function(a){this.date=+a}},EEEE:{regex:a.DATETIME_FORMATS.DAY.join(\"|\")},EEE:{regex:a.DATETIME_FORMATS.SHORTDAY.join(\"|\")}};this.parse=function(b,e){if(!angular.isString(b)||!e)return b;e=a.DATETIME_FORMATS[e]||e,this.parsers[e]||(this.parsers[e]=c(e));var f=this.parsers[e],g=f.regex,h=f.map,i=b.match(g);if(i&&i.length){for(var j,k={year:1900,month:0,date:1,hours:0},l=1,m=i.length;m>l;l++){var n=h[l-1];n.apply&&n.apply.call(k,i[l])}return d(k.year,k.month,k.date)&&(j=new Date(k.year,k.month,k.date,k.hours)),j}}}]),angular.module(\"ui.bootstrap.position\",[]).factory(\"$position\",[\"$document\",\"$window\",function(a,b){function c(a,c){return a.currentStyle?a.currentStyle[c]:b.getComputedStyle?b.getComputedStyle(a)[c]:a.style[c]}function d(a){return\"static\"===(c(a,\"position\")||\"static\")}var e=function(b){for(var c=a[0],e=b.offsetParent||c;e&&e!==c&&d(e);)e=e.offsetParent;return e||c};return{position:function(b){var c=this.offset(b),d={top:0,left:0},f=e(b[0]);f!=a[0]&&(d=this.offset(angular.element(f)),d.top+=f.clientTop-f.scrollTop,d.left+=f.clientLeft-f.scrollLeft);var g=b[0].getBoundingClientRect();return{width:g.width||b.prop(\"offsetWidth\"),height:g.height||b.prop(\"offsetHeight\"),top:c.top-d.top,left:c.left-d.left}},offset:function(c){var d=c[0].getBoundingClientRect();return{width:d.width||c.prop(\"offsetWidth\"),height:d.height||c.prop(\"offsetHeight\"),top:d.top+(b.pageYOffset||a[0].documentElement.scrollTop),left:d.left+(b.pageXOffset||a[0].documentElement.scrollLeft)}},positionElements:function(a,b,c,d){var e,f,g,h,i=c.split(\"-\"),j=i[0],k=i[1]||\"center\";e=d?this.offset(a):this.position(a),f=b.prop(\"offsetWidth\"),g=b.prop(\"offsetHeight\");var l={center:function(){return e.left+e.width/2-f/2},left:function(){return e.left},right:function(){return e.left+e.width}},m={center:function(){return e.top+e.height/2-g/2},top:function(){return e.top},bottom:function(){return e.top+e.height}};switch(j){case\"right\":h={top:m[k](),left:l[j]()};break;case\"left\":h={top:m[k](),left:e.left-f};break;case\"bottom\":h={top:m[j](),left:l[k]()};break;default:h={top:e.top-g,left:l[k]()}}return h}}}]),angular.module(\"ui.bootstrap.datepicker\",[\"ui.bootstrap.dateparser\",\"ui.bootstrap.position\"]).constant(\"datepickerConfig\",{formatDay:\"dd\",formatMonth:\"MMMM\",formatYear:\"yyyy\",formatDayHeader:\"EEE\",formatDayTitle:\"MMMM yyyy\",formatMonthTitle:\"yyyy\",datepickerMode:\"day\",minMode:\"day\",maxMode:\"year\",showWeeks:!0,startingDay:0,yearRange:20,minDate:null,maxDate:null}).controller(\"DatepickerController\",[\"$scope\",\"$attrs\",\"$parse\",\"$interpolate\",\"$timeout\",\"$log\",\"dateFilter\",\"datepickerConfig\",function(a,b,c,d,e,f,g,h){var i=this,j={$setViewValue:angular.noop};this.modes=[\"day\",\"month\",\"year\"],angular.forEach([\"formatDay\",\"formatMonth\",\"formatYear\",\"formatDayHeader\",\"formatDayTitle\",\"formatMonthTitle\",\"minMode\",\"maxMode\",\"showWeeks\",\"startingDay\",\"yearRange\"],function(c,e){i[c]=angular.isDefined(b[c])?8>e?d(b[c])(a.$parent):a.$parent.$eval(b[c]):h[c]}),angular.forEach([\"minDate\",\"maxDate\"],function(d){b[d]?a.$parent.$watch(c(b[d]),function(a){i[d]=a?new Date(a):null,i.refreshView()}):i[d]=h[d]?new Date(h[d]):null}),a.datepickerMode=a.datepickerMode||h.datepickerMode,a.uniqueId=\"datepicker-\"+a.$id+\"-\"+Math.floor(1e4*Math.random()),this.activeDate=angular.isDefined(b.initDate)?a.$parent.$eval(b.initDate):new Date,a.isActive=function(b){return 0===i.compare(b.date,i.activeDate)?(a.activeDateId=b.uid,!0):!1},this.init=function(a){j=a,j.$render=function(){i.render()}},this.render=function(){if(j.$modelValue){var a=new Date(j.$modelValue),b=!isNaN(a);b?this.activeDate=a:f.error('Datepicker directive: \"ng-model\" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.'),j.$setValidity(\"date\",b)}this.refreshView()},this.refreshView=function(){if(this.element){this._refreshView();var a=j.$modelValue?new Date(j.$modelValue):null;j.$setValidity(\"date-disabled\",!a||this.element&&!this.isDisabled(a))}},this.createDateObject=function(a,b){var c=j.$modelValue?new Date(j.$modelValue):null;return{date:a,label:g(a,b),selected:c&&0===this.compare(a,c),disabled:this.isDisabled(a),current:0===this.compare(a,new Date)}},this.isDisabled=function(c){return this.minDate&&this.compare(c,this.minDate)<0||this.maxDate&&this.compare(c,this.maxDate)>0||b.dateDisabled&&a.dateDisabled({date:c,mode:a.datepickerMode})},this.split=function(a,b){for(var c=[];a.length>0;)c.push(a.splice(0,b));return c},a.select=function(b){if(a.datepickerMode===i.minMode){var c=j.$modelValue?new Date(j.$modelValue):new Date(0,0,0,0,0,0,0);c.setFullYear(b.getFullYear(),b.getMonth(),b.getDate()),j.$setViewValue(c),j.$render()}else i.activeDate=b,a.datepickerMode=i.modes[i.modes.indexOf(a.datepickerMode)-1]},a.move=function(a){var b=i.activeDate.getFullYear()+a*(i.step.years||0),c=i.activeDate.getMonth()+a*(i.step.months||0);i.activeDate.setFullYear(b,c,1),i.refreshView()},a.toggleMode=function(b){b=b||1,a.datepickerMode===i.maxMode&&1===b||a.datepickerMode===i.minMode&&-1===b||(a.datepickerMode=i.modes[i.modes.indexOf(a.datepickerMode)+b])},a.keys={13:\"enter\",32:\"space\",33:\"pageup\",34:\"pagedown\",35:\"end\",36:\"home\",37:\"left\",38:\"up\",39:\"right\",40:\"down\"};var k=function(){e(function(){i.element[0].focus()},0,!1)};a.$on(\"datepicker.focus\",k),a.keydown=function(b){var c=a.keys[b.which];if(c&&!b.shiftKey&&!b.altKey)if(b.preventDefault(),b.stopPropagation(),\"enter\"===c||\"space\"===c){if(i.isDisabled(i.activeDate))return;a.select(i.activeDate),k()}else!b.ctrlKey||\"up\"!==c&&\"down\"!==c?(i.handleKeyDown(c,b),i.refreshView()):(a.toggleMode(\"up\"===c?1:-1),k())}}]).directive(\"datepicker\",function(){return{restrict:\"EA\",replace:!0,templateUrl:\"template/datepicker/datepicker.html\",scope:{datepickerMode:\"=?\",dateDisabled:\"&\"},require:[\"datepicker\",\"?^ngModel\"],controller:\"DatepickerController\",link:function(a,b,c,d){var e=d[0],f=d[1];f&&e.init(f)}}}).directive(\"daypicker\",[\"dateFilter\",function(a){return{restrict:\"EA\",replace:!0,templateUrl:\"template/datepicker/day.html\",require:\"^datepicker\",link:function(b,c,d,e){function f(a,b){return 1!==b||a%4!==0||a%100===0&&a%400!==0?i[b]:29}function g(a,b){var c=new Array(b),d=new Date(a),e=0;for(d.setHours(12);b>e;)c[e++]=new Date(d),d.setDate(d.getDate()+1);return c}function h(a){var b=new Date(a);b.setDate(b.getDate()+4-(b.getDay()||7));var c=b.getTime();return b.setMonth(0),b.setDate(1),Math.floor(Math.round((c-b)/864e5)/7)+1}b.showWeeks=e.showWeeks,e.step={months:1},e.element=c;var i=[31,28,31,30,31,30,31,31,30,31,30,31];e._refreshView=function(){var c=e.activeDate.getFullYear(),d=e.activeDate.getMonth(),f=new Date(c,d,1),i=e.startingDay-f.getDay(),j=i>0?7-i:-i,k=new Date(f);j>0&&k.setDate(-j+1);for(var l=g(k,42),m=0;42>m;m++)l[m]=angular.extend(e.createDateObject(l[m],e.formatDay),{secondary:l[m].getMonth()!==d,uid:b.uniqueId+\"-\"+m});b.labels=new Array(7);for(var n=0;7>n;n++)b.labels[n]={abbr:a(l[n].date,e.formatDayHeader),full:a(l[n].date,\"EEEE\")};if(b.title=a(e.activeDate,e.formatDayTitle),b.rows=e.split(l,7),b.showWeeks){b.weekNumbers=[];for(var o=h(b.rows[0][0].date),p=b.rows.length;b.weekNumbers.push(o++)<p;);}},e.compare=function(a,b){return new Date(a.getFullYear(),a.getMonth(),a.getDate())-new Date(b.getFullYear(),b.getMonth(),b.getDate())},e.handleKeyDown=function(a){var b=e.activeDate.getDate();if(\"left\"===a)b-=1;else if(\"up\"===a)b-=7;else if(\"right\"===a)b+=1;else if(\"down\"===a)b+=7;else if(\"pageup\"===a||\"pagedown\"===a){var c=e.activeDate.getMonth()+(\"pageup\"===a?-1:1);e.activeDate.setMonth(c,1),b=Math.min(f(e.activeDate.getFullYear(),e.activeDate.getMonth()),b)}else\"home\"===a?b=1:\"end\"===a&&(b=f(e.activeDate.getFullYear(),e.activeDate.getMonth()));e.activeDate.setDate(b)},e.refreshView()}}}]).directive(\"monthpicker\",[\"dateFilter\",function(a){return{restrict:\"EA\",replace:!0,templateUrl:\"template/datepicker/month.html\",require:\"^datepicker\",link:function(b,c,d,e){e.step={years:1},e.element=c,e._refreshView=function(){for(var c=new Array(12),d=e.activeDate.getFullYear(),f=0;12>f;f++)c[f]=angular.extend(e.createDateObject(new Date(d,f,1),e.formatMonth),{uid:b.uniqueId+\"-\"+f});b.title=a(e.activeDate,e.formatMonthTitle),b.rows=e.split(c,3)},e.compare=function(a,b){return new Date(a.getFullYear(),a.getMonth())-new Date(b.getFullYear(),b.getMonth())},e.handleKeyDown=function(a){var b=e.activeDate.getMonth();if(\"left\"===a)b-=1;else if(\"up\"===a)b-=3;else if(\"right\"===a)b+=1;else if(\"down\"===a)b+=3;else if(\"pageup\"===a||\"pagedown\"===a){var c=e.activeDate.getFullYear()+(\"pageup\"===a?-1:1);e.activeDate.setFullYear(c)}else\"home\"===a?b=0:\"end\"===a&&(b=11);e.activeDate.setMonth(b)},e.refreshView()}}}]).directive(\"yearpicker\",[\"dateFilter\",function(){return{restrict:\"EA\",replace:!0,templateUrl:\"template/datepicker/year.html\",require:\"^datepicker\",link:function(a,b,c,d){function e(a){return parseInt((a-1)/f,10)*f+1}var f=d.yearRange;d.step={years:f},d.element=b,d._refreshView=function(){for(var b=new Array(f),c=0,g=e(d.activeDate.getFullYear());f>c;c++)b[c]=angular.extend(d.createDateObject(new Date(g+c,0,1),d.formatYear),{uid:a.uniqueId+\"-\"+c});a.title=[b[0].label,b[f-1].label].join(\" - \"),a.rows=d.split(b,5)},d.compare=function(a,b){return a.getFullYear()-b.getFullYear()},d.handleKeyDown=function(a){var b=d.activeDate.getFullYear();\"left\"===a?b-=1:\"up\"===a?b-=5:\"right\"===a?b+=1:\"down\"===a?b+=5:\"pageup\"===a||\"pagedown\"===a?b+=(\"pageup\"===a?-1:1)*d.step.years:\"home\"===a?b=e(d.activeDate.getFullYear()):\"end\"===a&&(b=e(d.activeDate.getFullYear())+f-1),d.activeDate.setFullYear(b)},d.refreshView()}}}]).constant(\"datepickerPopupConfig\",{datepickerPopup:\"yyyy-MM-dd\",currentText:\"Today\",clearText:\"Clear\",closeText:\"Done\",closeOnDateSelection:!0,appendToBody:!1,showButtonBar:!0}).directive(\"datepickerPopup\",[\"$compile\",\"$parse\",\"$document\",\"$position\",\"dateFilter\",\"dateParser\",\"datepickerPopupConfig\",function(a,b,c,d,e,f,g){return{restrict:\"EA\",require:\"ngModel\",scope:{isOpen:\"=?\",currentText:\"@\",clearText:\"@\",closeText:\"@\",dateDisabled:\"&\"},link:function(h,i,j,k){function l(a){return a.replace(/([A-Z])/g,function(a){return\"-\"+a.toLowerCase()})}function m(a){if(a){if(angular.isDate(a)&&!isNaN(a))return k.$setValidity(\"date\",!0),a;if(angular.isString(a)){var b=f.parse(a,n)||new Date(a);return isNaN(b)?void k.$setValidity(\"date\",!1):(k.$setValidity(\"date\",!0),b)}return void k.$setValidity(\"date\",!1)}return k.$setValidity(\"date\",!0),null}var n,o=angular.isDefined(j.closeOnDateSelection)?h.$parent.$eval(j.closeOnDateSelection):g.closeOnDateSelection,p=angular.isDefined(j.datepickerAppendToBody)?h.$parent.$eval(j.datepickerAppendToBody):g.appendToBody;h.showButtonBar=angular.isDefined(j.showButtonBar)?h.$parent.$eval(j.showButtonBar):g.showButtonBar,h.getText=function(a){return h[a+\"Text\"]||g[a+\"Text\"]},j.$observe(\"datepickerPopup\",function(a){n=a||g.datepickerPopup,k.$render()});var q=angular.element(\"<div datepicker-popup-wrap><div datepicker></div></div>\");q.attr({\"ng-model\":\"date\",\"ng-change\":\"dateSelection()\"});var r=angular.element(q.children()[0]);j.datepickerOptions&&angular.forEach(h.$parent.$eval(j.datepickerOptions),function(a,b){r.attr(l(b),a)}),h.watchData={},angular.forEach([\"minDate\",\"maxDate\",\"datepickerMode\"],function(a){if(j[a]){var c=b(j[a]);if(h.$parent.$watch(c,function(b){h.watchData[a]=b}),r.attr(l(a),\"watchData.\"+a),\"datepickerMode\"===a){var d=c.assign;h.$watch(\"watchData.\"+a,function(a,b){a!==b&&d(h.$parent,a)})}}}),j.dateDisabled&&r.attr(\"date-disabled\",\"dateDisabled({ date: date, mode: mode })\"),k.$parsers.unshift(m),h.dateSelection=function(a){angular.isDefined(a)&&(h.date=a),k.$setViewValue(h.date),k.$render(),o&&(h.isOpen=!1,i[0].focus())},i.bind(\"input change keyup\",function(){h.$apply(function(){h.date=k.$modelValue})}),k.$render=function(){var a=k.$viewValue?e(k.$viewValue,n):\"\";i.val(a),h.date=m(k.$modelValue)};var s=function(a){h.isOpen&&a.target!==i[0]&&h.$apply(function(){h.isOpen=!1})},t=function(a){h.keydown(a)};i.bind(\"keydown\",t),h.keydown=function(a){27===a.which?(a.preventDefault(),a.stopPropagation(),h.close()):40!==a.which||h.isOpen||(h.isOpen=!0)},h.$watch(\"isOpen\",function(a){a?(h.$broadcast(\"datepicker.focus\"),h.position=p?d.offset(i):d.position(i),h.position.top=h.position.top+i.prop(\"offsetHeight\"),c.bind(\"click\",s)):c.unbind(\"click\",s)}),h.select=function(a){if(\"today\"===a){var b=new Date;angular.isDate(k.$modelValue)?(a=new Date(k.$modelValue),a.setFullYear(b.getFullYear(),b.getMonth(),b.getDate())):a=new Date(b.setHours(0,0,0,0))}h.dateSelection(a)},h.close=function(){h.isOpen=!1,i[0].focus()};var u=a(q)(h);q.remove(),p?c.find(\"body\").append(u):i.after(u),h.$on(\"$destroy\",function(){u.remove(),i.unbind(\"keydown\",t),c.unbind(\"click\",s)})}}}]).directive(\"datepickerPopupWrap\",function(){return{restrict:\"EA\",replace:!0,transclude:!0,templateUrl:\"template/datepicker/popup.html\",link:function(a,b){b.bind(\"click\",function(a){a.preventDefault(),a.stopPropagation()})}}}),angular.module(\"ui.bootstrap.dropdown\",[]).constant(\"dropdownConfig\",{openClass:\"open\"}).service(\"dropdownService\",[\"$document\",function(a){var b=null;this.open=function(e){b||(a.bind(\"click\",c),a.bind(\"keydown\",d)),b&&b!==e&&(b.isOpen=!1),b=e},this.close=function(e){b===e&&(b=null,a.unbind(\"click\",c),a.unbind(\"keydown\",d))};var c=function(a){if(b){var c=b.getToggleElement();a&&c&&c[0].contains(a.target)||b.$apply(function(){b.isOpen=!1})}},d=function(a){27===a.which&&(b.focusToggleElement(),c())}}]).controller(\"DropdownController\",[\"$scope\",\"$attrs\",\"$parse\",\"dropdownConfig\",\"dropdownService\",\"$animate\",function(a,b,c,d,e,f){var g,h=this,i=a.$new(),j=d.openClass,k=angular.noop,l=b.onToggle?c(b.onToggle):angular.noop;this.init=function(d){h.$element=d,b.isOpen&&(g=c(b.isOpen),k=g.assign,a.$watch(g,function(a){i.isOpen=!!a}))},this.toggle=function(a){return i.isOpen=arguments.length?!!a:!i.isOpen},this.isOpen=function(){return i.isOpen},i.getToggleElement=function(){return h.toggleElement},i.focusToggleElement=function(){h.toggleElement&&h.toggleElement[0].focus()},i.$watch(\"isOpen\",function(b,c){f[b?\"addClass\":\"removeClass\"](h.$element,j),b?(i.focusToggleElement(),e.open(i)):e.close(i),k(a,b),angular.isDefined(b)&&b!==c&&l(a,{open:!!b})}),a.$on(\"$locationChangeSuccess\",function(){i.isOpen=!1}),a.$on(\"$destroy\",function(){i.$destroy()})}]).directive(\"dropdown\",function(){return{controller:\"DropdownController\",link:function(a,b,c,d){d.init(b)}}}).directive(\"dropdownToggle\",function(){return{require:\"?^dropdown\",link:function(a,b,c,d){if(d){d.toggleElement=b;var e=function(e){e.preventDefault(),b.hasClass(\"disabled\")||c.disabled||a.$apply(function(){d.toggle()})};b.bind(\"click\",e),b.attr({\"aria-haspopup\":!0,\"aria-expanded\":!1}),a.$watch(d.isOpen,function(a){b.attr(\"aria-expanded\",!!a)}),a.$on(\"$destroy\",function(){b.unbind(\"click\",e)})}}}}),angular.module(\"ui.bootstrap.modal\",[\"ui.bootstrap.transition\"]).factory(\"$$stackedMap\",function(){return{createNew:function(){var a=[];return{add:function(b,c){a.push({key:b,value:c})},get:function(b){for(var c=0;c<a.length;c++)if(b==a[c].key)return a[c]},keys:function(){for(var b=[],c=0;c<a.length;c++)b.push(a[c].key);return b},top:function(){return a[a.length-1]},remove:function(b){for(var c=-1,d=0;d<a.length;d++)if(b==a[d].key){c=d;break}return a.splice(c,1)[0]},removeTop:function(){return a.splice(a.length-1,1)[0]},length:function(){return a.length}}}}}).directive(\"modalBackdrop\",[\"$timeout\",function(a){return{restrict:\"EA\",replace:!0,templateUrl:\"template/modal/backdrop.html\",link:function(b,c,d){b.backdropClass=d.backdropClass||\"\",b.animate=!1,a(function(){b.animate=!0})}}}]).directive(\"modalWindow\",[\"$modalStack\",\"$timeout\",function(a,b){return{restrict:\"EA\",scope:{index:\"@\",animate:\"=\"},replace:!0,transclude:!0,templateUrl:function(a,b){return b.templateUrl||\"template/modal/window.html\"},link:function(c,d,e){d.addClass(e.windowClass||\"\"),c.size=e.size,b(function(){c.animate=!0,d[0].querySelectorAll(\"[autofocus]\").length||d[0].focus()}),c.close=function(b){var c=a.getTop();c&&c.value.backdrop&&\"static\"!=c.value.backdrop&&b.target===b.currentTarget&&(b.preventDefault(),b.stopPropagation(),a.dismiss(c.key,\"backdrop click\"))}}}}]).directive(\"modalTransclude\",function(){return{link:function(a,b,c,d,e){e(a.$parent,function(a){b.empty(),b.append(a)})}}}).factory(\"$modalStack\",[\"$transition\",\"$timeout\",\"$document\",\"$compile\",\"$rootScope\",\"$$stackedMap\",function(a,b,c,d,e,f){function g(){for(var a=-1,b=n.keys(),c=0;c<b.length;c++)n.get(b[c]).value.backdrop&&(a=c);return a}function h(a){var b=c.find(\"body\").eq(0),d=n.get(a).value;n.remove(a),j(d.modalDomEl,d.modalScope,300,function(){d.modalScope.$destroy(),b.toggleClass(m,n.length()>0),i()})}function i(){if(k&&-1==g()){var a=l;j(k,l,150,function(){a.$destroy(),a=null}),k=void 0,l=void 0}}function j(c,d,e,f){function g(){g.done||(g.done=!0,c.remove(),f&&f())}d.animate=!1;var h=a.transitionEndEventName;if(h){var i=b(g,e);c.bind(h,function(){b.cancel(i),g(),d.$apply()})}else b(g)}var k,l,m=\"modal-open\",n=f.createNew(),o={};return e.$watch(g,function(a){l&&(l.index=a)}),c.bind(\"keydown\",function(a){var b;27===a.which&&(b=n.top(),b&&b.value.keyboard&&(a.preventDefault(),e.$apply(function(){o.dismiss(b.key,\"escape key press\")})))}),o.open=function(a,b){n.add(a,{deferred:b.deferred,modalScope:b.scope,backdrop:b.backdrop,keyboard:b.keyboard});var f=c.find(\"body\").eq(0),h=g();if(h>=0&&!k){l=e.$new(!0),l.index=h;var i=angular.element(\"<div modal-backdrop></div>\");i.attr(\"backdrop-class\",b.backdropClass),k=d(i)(l),f.append(k)}var j=angular.element(\"<div modal-window></div>\");j.attr({\"template-url\":b.windowTemplateUrl,\"window-class\":b.windowClass,size:b.size,index:n.length()-1,animate:\"animate\"}).html(b.content);var o=d(j)(b.scope);n.top().value.modalDomEl=o,f.append(o),f.addClass(m)},o.close=function(a,b){var c=n.get(a);c&&(c.value.deferred.resolve(b),h(a))},o.dismiss=function(a,b){var c=n.get(a);c&&(c.value.deferred.reject(b),h(a))},o.dismissAll=function(a){for(var b=this.getTop();b;)this.dismiss(b.key,a),b=this.getTop()},o.getTop=function(){return n.top()},o}]).provider(\"$modal\",function(){var a={options:{backdrop:!0,keyboard:!0},$get:[\"$injector\",\"$rootScope\",\"$q\",\"$http\",\"$templateCache\",\"$controller\",\"$modalStack\",function(b,c,d,e,f,g,h){function i(a){return a.template?d.when(a.template):e.get(angular.isFunction(a.templateUrl)?a.templateUrl():a.templateUrl,{cache:f}).then(function(a){return a.data})}function j(a){var c=[];return angular.forEach(a,function(a){(angular.isFunction(a)||angular.isArray(a))&&c.push(d.when(b.invoke(a)))}),c}var k={};return k.open=function(b){var e=d.defer(),f=d.defer(),k={result:e.promise,opened:f.promise,close:function(a){h.close(k,a)},dismiss:function(a){h.dismiss(k,a)}};if(b=angular.extend({},a.options,b),b.resolve=b.resolve||{},!b.template&&!b.templateUrl)throw new Error(\"One of template or templateUrl options is required.\");var l=d.all([i(b)].concat(j(b.resolve)));return l.then(function(a){var d=(b.scope||c).$new();d.$close=k.close,d.$dismiss=k.dismiss;var f,i={},j=1;b.controller&&(i.$scope=d,i.$modalInstance=k,angular.forEach(b.resolve,function(b,c){i[c]=a[j++]}),f=g(b.controller,i),b.controllerAs&&(d[b.controllerAs]=f)),h.open(k,{scope:d,deferred:e,content:a[0],backdrop:b.backdrop,keyboard:b.keyboard,backdropClass:b.backdropClass,windowClass:b.windowClass,windowTemplateUrl:b.windowTemplateUrl,size:b.size})},function(a){e.reject(a)}),l.then(function(){f.resolve(!0)},function(){f.reject(!1)}),k},k}]};return a}),angular.module(\"ui.bootstrap.pagination\",[]).controller(\"PaginationController\",[\"$scope\",\"$attrs\",\"$parse\",function(a,b,c){var d=this,e={$setViewValue:angular.noop},f=b.numPages?c(b.numPages).assign:angular.noop;this.init=function(f,g){e=f,this.config=g,e.$render=function(){d.render()},b.itemsPerPage?a.$parent.$watch(c(b.itemsPerPage),function(b){d.itemsPerPage=parseInt(b,10),a.totalPages=d.calculateTotalPages()}):this.itemsPerPage=g.itemsPerPage},this.calculateTotalPages=function(){var b=this.itemsPerPage<1?1:Math.ceil(a.totalItems/this.itemsPerPage);return Math.max(b||0,1)},this.render=function(){a.page=parseInt(e.$viewValue,10)||1},a.selectPage=function(b){a.page!==b&&b>0&&b<=a.totalPages&&(e.$setViewValue(b),e.$render())},a.getText=function(b){return a[b+\"Text\"]||d.config[b+\"Text\"]},a.noPrevious=function(){return 1===a.page},a.noNext=function(){return a.page===a.totalPages},a.$watch(\"totalItems\",function(){a.totalPages=d.calculateTotalPages()}),a.$watch(\"totalPages\",function(b){f(a.$parent,b),a.page>b?a.selectPage(b):e.$render()})}]).constant(\"paginationConfig\",{itemsPerPage:10,boundaryLinks:!1,directionLinks:!0,firstText:\"First\",previousText:\"Previous\",nextText:\"Next\",lastText:\"Last\",rotate:!0}).directive(\"pagination\",[\"$parse\",\"paginationConfig\",function(a,b){return{restrict:\"EA\",scope:{totalItems:\"=\",firstText:\"@\",previousText:\"@\",nextText:\"@\",lastText:\"@\"},require:[\"pagination\",\"?ngModel\"],controller:\"PaginationController\",templateUrl:\"template/pagination/pagination.html\",replace:!0,link:function(c,d,e,f){function g(a,b,c){return{number:a,text:b,active:c}}function h(a,b){var c=[],d=1,e=b,f=angular.isDefined(k)&&b>k;f&&(l?(d=Math.max(a-Math.floor(k/2),1),e=d+k-1,e>b&&(e=b,d=e-k+1)):(d=(Math.ceil(a/k)-1)*k+1,e=Math.min(d+k-1,b)));for(var h=d;e>=h;h++){var i=g(h,h,h===a);c.push(i)}if(f&&!l){if(d>1){var j=g(d-1,\"...\",!1);c.unshift(j)}if(b>e){var m=g(e+1,\"...\",!1);c.push(m)}}return c}var i=f[0],j=f[1];if(j){var k=angular.isDefined(e.maxSize)?c.$parent.$eval(e.maxSize):b.maxSize,l=angular.isDefined(e.rotate)?c.$parent.$eval(e.rotate):b.rotate;c.boundaryLinks=angular.isDefined(e.boundaryLinks)?c.$parent.$eval(e.boundaryLinks):b.boundaryLinks,c.directionLinks=angular.isDefined(e.directionLinks)?c.$parent.$eval(e.directionLinks):b.directionLinks,i.init(j,b),e.maxSize&&c.$parent.$watch(a(e.maxSize),function(a){k=parseInt(a,10),i.render()});var m=i.render;i.render=function(){m(),c.page>0&&c.page<=c.totalPages&&(c.pages=h(c.page,c.totalPages))}}}}}]).constant(\"pagerConfig\",{itemsPerPage:10,previousText:\" Previous\",nextText:\"Next \",align:!0}).directive(\"pager\",[\"pagerConfig\",function(a){return{restrict:\"EA\",scope:{totalItems:\"=\",previousText:\"@\",nextText:\"@\"},require:[\"pager\",\"?ngModel\"],controller:\"PaginationController\",templateUrl:\"template/pagination/pager.html\",replace:!0,link:function(b,c,d,e){var f=e[0],g=e[1];g&&(b.align=angular.isDefined(d.align)?b.$parent.$eval(d.align):a.align,f.init(g,a))}}}]),angular.module(\"ui.bootstrap.tooltip\",[\"ui.bootstrap.position\",\"ui.bootstrap.bindHtml\"]).provider(\"$tooltip\",function(){function a(a){var b=/[A-Z]/g,c=\"-\";return a.replace(b,function(a,b){return(b?c:\"\")+a.toLowerCase()\n})}var b={placement:\"top\",animation:!0,popupDelay:0},c={mouseenter:\"mouseleave\",click:\"click\",focus:\"blur\"},d={};this.options=function(a){angular.extend(d,a)},this.setTriggers=function(a){angular.extend(c,a)},this.$get=[\"$window\",\"$compile\",\"$timeout\",\"$document\",\"$position\",\"$interpolate\",function(e,f,g,h,i,j){return function(e,k,l){function m(a){var b=a||n.trigger||l,d=c[b]||b;return{show:b,hide:d}}var n=angular.extend({},b,d),o=a(e),p=j.startSymbol(),q=j.endSymbol(),r=\"<div \"+o+'-popup title=\"'+p+\"title\"+q+'\" content=\"'+p+\"content\"+q+'\" placement=\"'+p+\"placement\"+q+'\" animation=\"animation\" is-open=\"isOpen\"></div>';return{restrict:\"EA\",compile:function(){var a=f(r);return function(b,c,d){function f(){D.isOpen?l():j()}function j(){(!C||b.$eval(d[k+\"Enable\"]))&&(s(),D.popupDelay?z||(z=g(o,D.popupDelay,!1),z.then(function(a){a()})):o()())}function l(){b.$apply(function(){p()})}function o(){return z=null,y&&(g.cancel(y),y=null),D.content?(q(),w.css({top:0,left:0,display:\"block\"}),D.$digest(),E(),D.isOpen=!0,D.$digest(),E):angular.noop}function p(){D.isOpen=!1,g.cancel(z),z=null,D.animation?y||(y=g(r,500)):r()}function q(){w&&r(),x=D.$new(),w=a(x,function(a){A?h.find(\"body\").append(a):c.after(a)})}function r(){y=null,w&&(w.remove(),w=null),x&&(x.$destroy(),x=null)}function s(){t(),u()}function t(){var a=d[k+\"Placement\"];D.placement=angular.isDefined(a)?a:n.placement}function u(){var a=d[k+\"PopupDelay\"],b=parseInt(a,10);D.popupDelay=isNaN(b)?n.popupDelay:b}function v(){var a=d[k+\"Trigger\"];F(),B=m(a),B.show===B.hide?c.bind(B.show,f):(c.bind(B.show,j),c.bind(B.hide,l))}var w,x,y,z,A=angular.isDefined(n.appendToBody)?n.appendToBody:!1,B=m(void 0),C=angular.isDefined(d[k+\"Enable\"]),D=b.$new(!0),E=function(){var a=i.positionElements(c,w,D.placement,A);a.top+=\"px\",a.left+=\"px\",w.css(a)};D.isOpen=!1,d.$observe(e,function(a){D.content=a,!a&&D.isOpen&&p()}),d.$observe(k+\"Title\",function(a){D.title=a});var F=function(){c.unbind(B.show,j),c.unbind(B.hide,l)};v();var G=b.$eval(d[k+\"Animation\"]);D.animation=angular.isDefined(G)?!!G:n.animation;var H=b.$eval(d[k+\"AppendToBody\"]);A=angular.isDefined(H)?H:A,A&&b.$on(\"$locationChangeSuccess\",function(){D.isOpen&&p()}),b.$on(\"$destroy\",function(){g.cancel(y),g.cancel(z),F(),r(),D=null})}}}}}]}).directive(\"tooltipPopup\",function(){return{restrict:\"EA\",replace:!0,scope:{content:\"@\",placement:\"@\",animation:\"&\",isOpen:\"&\"},templateUrl:\"template/tooltip/tooltip-popup.html\"}}).directive(\"tooltip\",[\"$tooltip\",function(a){return a(\"tooltip\",\"tooltip\",\"mouseenter\")}]).directive(\"tooltipHtmlUnsafePopup\",function(){return{restrict:\"EA\",replace:!0,scope:{content:\"@\",placement:\"@\",animation:\"&\",isOpen:\"&\"},templateUrl:\"template/tooltip/tooltip-html-unsafe-popup.html\"}}).directive(\"tooltipHtmlUnsafe\",[\"$tooltip\",function(a){return a(\"tooltipHtmlUnsafe\",\"tooltip\",\"mouseenter\")}]),angular.module(\"ui.bootstrap.popover\",[\"ui.bootstrap.tooltip\"]).directive(\"popoverPopup\",function(){return{restrict:\"EA\",replace:!0,scope:{title:\"@\",content:\"@\",placement:\"@\",animation:\"&\",isOpen:\"&\"},templateUrl:\"template/popover/popover.html\"}}).directive(\"popover\",[\"$tooltip\",function(a){return a(\"popover\",\"popover\",\"click\")}]),angular.module(\"ui.bootstrap.progressbar\",[]).constant(\"progressConfig\",{animate:!0,max:100}).controller(\"ProgressController\",[\"$scope\",\"$attrs\",\"progressConfig\",function(a,b,c){var d=this,e=angular.isDefined(b.animate)?a.$parent.$eval(b.animate):c.animate;this.bars=[],a.max=angular.isDefined(b.max)?a.$parent.$eval(b.max):c.max,this.addBar=function(b,c){e||c.css({transition:\"none\"}),this.bars.push(b),b.$watch(\"value\",function(c){b.percent=+(100*c/a.max).toFixed(2)}),b.$on(\"$destroy\",function(){c=null,d.removeBar(b)})},this.removeBar=function(a){this.bars.splice(this.bars.indexOf(a),1)}}]).directive(\"progress\",function(){return{restrict:\"EA\",replace:!0,transclude:!0,controller:\"ProgressController\",require:\"progress\",scope:{},templateUrl:\"template/progressbar/progress.html\"}}).directive(\"bar\",function(){return{restrict:\"EA\",replace:!0,transclude:!0,require:\"^progress\",scope:{value:\"=\",type:\"@\"},templateUrl:\"template/progressbar/bar.html\",link:function(a,b,c,d){d.addBar(a,b)}}}).directive(\"progressbar\",function(){return{restrict:\"EA\",replace:!0,transclude:!0,controller:\"ProgressController\",scope:{value:\"=\",type:\"@\"},templateUrl:\"template/progressbar/progressbar.html\",link:function(a,b,c,d){d.addBar(a,angular.element(b.children()[0]))}}}),angular.module(\"ui.bootstrap.rating\",[]).constant(\"ratingConfig\",{max:5,stateOn:null,stateOff:null}).controller(\"RatingController\",[\"$scope\",\"$attrs\",\"ratingConfig\",function(a,b,c){var d={$setViewValue:angular.noop};this.init=function(e){d=e,d.$render=this.render,this.stateOn=angular.isDefined(b.stateOn)?a.$parent.$eval(b.stateOn):c.stateOn,this.stateOff=angular.isDefined(b.stateOff)?a.$parent.$eval(b.stateOff):c.stateOff;var f=angular.isDefined(b.ratingStates)?a.$parent.$eval(b.ratingStates):new Array(angular.isDefined(b.max)?a.$parent.$eval(b.max):c.max);a.range=this.buildTemplateObjects(f)},this.buildTemplateObjects=function(a){for(var b=0,c=a.length;c>b;b++)a[b]=angular.extend({index:b},{stateOn:this.stateOn,stateOff:this.stateOff},a[b]);return a},a.rate=function(b){!a.readonly&&b>=0&&b<=a.range.length&&(d.$setViewValue(b),d.$render())},a.enter=function(b){a.readonly||(a.value=b),a.onHover({value:b})},a.reset=function(){a.value=d.$viewValue,a.onLeave()},a.onKeydown=function(b){/(37|38|39|40)/.test(b.which)&&(b.preventDefault(),b.stopPropagation(),a.rate(a.value+(38===b.which||39===b.which?1:-1)))},this.render=function(){a.value=d.$viewValue}}]).directive(\"rating\",function(){return{restrict:\"EA\",require:[\"rating\",\"ngModel\"],scope:{readonly:\"=?\",onHover:\"&\",onLeave:\"&\"},controller:\"RatingController\",templateUrl:\"template/rating/rating.html\",replace:!0,link:function(a,b,c,d){var e=d[0],f=d[1];f&&e.init(f)}}}),angular.module(\"ui.bootstrap.tabs\",[]).controller(\"TabsetController\",[\"$scope\",function(a){var b=this,c=b.tabs=a.tabs=[];b.select=function(a){angular.forEach(c,function(b){b.active&&b!==a&&(b.active=!1,b.onDeselect())}),a.active=!0,a.onSelect()},b.addTab=function(a){c.push(a),1===c.length?a.active=!0:a.active&&b.select(a)},b.removeTab=function(a){var e=c.indexOf(a);if(a.active&&c.length>1&&!d){var f=e==c.length-1?e-1:e+1;b.select(c[f])}c.splice(e,1)};var d;a.$on(\"$destroy\",function(){d=!0})}]).directive(\"tabset\",function(){return{restrict:\"EA\",transclude:!0,replace:!0,scope:{type:\"@\"},controller:\"TabsetController\",templateUrl:\"template/tabs/tabset.html\",link:function(a,b,c){a.vertical=angular.isDefined(c.vertical)?a.$parent.$eval(c.vertical):!1,a.justified=angular.isDefined(c.justified)?a.$parent.$eval(c.justified):!1}}}).directive(\"tab\",[\"$parse\",function(a){return{require:\"^tabset\",restrict:\"EA\",replace:!0,templateUrl:\"template/tabs/tab.html\",transclude:!0,scope:{active:\"=?\",heading:\"@\",onSelect:\"&select\",onDeselect:\"&deselect\"},controller:function(){},compile:function(b,c,d){return function(b,c,e,f){b.$watch(\"active\",function(a){a&&f.select(b)}),b.disabled=!1,e.disabled&&b.$parent.$watch(a(e.disabled),function(a){b.disabled=!!a}),b.select=function(){b.disabled||(b.active=!0)},f.addTab(b),b.$on(\"$destroy\",function(){f.removeTab(b)}),b.$transcludeFn=d}}}}]).directive(\"tabHeadingTransclude\",[function(){return{restrict:\"A\",require:\"^tab\",link:function(a,b){a.$watch(\"headingElement\",function(a){a&&(b.html(\"\"),b.append(a))})}}}]).directive(\"tabContentTransclude\",function(){function a(a){return a.tagName&&(a.hasAttribute(\"tab-heading\")||a.hasAttribute(\"data-tab-heading\")||\"tab-heading\"===a.tagName.toLowerCase()||\"data-tab-heading\"===a.tagName.toLowerCase())}return{restrict:\"A\",require:\"^tabset\",link:function(b,c,d){var e=b.$eval(d.tabContentTransclude);e.$transcludeFn(e.$parent,function(b){angular.forEach(b,function(b){a(b)?e.headingElement=b:c.append(b)})})}}}),angular.module(\"ui.bootstrap.timepicker\",[]).constant(\"timepickerConfig\",{hourStep:1,minuteStep:1,showMeridian:!0,meridians:null,readonlyInput:!1,mousewheel:!0}).controller(\"TimepickerController\",[\"$scope\",\"$attrs\",\"$parse\",\"$log\",\"$locale\",\"timepickerConfig\",function(a,b,c,d,e,f){function g(){var b=parseInt(a.hours,10),c=a.showMeridian?b>0&&13>b:b>=0&&24>b;return c?(a.showMeridian&&(12===b&&(b=0),a.meridian===p[1]&&(b+=12)),b):void 0}function h(){var b=parseInt(a.minutes,10);return b>=0&&60>b?b:void 0}function i(a){return angular.isDefined(a)&&a.toString().length<2?\"0\"+a:a}function j(a){k(),o.$setViewValue(new Date(n)),l(a)}function k(){o.$setValidity(\"time\",!0),a.invalidHours=!1,a.invalidMinutes=!1}function l(b){var c=n.getHours(),d=n.getMinutes();a.showMeridian&&(c=0===c||12===c?12:c%12),a.hours=\"h\"===b?c:i(c),a.minutes=\"m\"===b?d:i(d),a.meridian=n.getHours()<12?p[0]:p[1]}function m(a){var b=new Date(n.getTime()+6e4*a);n.setHours(b.getHours(),b.getMinutes()),j()}var n=new Date,o={$setViewValue:angular.noop},p=angular.isDefined(b.meridians)?a.$parent.$eval(b.meridians):f.meridians||e.DATETIME_FORMATS.AMPMS;this.init=function(c,d){o=c,o.$render=this.render;var e=d.eq(0),g=d.eq(1),h=angular.isDefined(b.mousewheel)?a.$parent.$eval(b.mousewheel):f.mousewheel;h&&this.setupMousewheelEvents(e,g),a.readonlyInput=angular.isDefined(b.readonlyInput)?a.$parent.$eval(b.readonlyInput):f.readonlyInput,this.setupInputEvents(e,g)};var q=f.hourStep;b.hourStep&&a.$parent.$watch(c(b.hourStep),function(a){q=parseInt(a,10)});var r=f.minuteStep;b.minuteStep&&a.$parent.$watch(c(b.minuteStep),function(a){r=parseInt(a,10)}),a.showMeridian=f.showMeridian,b.showMeridian&&a.$parent.$watch(c(b.showMeridian),function(b){if(a.showMeridian=!!b,o.$error.time){var c=g(),d=h();angular.isDefined(c)&&angular.isDefined(d)&&(n.setHours(c),j())}else l()}),this.setupMousewheelEvents=function(b,c){var d=function(a){a.originalEvent&&(a=a.originalEvent);var b=a.wheelDelta?a.wheelDelta:-a.deltaY;return a.detail||b>0};b.bind(\"mousewheel wheel\",function(b){a.$apply(d(b)?a.incrementHours():a.decrementHours()),b.preventDefault()}),c.bind(\"mousewheel wheel\",function(b){a.$apply(d(b)?a.incrementMinutes():a.decrementMinutes()),b.preventDefault()})},this.setupInputEvents=function(b,c){if(a.readonlyInput)return a.updateHours=angular.noop,void(a.updateMinutes=angular.noop);var d=function(b,c){o.$setViewValue(null),o.$setValidity(\"time\",!1),angular.isDefined(b)&&(a.invalidHours=b),angular.isDefined(c)&&(a.invalidMinutes=c)};a.updateHours=function(){var a=g();angular.isDefined(a)?(n.setHours(a),j(\"h\")):d(!0)},b.bind(\"blur\",function(){!a.invalidHours&&a.hours<10&&a.$apply(function(){a.hours=i(a.hours)})}),a.updateMinutes=function(){var a=h();angular.isDefined(a)?(n.setMinutes(a),j(\"m\")):d(void 0,!0)},c.bind(\"blur\",function(){!a.invalidMinutes&&a.minutes<10&&a.$apply(function(){a.minutes=i(a.minutes)})})},this.render=function(){var a=o.$modelValue?new Date(o.$modelValue):null;isNaN(a)?(o.$setValidity(\"time\",!1),d.error('Timepicker directive: \"ng-model\" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(a&&(n=a),k(),l())},a.incrementHours=function(){m(60*q)},a.decrementHours=function(){m(60*-q)},a.incrementMinutes=function(){m(r)},a.decrementMinutes=function(){m(-r)},a.toggleMeridian=function(){m(720*(n.getHours()<12?1:-1))}}]).directive(\"timepicker\",function(){return{restrict:\"EA\",require:[\"timepicker\",\"?^ngModel\"],controller:\"TimepickerController\",replace:!0,scope:{},templateUrl:\"template/timepicker/timepicker.html\",link:function(a,b,c,d){var e=d[0],f=d[1];f&&e.init(f,b.find(\"input\"))}}}),angular.module(\"ui.bootstrap.typeahead\",[\"ui.bootstrap.position\",\"ui.bootstrap.bindHtml\"]).factory(\"typeaheadParser\",[\"$parse\",function(a){var b=/^\\s*([\\s\\S]+?)(?:\\s+as\\s+([\\s\\S]+?))?\\s+for\\s+(?:([\\$\\w][\\$\\w\\d]*))\\s+in\\s+([\\s\\S]+?)$/;return{parse:function(c){var d=c.match(b);if(!d)throw new Error('Expected typeahead specification in form of \"_modelValue_ (as _label_)? for _item_ in _collection_\" but got \"'+c+'\".');return{itemName:d[3],source:a(d[4]),viewMapper:a(d[2]||d[1]),modelMapper:a(d[1])}}}}]).directive(\"typeahead\",[\"$compile\",\"$parse\",\"$q\",\"$timeout\",\"$document\",\"$position\",\"typeaheadParser\",function(a,b,c,d,e,f,g){var h=[9,13,27,38,40];return{require:\"ngModel\",link:function(i,j,k,l){var m,n=i.$eval(k.typeaheadMinLength)||1,o=i.$eval(k.typeaheadWaitMs)||0,p=i.$eval(k.typeaheadEditable)!==!1,q=b(k.typeaheadLoading).assign||angular.noop,r=b(k.typeaheadOnSelect),s=k.typeaheadInputFormatter?b(k.typeaheadInputFormatter):void 0,t=k.typeaheadAppendToBody?i.$eval(k.typeaheadAppendToBody):!1,u=i.$eval(k.typeaheadFocusFirst)!==!1,v=b(k.ngModel).assign,w=g.parse(k.typeahead),x=i.$new();i.$on(\"$destroy\",function(){x.$destroy()});var y=\"typeahead-\"+x.$id+\"-\"+Math.floor(1e4*Math.random());j.attr({\"aria-autocomplete\":\"list\",\"aria-expanded\":!1,\"aria-owns\":y});var z=angular.element(\"<div typeahead-popup></div>\");z.attr({id:y,matches:\"matches\",active:\"activeIdx\",select:\"select(activeIdx)\",query:\"query\",position:\"position\"}),angular.isDefined(k.typeaheadTemplateUrl)&&z.attr(\"template-url\",k.typeaheadTemplateUrl);var A=function(){x.matches=[],x.activeIdx=-1,j.attr(\"aria-expanded\",!1)},B=function(a){return y+\"-option-\"+a};x.$watch(\"activeIdx\",function(a){0>a?j.removeAttr(\"aria-activedescendant\"):j.attr(\"aria-activedescendant\",B(a))});var C=function(a){var b={$viewValue:a};q(i,!0),c.when(w.source(i,b)).then(function(c){var d=a===l.$viewValue;if(d&&m)if(c.length>0){x.activeIdx=u?0:-1,x.matches.length=0;for(var e=0;e<c.length;e++)b[w.itemName]=c[e],x.matches.push({id:B(e),label:w.viewMapper(x,b),model:c[e]});x.query=a,x.position=t?f.offset(j):f.position(j),x.position.top=x.position.top+j.prop(\"offsetHeight\"),j.attr(\"aria-expanded\",!0)}else A();d&&q(i,!1)},function(){A(),q(i,!1)})};A(),x.query=void 0;var D,E=function(a){D=d(function(){C(a)},o)},F=function(){D&&d.cancel(D)};l.$parsers.unshift(function(a){return m=!0,a&&a.length>=n?o>0?(F(),E(a)):C(a):(q(i,!1),F(),A()),p?a:a?void l.$setValidity(\"editable\",!1):(l.$setValidity(\"editable\",!0),a)}),l.$formatters.push(function(a){var b,c,d={};return s?(d.$model=a,s(i,d)):(d[w.itemName]=a,b=w.viewMapper(i,d),d[w.itemName]=void 0,c=w.viewMapper(i,d),b!==c?b:a)}),x.select=function(a){var b,c,e={};e[w.itemName]=c=x.matches[a].model,b=w.modelMapper(i,e),v(i,b),l.$setValidity(\"editable\",!0),r(i,{$item:c,$model:b,$label:w.viewMapper(i,e)}),A(),d(function(){j[0].focus()},0,!1)},j.bind(\"keydown\",function(a){0!==x.matches.length&&-1!==h.indexOf(a.which)&&(-1!=x.activeIdx||13!==a.which&&9!==a.which)&&(a.preventDefault(),40===a.which?(x.activeIdx=(x.activeIdx+1)%x.matches.length,x.$digest()):38===a.which?(x.activeIdx=(x.activeIdx>0?x.activeIdx:x.matches.length)-1,x.$digest()):13===a.which||9===a.which?x.$apply(function(){x.select(x.activeIdx)}):27===a.which&&(a.stopPropagation(),A(),x.$digest()))}),j.bind(\"blur\",function(){m=!1});var G=function(a){j[0]!==a.target&&(A(),x.$digest())};e.bind(\"click\",G),i.$on(\"$destroy\",function(){e.unbind(\"click\",G),t&&H.remove()});var H=a(z)(x);t?e.find(\"body\").append(H):j.after(H)}}}]).directive(\"typeaheadPopup\",function(){return{restrict:\"EA\",scope:{matches:\"=\",query:\"=\",active:\"=\",position:\"=\",select:\"&\"},replace:!0,templateUrl:\"template/typeahead/typeahead-popup.html\",link:function(a,b,c){a.templateUrl=c.templateUrl,a.isOpen=function(){return a.matches.length>0},a.isActive=function(b){return a.active==b},a.selectActive=function(b){a.active=b},a.selectMatch=function(b){a.select({activeIdx:b})}}}}).directive(\"typeaheadMatch\",[\"$http\",\"$templateCache\",\"$compile\",\"$parse\",function(a,b,c,d){return{restrict:\"EA\",scope:{index:\"=\",match:\"=\",query:\"=\"},link:function(e,f,g){var h=d(g.templateUrl)(e.$parent)||\"template/typeahead/typeahead-match.html\";a.get(h,{cache:b}).success(function(a){f.replaceWith(c(a.trim())(e))})}}}]).filter(\"typeaheadHighlight\",function(){function a(a){return a.replace(/([.?*+^$[\\]\\\\(){}|-])/g,\"\\\\$1\")}return function(b,c){return c?(\"\"+b).replace(new RegExp(a(c),\"gi\"),\"<strong>$&</strong>\"):b}});","/*\n * angular-ui-bootstrap\n * http://angular-ui.github.io/bootstrap/\n\n * Version: 0.12.1 - 2015-02-20\n * License: MIT\n */\nangular.module(\"ui.bootstrap\",[\"ui.bootstrap.tpls\",\"ui.bootstrap.transition\",\"ui.bootstrap.collapse\",\"ui.bootstrap.accordion\",\"ui.bootstrap.alert\",\"ui.bootstrap.bindHtml\",\"ui.bootstrap.buttons\",\"ui.bootstrap.carousel\",\"ui.bootstrap.dateparser\",\"ui.bootstrap.position\",\"ui.bootstrap.datepicker\",\"ui.bootstrap.dropdown\",\"ui.bootstrap.modal\",\"ui.bootstrap.pagination\",\"ui.bootstrap.tooltip\",\"ui.bootstrap.popover\",\"ui.bootstrap.progressbar\",\"ui.bootstrap.rating\",\"ui.bootstrap.tabs\",\"ui.bootstrap.timepicker\",\"ui.bootstrap.typeahead\"]),angular.module(\"ui.bootstrap.tpls\",[\"template/accordion/accordion-group.html\",\"template/accordion/accordion.html\",\"template/alert/alert.html\",\"template/carousel/carousel.html\",\"template/carousel/slide.html\",\"template/datepicker/datepicker.html\",\"template/datepicker/day.html\",\"template/datepicker/month.html\",\"template/datepicker/popup.html\",\"template/datepicker/year.html\",\"template/modal/backdrop.html\",\"template/modal/window.html\",\"template/pagination/pager.html\",\"template/pagination/pagination.html\",\"template/tooltip/tooltip-html-unsafe-popup.html\",\"template/tooltip/tooltip-popup.html\",\"template/popover/popover.html\",\"template/progressbar/bar.html\",\"template/progressbar/progress.html\",\"template/progressbar/progressbar.html\",\"template/rating/rating.html\",\"template/tabs/tab.html\",\"template/tabs/tabset.html\",\"template/timepicker/timepicker.html\",\"template/typeahead/typeahead-match.html\",\"template/typeahead/typeahead-popup.html\"]),angular.module(\"ui.bootstrap.transition\",[]).factory(\"$transition\",[\"$q\",\"$timeout\",\"$rootScope\",function(a,b,c){function d(a){for(var b in a)if(void 0!==f.style[b])return a[b]}var e=function(d,f,g){g=g||{};var h=a.defer(),i=e[g.animation?\"animationEndEventName\":\"transitionEndEventName\"],j=function(){c.$apply(function(){d.unbind(i,j),h.resolve(d)})};return i&&d.bind(i,j),b(function(){angular.isString(f)?d.addClass(f):angular.isFunction(f)?f(d):angular.isObject(f)&&d.css(f),i||h.resolve(d)}),h.promise.cancel=function(){i&&d.unbind(i,j),h.reject(\"Transition cancelled\")},h.promise},f=document.createElement(\"trans\"),g={WebkitTransition:\"webkitTransitionEnd\",MozTransition:\"transitionend\",OTransition:\"oTransitionEnd\",transition:\"transitionend\"},h={WebkitTransition:\"webkitAnimationEnd\",MozTransition:\"animationend\",OTransition:\"oAnimationEnd\",transition:\"animationend\"};return e.transitionEndEventName=d(g),e.animationEndEventName=d(h),e}]),angular.module(\"ui.bootstrap.collapse\",[\"ui.bootstrap.transition\"]).directive(\"collapse\",[\"$transition\",function(a){return{link:function(b,c,d){function e(b){function d(){j===e&&(j=void 0)}var e=a(c,b);return j&&j.cancel(),j=e,e.then(d,d),e}function f(){k?(k=!1,g()):(c.removeClass(\"collapse\").addClass(\"collapsing\"),e({height:c[0].scrollHeight+\"px\"}).then(g))}function g(){c.removeClass(\"collapsing\"),c.addClass(\"collapse in\"),c.css({height:\"auto\"})}function h(){if(k)k=!1,i(),c.css({height:0});else{c.css({height:c[0].scrollHeight+\"px\"});{c[0].offsetWidth}c.removeClass(\"collapse in\").addClass(\"collapsing\"),e({height:0}).then(i)}}function i(){c.removeClass(\"collapsing\"),c.addClass(\"collapse\")}var j,k=!0;b.$watch(d.collapse,function(a){a?h():f()})}}}]),angular.module(\"ui.bootstrap.accordion\",[\"ui.bootstrap.collapse\"]).constant(\"accordionConfig\",{closeOthers:!0}).controller(\"AccordionController\",[\"$scope\",\"$attrs\",\"accordionConfig\",function(a,b,c){this.groups=[],this.closeOthers=function(d){var e=angular.isDefined(b.closeOthers)?a.$eval(b.closeOthers):c.closeOthers;e&&angular.forEach(this.groups,function(a){a!==d&&(a.isOpen=!1)})},this.addGroup=function(a){var b=this;this.groups.push(a),a.$on(\"$destroy\",function(){b.removeGroup(a)})},this.removeGroup=function(a){var b=this.groups.indexOf(a);-1!==b&&this.groups.splice(b,1)}}]).directive(\"accordion\",function(){return{restrict:\"EA\",controller:\"AccordionController\",transclude:!0,replace:!1,templateUrl:\"template/accordion/accordion.html\"}}).directive(\"accordionGroup\",function(){return{require:\"^accordion\",restrict:\"EA\",transclude:!0,replace:!0,templateUrl:\"template/accordion/accordion-group.html\",scope:{heading:\"@\",isOpen:\"=?\",isDisabled:\"=?\"},controller:function(){this.setHeading=function(a){this.heading=a}},link:function(a,b,c,d){d.addGroup(a),a.$watch(\"isOpen\",function(b){b&&d.closeOthers(a)}),a.toggleOpen=function(){a.isDisabled||(a.isOpen=!a.isOpen)}}}}).directive(\"accordionHeading\",function(){return{restrict:\"EA\",transclude:!0,template:\"\",replace:!0,require:\"^accordionGroup\",link:function(a,b,c,d,e){d.setHeading(e(a,function(){}))}}}).directive(\"accordionTransclude\",function(){return{require:\"^accordionGroup\",link:function(a,b,c,d){a.$watch(function(){return d[c.accordionTransclude]},function(a){a&&(b.html(\"\"),b.append(a))})}}}),angular.module(\"ui.bootstrap.alert\",[]).controller(\"AlertController\",[\"$scope\",\"$attrs\",function(a,b){a.closeable=\"close\"in b,this.close=a.close}]).directive(\"alert\",function(){return{restrict:\"EA\",controller:\"AlertController\",templateUrl:\"template/alert/alert.html\",transclude:!0,replace:!0,scope:{type:\"@\",close:\"&\"}}}).directive(\"dismissOnTimeout\",[\"$timeout\",function(a){return{require:\"alert\",link:function(b,c,d,e){a(function(){e.close()},parseInt(d.dismissOnTimeout,10))}}}]),angular.module(\"ui.bootstrap.bindHtml\",[]).directive(\"bindHtmlUnsafe\",function(){return function(a,b,c){b.addClass(\"ng-binding\").data(\"$binding\",c.bindHtmlUnsafe),a.$watch(c.bindHtmlUnsafe,function(a){b.html(a||\"\")})}}),angular.module(\"ui.bootstrap.buttons\",[]).constant(\"buttonConfig\",{activeClass:\"active\",toggleEvent:\"click\"}).controller(\"ButtonsController\",[\"buttonConfig\",function(a){this.activeClass=a.activeClass||\"active\",this.toggleEvent=a.toggleEvent||\"click\"}]).directive(\"btnRadio\",function(){return{require:[\"btnRadio\",\"ngModel\"],controller:\"ButtonsController\",link:function(a,b,c,d){var e=d[0],f=d[1];f.$render=function(){b.toggleClass(e.activeClass,angular.equals(f.$modelValue,a.$eval(c.btnRadio)))},b.bind(e.toggleEvent,function(){var d=b.hasClass(e.activeClass);(!d||angular.isDefined(c.uncheckable))&&a.$apply(function(){f.$setViewValue(d?null:a.$eval(c.btnRadio)),f.$render()})})}}}).directive(\"btnCheckbox\",function(){return{require:[\"btnCheckbox\",\"ngModel\"],controller:\"ButtonsController\",link:function(a,b,c,d){function e(){return g(c.btnCheckboxTrue,!0)}function f(){return g(c.btnCheckboxFalse,!1)}function g(b,c){var d=a.$eval(b);return angular.isDefined(d)?d:c}var h=d[0],i=d[1];i.$render=function(){b.toggleClass(h.activeClass,angular.equals(i.$modelValue,e()))},b.bind(h.toggleEvent,function(){a.$apply(function(){i.$setViewValue(b.hasClass(h.activeClass)?f():e()),i.$render()})})}}}),angular.module(\"ui.bootstrap.carousel\",[\"ui.bootstrap.transition\"]).controller(\"CarouselController\",[\"$scope\",\"$timeout\",\"$interval\",\"$transition\",function(a,b,c,d){function e(){f();var b=+a.interval;!isNaN(b)&&b>0&&(h=c(g,b))}function f(){h&&(c.cancel(h),h=null)}function g(){var b=+a.interval;i&&!isNaN(b)&&b>0?a.next():a.pause()}var h,i,j=this,k=j.slides=a.slides=[],l=-1;j.currentSlide=null;var m=!1;j.select=a.select=function(c,f){function g(){if(!m){if(j.currentSlide&&angular.isString(f)&&!a.noTransition&&c.$element){c.$element.addClass(f);{c.$element[0].offsetWidth}angular.forEach(k,function(a){angular.extend(a,{direction:\"\",entering:!1,leaving:!1,active:!1})}),angular.extend(c,{direction:f,active:!0,entering:!0}),angular.extend(j.currentSlide||{},{direction:f,leaving:!0}),a.$currentTransition=d(c.$element,{}),function(b,c){a.$currentTransition.then(function(){h(b,c)},function(){h(b,c)})}(c,j.currentSlide)}else h(c,j.currentSlide);j.currentSlide=c,l=i,e()}}function h(b,c){angular.extend(b,{direction:\"\",active:!0,leaving:!1,entering:!1}),angular.extend(c||{},{direction:\"\",active:!1,leaving:!1,entering:!1}),a.$currentTransition=null}var i=k.indexOf(c);void 0===f&&(f=i>l?\"next\":\"prev\"),c&&c!==j.currentSlide&&(a.$currentTransition?(a.$currentTransition.cancel(),b(g)):g())},a.$on(\"$destroy\",function(){m=!0}),j.indexOfSlide=function(a){return k.indexOf(a)},a.next=function(){var b=(l+1)%k.length;return a.$currentTransition?void 0:j.select(k[b],\"next\")},a.prev=function(){var b=0>l-1?k.length-1:l-1;return a.$currentTransition?void 0:j.select(k[b],\"prev\")},a.isActive=function(a){return j.currentSlide===a},a.$watch(\"interval\",e),a.$on(\"$destroy\",f),a.play=function(){i||(i=!0,e())},a.pause=function(){a.noPause||(i=!1,f())},j.addSlide=function(b,c){b.$element=c,k.push(b),1===k.length||b.active?(j.select(k[k.length-1]),1==k.length&&a.play()):b.active=!1},j.removeSlide=function(a){var b=k.indexOf(a);k.splice(b,1),k.length>0&&a.active?j.select(b>=k.length?k[b-1]:k[b]):l>b&&l--}}]).directive(\"carousel\",[function(){return{restrict:\"EA\",transclude:!0,replace:!0,controller:\"CarouselController\",require:\"carousel\",templateUrl:\"template/carousel/carousel.html\",scope:{interval:\"=\",noTransition:\"=\",noPause:\"=\"}}}]).directive(\"slide\",function(){return{require:\"^carousel\",restrict:\"EA\",transclude:!0,replace:!0,templateUrl:\"template/carousel/slide.html\",scope:{active:\"=?\"},link:function(a,b,c,d){d.addSlide(a,b),a.$on(\"$destroy\",function(){d.removeSlide(a)}),a.$watch(\"active\",function(b){b&&d.select(a)})}}}),angular.module(\"ui.bootstrap.dateparser\",[]).service(\"dateParser\",[\"$locale\",\"orderByFilter\",function(a,b){function c(a){var c=[],d=a.split(\"\");return angular.forEach(e,function(b,e){var f=a.indexOf(e);if(f>-1){a=a.split(\"\"),d[f]=\"(\"+b.regex+\")\",a[f]=\"$\";for(var g=f+1,h=f+e.length;h>g;g++)d[g]=\"\",a[g]=\"$\";a=a.join(\"\"),c.push({index:f,apply:b.apply})}}),{regex:new RegExp(\"^\"+d.join(\"\")+\"$\"),map:b(c,\"index\")}}function d(a,b,c){return 1===b&&c>28?29===c&&(a%4===0&&a%100!==0||a%400===0):3===b||5===b||8===b||10===b?31>c:!0}this.parsers={};var e={yyyy:{regex:\"\\\\d{4}\",apply:function(a){this.year=+a}},yy:{regex:\"\\\\d{2}\",apply:function(a){this.year=+a+2e3}},y:{regex:\"\\\\d{1,4}\",apply:function(a){this.year=+a}},MMMM:{regex:a.DATETIME_FORMATS.MONTH.join(\"|\"),apply:function(b){this.month=a.DATETIME_FORMATS.MONTH.indexOf(b)}},MMM:{regex:a.DATETIME_FORMATS.SHORTMONTH.join(\"|\"),apply:function(b){this.month=a.DATETIME_FORMATS.SHORTMONTH.indexOf(b)}},MM:{regex:\"0[1-9]|1[0-2]\",apply:function(a){this.month=a-1}},M:{regex:\"[1-9]|1[0-2]\",apply:function(a){this.month=a-1}},dd:{regex:\"[0-2][0-9]{1}|3[0-1]{1}\",apply:function(a){this.date=+a}},d:{regex:\"[1-2]?[0-9]{1}|3[0-1]{1}\",apply:function(a){this.date=+a}},EEEE:{regex:a.DATETIME_FORMATS.DAY.join(\"|\")},EEE:{regex:a.DATETIME_FORMATS.SHORTDAY.join(\"|\")}};this.parse=function(b,e){if(!angular.isString(b)||!e)return b;e=a.DATETIME_FORMATS[e]||e,this.parsers[e]||(this.parsers[e]=c(e));var f=this.parsers[e],g=f.regex,h=f.map,i=b.match(g);if(i&&i.length){for(var j,k={year:1900,month:0,date:1,hours:0},l=1,m=i.length;m>l;l++){var n=h[l-1];n.apply&&n.apply.call(k,i[l])}return d(k.year,k.month,k.date)&&(j=new Date(k.year,k.month,k.date,k.hours)),j}}}]),angular.module(\"ui.bootstrap.position\",[]).factory(\"$position\",[\"$document\",\"$window\",function(a,b){function c(a,c){return a.currentStyle?a.currentStyle[c]:b.getComputedStyle?b.getComputedStyle(a)[c]:a.style[c]}function d(a){return\"static\"===(c(a,\"position\")||\"static\")}var e=function(b){for(var c=a[0],e=b.offsetParent||c;e&&e!==c&&d(e);)e=e.offsetParent;return e||c};return{position:function(b){var c=this.offset(b),d={top:0,left:0},f=e(b[0]);f!=a[0]&&(d=this.offset(angular.element(f)),d.top+=f.clientTop-f.scrollTop,d.left+=f.clientLeft-f.scrollLeft);var g=b[0].getBoundingClientRect();return{width:g.width||b.prop(\"offsetWidth\"),height:g.height||b.prop(\"offsetHeight\"),top:c.top-d.top,left:c.left-d.left}},offset:function(c){var d=c[0].getBoundingClientRect();return{width:d.width||c.prop(\"offsetWidth\"),height:d.height||c.prop(\"offsetHeight\"),top:d.top+(b.pageYOffset||a[0].documentElement.scrollTop),left:d.left+(b.pageXOffset||a[0].documentElement.scrollLeft)}},positionElements:function(a,b,c,d){var e,f,g,h,i=c.split(\"-\"),j=i[0],k=i[1]||\"center\";e=d?this.offset(a):this.position(a),f=b.prop(\"offsetWidth\"),g=b.prop(\"offsetHeight\");var l={center:function(){return e.left+e.width/2-f/2},left:function(){return e.left},right:function(){return e.left+e.width}},m={center:function(){return e.top+e.height/2-g/2},top:function(){return e.top},bottom:function(){return e.top+e.height}};switch(j){case\"right\":h={top:m[k](),left:l[j]()};break;case\"left\":h={top:m[k](),left:e.left-f};break;case\"bottom\":h={top:m[j](),left:l[k]()};break;default:h={top:e.top-g,left:l[k]()}}return h}}}]),angular.module(\"ui.bootstrap.datepicker\",[\"ui.bootstrap.dateparser\",\"ui.bootstrap.position\"]).constant(\"datepickerConfig\",{formatDay:\"dd\",formatMonth:\"MMMM\",formatYear:\"yyyy\",formatDayHeader:\"EEE\",formatDayTitle:\"MMMM yyyy\",formatMonthTitle:\"yyyy\",datepickerMode:\"day\",minMode:\"day\",maxMode:\"year\",showWeeks:!0,startingDay:0,yearRange:20,minDate:null,maxDate:null}).controller(\"DatepickerController\",[\"$scope\",\"$attrs\",\"$parse\",\"$interpolate\",\"$timeout\",\"$log\",\"dateFilter\",\"datepickerConfig\",function(a,b,c,d,e,f,g,h){var i=this,j={$setViewValue:angular.noop};this.modes=[\"day\",\"month\",\"year\"],angular.forEach([\"formatDay\",\"formatMonth\",\"formatYear\",\"formatDayHeader\",\"formatDayTitle\",\"formatMonthTitle\",\"minMode\",\"maxMode\",\"showWeeks\",\"startingDay\",\"yearRange\"],function(c,e){i[c]=angular.isDefined(b[c])?8>e?d(b[c])(a.$parent):a.$parent.$eval(b[c]):h[c]}),angular.forEach([\"minDate\",\"maxDate\"],function(d){b[d]?a.$parent.$watch(c(b[d]),function(a){i[d]=a?new Date(a):null,i.refreshView()}):i[d]=h[d]?new Date(h[d]):null}),a.datepickerMode=a.datepickerMode||h.datepickerMode,a.uniqueId=\"datepicker-\"+a.$id+\"-\"+Math.floor(1e4*Math.random()),this.activeDate=angular.isDefined(b.initDate)?a.$parent.$eval(b.initDate):new Date,a.isActive=function(b){return 0===i.compare(b.date,i.activeDate)?(a.activeDateId=b.uid,!0):!1},this.init=function(a){j=a,j.$render=function(){i.render()}},this.render=function(){if(j.$modelValue){var a=new Date(j.$modelValue),b=!isNaN(a);b?this.activeDate=a:f.error('Datepicker directive: \"ng-model\" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.'),j.$setValidity(\"date\",b)}this.refreshView()},this.refreshView=function(){if(this.element){this._refreshView();var a=j.$modelValue?new Date(j.$modelValue):null;j.$setValidity(\"date-disabled\",!a||this.element&&!this.isDisabled(a))}},this.createDateObject=function(a,b){var c=j.$modelValue?new Date(j.$modelValue):null;return{date:a,label:g(a,b),selected:c&&0===this.compare(a,c),disabled:this.isDisabled(a),current:0===this.compare(a,new Date)}},this.isDisabled=function(c){return this.minDate&&this.compare(c,this.minDate)<0||this.maxDate&&this.compare(c,this.maxDate)>0||b.dateDisabled&&a.dateDisabled({date:c,mode:a.datepickerMode})},this.split=function(a,b){for(var c=[];a.length>0;)c.push(a.splice(0,b));return c},a.select=function(b){if(a.datepickerMode===i.minMode){var c=j.$modelValue?new Date(j.$modelValue):new Date(0,0,0,0,0,0,0);c.setFullYear(b.getFullYear(),b.getMonth(),b.getDate()),j.$setViewValue(c),j.$render()}else i.activeDate=b,a.datepickerMode=i.modes[i.modes.indexOf(a.datepickerMode)-1]},a.move=function(a){var b=i.activeDate.getFullYear()+a*(i.step.years||0),c=i.activeDate.getMonth()+a*(i.step.months||0);i.activeDate.setFullYear(b,c,1),i.refreshView()},a.toggleMode=function(b){b=b||1,a.datepickerMode===i.maxMode&&1===b||a.datepickerMode===i.minMode&&-1===b||(a.datepickerMode=i.modes[i.modes.indexOf(a.datepickerMode)+b])},a.keys={13:\"enter\",32:\"space\",33:\"pageup\",34:\"pagedown\",35:\"end\",36:\"home\",37:\"left\",38:\"up\",39:\"right\",40:\"down\"};var k=function(){e(function(){i.element[0].focus()},0,!1)};a.$on(\"datepicker.focus\",k),a.keydown=function(b){var c=a.keys[b.which];if(c&&!b.shiftKey&&!b.altKey)if(b.preventDefault(),b.stopPropagation(),\"enter\"===c||\"space\"===c){if(i.isDisabled(i.activeDate))return;a.select(i.activeDate),k()}else!b.ctrlKey||\"up\"!==c&&\"down\"!==c?(i.handleKeyDown(c,b),i.refreshView()):(a.toggleMode(\"up\"===c?1:-1),k())}}]).directive(\"datepicker\",function(){return{restrict:\"EA\",replace:!0,templateUrl:\"template/datepicker/datepicker.html\",scope:{datepickerMode:\"=?\",dateDisabled:\"&\"},require:[\"datepicker\",\"?^ngModel\"],controller:\"DatepickerController\",link:function(a,b,c,d){var e=d[0],f=d[1];f&&e.init(f)}}}).directive(\"daypicker\",[\"dateFilter\",function(a){return{restrict:\"EA\",replace:!0,templateUrl:\"template/datepicker/day.html\",require:\"^datepicker\",link:function(b,c,d,e){function f(a,b){return 1!==b||a%4!==0||a%100===0&&a%400!==0?i[b]:29}function g(a,b){var c=new Array(b),d=new Date(a),e=0;for(d.setHours(12);b>e;)c[e++]=new Date(d),d.setDate(d.getDate()+1);return c}function h(a){var b=new Date(a);b.setDate(b.getDate()+4-(b.getDay()||7));var c=b.getTime();return b.setMonth(0),b.setDate(1),Math.floor(Math.round((c-b)/864e5)/7)+1}b.showWeeks=e.showWeeks,e.step={months:1},e.element=c;var i=[31,28,31,30,31,30,31,31,30,31,30,31];e._refreshView=function(){var c=e.activeDate.getFullYear(),d=e.activeDate.getMonth(),f=new Date(c,d,1),i=e.startingDay-f.getDay(),j=i>0?7-i:-i,k=new Date(f);j>0&&k.setDate(-j+1);for(var l=g(k,42),m=0;42>m;m++)l[m]=angular.extend(e.createDateObject(l[m],e.formatDay),{secondary:l[m].getMonth()!==d,uid:b.uniqueId+\"-\"+m});b.labels=new Array(7);for(var n=0;7>n;n++)b.labels[n]={abbr:a(l[n].date,e.formatDayHeader),full:a(l[n].date,\"EEEE\")};if(b.title=a(e.activeDate,e.formatDayTitle),b.rows=e.split(l,7),b.showWeeks){b.weekNumbers=[];for(var o=h(b.rows[0][0].date),p=b.rows.length;b.weekNumbers.push(o++)<p;);}},e.compare=function(a,b){return new Date(a.getFullYear(),a.getMonth(),a.getDate())-new Date(b.getFullYear(),b.getMonth(),b.getDate())},e.handleKeyDown=function(a){var b=e.activeDate.getDate();if(\"left\"===a)b-=1;else if(\"up\"===a)b-=7;else if(\"right\"===a)b+=1;else if(\"down\"===a)b+=7;else if(\"pageup\"===a||\"pagedown\"===a){var c=e.activeDate.getMonth()+(\"pageup\"===a?-1:1);e.activeDate.setMonth(c,1),b=Math.min(f(e.activeDate.getFullYear(),e.activeDate.getMonth()),b)}else\"home\"===a?b=1:\"end\"===a&&(b=f(e.activeDate.getFullYear(),e.activeDate.getMonth()));e.activeDate.setDate(b)},e.refreshView()}}}]).directive(\"monthpicker\",[\"dateFilter\",function(a){return{restrict:\"EA\",replace:!0,templateUrl:\"template/datepicker/month.html\",require:\"^datepicker\",link:function(b,c,d,e){e.step={years:1},e.element=c,e._refreshView=function(){for(var c=new Array(12),d=e.activeDate.getFullYear(),f=0;12>f;f++)c[f]=angular.extend(e.createDateObject(new Date(d,f,1),e.formatMonth),{uid:b.uniqueId+\"-\"+f});b.title=a(e.activeDate,e.formatMonthTitle),b.rows=e.split(c,3)},e.compare=function(a,b){return new Date(a.getFullYear(),a.getMonth())-new Date(b.getFullYear(),b.getMonth())},e.handleKeyDown=function(a){var b=e.activeDate.getMonth();if(\"left\"===a)b-=1;else if(\"up\"===a)b-=3;else if(\"right\"===a)b+=1;else if(\"down\"===a)b+=3;else if(\"pageup\"===a||\"pagedown\"===a){var c=e.activeDate.getFullYear()+(\"pageup\"===a?-1:1);e.activeDate.setFullYear(c)}else\"home\"===a?b=0:\"end\"===a&&(b=11);e.activeDate.setMonth(b)},e.refreshView()}}}]).directive(\"yearpicker\",[\"dateFilter\",function(){return{restrict:\"EA\",replace:!0,templateUrl:\"template/datepicker/year.html\",require:\"^datepicker\",link:function(a,b,c,d){function e(a){return parseInt((a-1)/f,10)*f+1}var f=d.yearRange;d.step={years:f},d.element=b,d._refreshView=function(){for(var b=new Array(f),c=0,g=e(d.activeDate.getFullYear());f>c;c++)b[c]=angular.extend(d.createDateObject(new Date(g+c,0,1),d.formatYear),{uid:a.uniqueId+\"-\"+c});a.title=[b[0].label,b[f-1].label].join(\" - \"),a.rows=d.split(b,5)},d.compare=function(a,b){return a.getFullYear()-b.getFullYear()},d.handleKeyDown=function(a){var b=d.activeDate.getFullYear();\"left\"===a?b-=1:\"up\"===a?b-=5:\"right\"===a?b+=1:\"down\"===a?b+=5:\"pageup\"===a||\"pagedown\"===a?b+=(\"pageup\"===a?-1:1)*d.step.years:\"home\"===a?b=e(d.activeDate.getFullYear()):\"end\"===a&&(b=e(d.activeDate.getFullYear())+f-1),d.activeDate.setFullYear(b)},d.refreshView()}}}]).constant(\"datepickerPopupConfig\",{datepickerPopup:\"yyyy-MM-dd\",currentText:\"Today\",clearText:\"Clear\",closeText:\"Done\",closeOnDateSelection:!0,appendToBody:!1,showButtonBar:!0}).directive(\"datepickerPopup\",[\"$compile\",\"$parse\",\"$document\",\"$position\",\"dateFilter\",\"dateParser\",\"datepickerPopupConfig\",function(a,b,c,d,e,f,g){return{restrict:\"EA\",require:\"ngModel\",scope:{isOpen:\"=?\",currentText:\"@\",clearText:\"@\",closeText:\"@\",dateDisabled:\"&\"},link:function(h,i,j,k){function l(a){return a.replace(/([A-Z])/g,function(a){return\"-\"+a.toLowerCase()})}function m(a){if(a){if(angular.isDate(a)&&!isNaN(a))return k.$setValidity(\"date\",!0),a;if(angular.isString(a)){var b=f.parse(a,n)||new Date(a);return isNaN(b)?void k.$setValidity(\"date\",!1):(k.$setValidity(\"date\",!0),b)}return void k.$setValidity(\"date\",!1)}return k.$setValidity(\"date\",!0),null}var n,o=angular.isDefined(j.closeOnDateSelection)?h.$parent.$eval(j.closeOnDateSelection):g.closeOnDateSelection,p=angular.isDefined(j.datepickerAppendToBody)?h.$parent.$eval(j.datepickerAppendToBody):g.appendToBody;h.showButtonBar=angular.isDefined(j.showButtonBar)?h.$parent.$eval(j.showButtonBar):g.showButtonBar,h.getText=function(a){return h[a+\"Text\"]||g[a+\"Text\"]},j.$observe(\"datepickerPopup\",function(a){n=a||g.datepickerPopup,k.$render()});var q=angular.element(\"<div datepicker-popup-wrap><div datepicker></div></div>\");q.attr({\"ng-model\":\"date\",\"ng-change\":\"dateSelection()\"});var r=angular.element(q.children()[0]);j.datepickerOptions&&angular.forEach(h.$parent.$eval(j.datepickerOptions),function(a,b){r.attr(l(b),a)}),h.watchData={},angular.forEach([\"minDate\",\"maxDate\",\"datepickerMode\"],function(a){if(j[a]){var c=b(j[a]);if(h.$parent.$watch(c,function(b){h.watchData[a]=b}),r.attr(l(a),\"watchData.\"+a),\"datepickerMode\"===a){var d=c.assign;h.$watch(\"watchData.\"+a,function(a,b){a!==b&&d(h.$parent,a)})}}}),j.dateDisabled&&r.attr(\"date-disabled\",\"dateDisabled({ date: date, mode: mode })\"),k.$parsers.unshift(m),h.dateSelection=function(a){angular.isDefined(a)&&(h.date=a),k.$setViewValue(h.date),k.$render(),o&&(h.isOpen=!1,i[0].focus())},i.bind(\"input change keyup\",function(){h.$apply(function(){h.date=k.$modelValue})}),k.$render=function(){var a=k.$viewValue?e(k.$viewValue,n):\"\";i.val(a),h.date=m(k.$modelValue)};var s=function(a){h.isOpen&&a.target!==i[0]&&h.$apply(function(){h.isOpen=!1})},t=function(a){h.keydown(a)};i.bind(\"keydown\",t),h.keydown=function(a){27===a.which?(a.preventDefault(),a.stopPropagation(),h.close()):40!==a.which||h.isOpen||(h.isOpen=!0)},h.$watch(\"isOpen\",function(a){a?(h.$broadcast(\"datepicker.focus\"),h.position=p?d.offset(i):d.position(i),h.position.top=h.position.top+i.prop(\"offsetHeight\"),c.bind(\"click\",s)):c.unbind(\"click\",s)}),h.select=function(a){if(\"today\"===a){var b=new Date;angular.isDate(k.$modelValue)?(a=new Date(k.$modelValue),a.setFullYear(b.getFullYear(),b.getMonth(),b.getDate())):a=new Date(b.setHours(0,0,0,0))}h.dateSelection(a)},h.close=function(){h.isOpen=!1,i[0].focus()};var u=a(q)(h);q.remove(),p?c.find(\"body\").append(u):i.after(u),h.$on(\"$destroy\",function(){u.remove(),i.unbind(\"keydown\",t),c.unbind(\"click\",s)})}}}]).directive(\"datepickerPopupWrap\",function(){return{restrict:\"EA\",replace:!0,transclude:!0,templateUrl:\"template/datepicker/popup.html\",link:function(a,b){b.bind(\"click\",function(a){a.preventDefault(),a.stopPropagation()})}}}),angular.module(\"ui.bootstrap.dropdown\",[]).constant(\"dropdownConfig\",{openClass:\"open\"}).service(\"dropdownService\",[\"$document\",function(a){var b=null;this.open=function(e){b||(a.bind(\"click\",c),a.bind(\"keydown\",d)),b&&b!==e&&(b.isOpen=!1),b=e},this.close=function(e){b===e&&(b=null,a.unbind(\"click\",c),a.unbind(\"keydown\",d))};var c=function(a){if(b){var c=b.getToggleElement();a&&c&&c[0].contains(a.target)||b.$apply(function(){b.isOpen=!1})}},d=function(a){27===a.which&&(b.focusToggleElement(),c())}}]).controller(\"DropdownController\",[\"$scope\",\"$attrs\",\"$parse\",\"dropdownConfig\",\"dropdownService\",\"$animate\",function(a,b,c,d,e,f){var g,h=this,i=a.$new(),j=d.openClass,k=angular.noop,l=b.onToggle?c(b.onToggle):angular.noop;this.init=function(d){h.$element=d,b.isOpen&&(g=c(b.isOpen),k=g.assign,a.$watch(g,function(a){i.isOpen=!!a}))},this.toggle=function(a){return i.isOpen=arguments.length?!!a:!i.isOpen},this.isOpen=function(){return i.isOpen},i.getToggleElement=function(){return h.toggleElement},i.focusToggleElement=function(){h.toggleElement&&h.toggleElement[0].focus()},i.$watch(\"isOpen\",function(b,c){f[b?\"addClass\":\"removeClass\"](h.$element,j),b?(i.focusToggleElement(),e.open(i)):e.close(i),k(a,b),angular.isDefined(b)&&b!==c&&l(a,{open:!!b})}),a.$on(\"$locationChangeSuccess\",function(){i.isOpen=!1}),a.$on(\"$destroy\",function(){i.$destroy()})}]).directive(\"dropdown\",function(){return{controller:\"DropdownController\",link:function(a,b,c,d){d.init(b)}}}).directive(\"dropdownToggle\",function(){return{require:\"?^dropdown\",link:function(a,b,c,d){if(d){d.toggleElement=b;var e=function(e){e.preventDefault(),b.hasClass(\"disabled\")||c.disabled||a.$apply(function(){d.toggle()})};b.bind(\"click\",e),b.attr({\"aria-haspopup\":!0,\"aria-expanded\":!1}),a.$watch(d.isOpen,function(a){b.attr(\"aria-expanded\",!!a)}),a.$on(\"$destroy\",function(){b.unbind(\"click\",e)})}}}}),angular.module(\"ui.bootstrap.modal\",[\"ui.bootstrap.transition\"]).factory(\"$$stackedMap\",function(){return{createNew:function(){var a=[];return{add:function(b,c){a.push({key:b,value:c})},get:function(b){for(var c=0;c<a.length;c++)if(b==a[c].key)return a[c]},keys:function(){for(var b=[],c=0;c<a.length;c++)b.push(a[c].key);return b},top:function(){return a[a.length-1]},remove:function(b){for(var c=-1,d=0;d<a.length;d++)if(b==a[d].key){c=d;break}return a.splice(c,1)[0]},removeTop:function(){return a.splice(a.length-1,1)[0]},length:function(){return a.length}}}}}).directive(\"modalBackdrop\",[\"$timeout\",function(a){return{restrict:\"EA\",replace:!0,templateUrl:\"template/modal/backdrop.html\",link:function(b,c,d){b.backdropClass=d.backdropClass||\"\",b.animate=!1,a(function(){b.animate=!0})}}}]).directive(\"modalWindow\",[\"$modalStack\",\"$timeout\",function(a,b){return{restrict:\"EA\",scope:{index:\"@\",animate:\"=\"},replace:!0,transclude:!0,templateUrl:function(a,b){return b.templateUrl||\"template/modal/window.html\"},link:function(c,d,e){d.addClass(e.windowClass||\"\"),c.size=e.size,b(function(){c.animate=!0,d[0].querySelectorAll(\"[autofocus]\").length||d[0].focus()}),c.close=function(b){var c=a.getTop();c&&c.value.backdrop&&\"static\"!=c.value.backdrop&&b.target===b.currentTarget&&(b.preventDefault(),b.stopPropagation(),a.dismiss(c.key,\"backdrop click\"))}}}}]).directive(\"modalTransclude\",function(){return{link:function(a,b,c,d,e){e(a.$parent,function(a){b.empty(),b.append(a)})}}}).factory(\"$modalStack\",[\"$transition\",\"$timeout\",\"$document\",\"$compile\",\"$rootScope\",\"$$stackedMap\",function(a,b,c,d,e,f){function g(){for(var a=-1,b=n.keys(),c=0;c<b.length;c++)n.get(b[c]).value.backdrop&&(a=c);return a}function h(a){var b=c.find(\"body\").eq(0),d=n.get(a).value;n.remove(a),j(d.modalDomEl,d.modalScope,300,function(){d.modalScope.$destroy(),b.toggleClass(m,n.length()>0),i()})}function i(){if(k&&-1==g()){var a=l;j(k,l,150,function(){a.$destroy(),a=null}),k=void 0,l=void 0}}function j(c,d,e,f){function g(){g.done||(g.done=!0,c.remove(),f&&f())}d.animate=!1;var h=a.transitionEndEventName;if(h){var i=b(g,e);c.bind(h,function(){b.cancel(i),g(),d.$apply()})}else b(g)}var k,l,m=\"modal-open\",n=f.createNew(),o={};return e.$watch(g,function(a){l&&(l.index=a)}),c.bind(\"keydown\",function(a){var b;27===a.which&&(b=n.top(),b&&b.value.keyboard&&(a.preventDefault(),e.$apply(function(){o.dismiss(b.key,\"escape key press\")})))}),o.open=function(a,b){n.add(a,{deferred:b.deferred,modalScope:b.scope,backdrop:b.backdrop,keyboard:b.keyboard});var f=c.find(\"body\").eq(0),h=g();if(h>=0&&!k){l=e.$new(!0),l.index=h;var i=angular.element(\"<div modal-backdrop></div>\");i.attr(\"backdrop-class\",b.backdropClass),k=d(i)(l),f.append(k)}var j=angular.element(\"<div modal-window></div>\");j.attr({\"template-url\":b.windowTemplateUrl,\"window-class\":b.windowClass,size:b.size,index:n.length()-1,animate:\"animate\"}).html(b.content);var o=d(j)(b.scope);n.top().value.modalDomEl=o,f.append(o),f.addClass(m)},o.close=function(a,b){var c=n.get(a);c&&(c.value.deferred.resolve(b),h(a))},o.dismiss=function(a,b){var c=n.get(a);c&&(c.value.deferred.reject(b),h(a))},o.dismissAll=function(a){for(var b=this.getTop();b;)this.dismiss(b.key,a),b=this.getTop()},o.getTop=function(){return n.top()},o}]).provider(\"$modal\",function(){var a={options:{backdrop:!0,keyboard:!0},$get:[\"$injector\",\"$rootScope\",\"$q\",\"$http\",\"$templateCache\",\"$controller\",\"$modalStack\",function(b,c,d,e,f,g,h){function i(a){return a.template?d.when(a.template):e.get(angular.isFunction(a.templateUrl)?a.templateUrl():a.templateUrl,{cache:f}).then(function(a){return a.data})}function j(a){var c=[];return angular.forEach(a,function(a){(angular.isFunction(a)||angular.isArray(a))&&c.push(d.when(b.invoke(a)))}),c}var k={};return k.open=function(b){var e=d.defer(),f=d.defer(),k={result:e.promise,opened:f.promise,close:function(a){h.close(k,a)},dismiss:function(a){h.dismiss(k,a)}};if(b=angular.extend({},a.options,b),b.resolve=b.resolve||{},!b.template&&!b.templateUrl)throw new Error(\"One of template or templateUrl options is required.\");var l=d.all([i(b)].concat(j(b.resolve)));return l.then(function(a){var d=(b.scope||c).$new();d.$close=k.close,d.$dismiss=k.dismiss;var f,i={},j=1;b.controller&&(i.$scope=d,i.$modalInstance=k,angular.forEach(b.resolve,function(b,c){i[c]=a[j++]}),f=g(b.controller,i),b.controllerAs&&(d[b.controllerAs]=f)),h.open(k,{scope:d,deferred:e,content:a[0],backdrop:b.backdrop,keyboard:b.keyboard,backdropClass:b.backdropClass,windowClass:b.windowClass,windowTemplateUrl:b.windowTemplateUrl,size:b.size})},function(a){e.reject(a)}),l.then(function(){f.resolve(!0)},function(){f.reject(!1)}),k},k}]};return a}),angular.module(\"ui.bootstrap.pagination\",[]).controller(\"PaginationController\",[\"$scope\",\"$attrs\",\"$parse\",function(a,b,c){var d=this,e={$setViewValue:angular.noop},f=b.numPages?c(b.numPages).assign:angular.noop;this.init=function(f,g){e=f,this.config=g,e.$render=function(){d.render()},b.itemsPerPage?a.$parent.$watch(c(b.itemsPerPage),function(b){d.itemsPerPage=parseInt(b,10),a.totalPages=d.calculateTotalPages()}):this.itemsPerPage=g.itemsPerPage},this.calculateTotalPages=function(){var b=this.itemsPerPage<1?1:Math.ceil(a.totalItems/this.itemsPerPage);return Math.max(b||0,1)},this.render=function(){a.page=parseInt(e.$viewValue,10)||1},a.selectPage=function(b){a.page!==b&&b>0&&b<=a.totalPages&&(e.$setViewValue(b),e.$render())},a.getText=function(b){return a[b+\"Text\"]||d.config[b+\"Text\"]},a.noPrevious=function(){return 1===a.page},a.noNext=function(){return a.page===a.totalPages},a.$watch(\"totalItems\",function(){a.totalPages=d.calculateTotalPages()}),a.$watch(\"totalPages\",function(b){f(a.$parent,b),a.page>b?a.selectPage(b):e.$render()})}]).constant(\"paginationConfig\",{itemsPerPage:10,boundaryLinks:!1,directionLinks:!0,firstText:\"First\",previousText:\"Previous\",nextText:\"Next\",lastText:\"Last\",rotate:!0}).directive(\"pagination\",[\"$parse\",\"paginationConfig\",function(a,b){return{restrict:\"EA\",scope:{totalItems:\"=\",firstText:\"@\",previousText:\"@\",nextText:\"@\",lastText:\"@\"},require:[\"pagination\",\"?ngModel\"],controller:\"PaginationController\",templateUrl:\"template/pagination/pagination.html\",replace:!0,link:function(c,d,e,f){function g(a,b,c){return{number:a,text:b,active:c}}function h(a,b){var c=[],d=1,e=b,f=angular.isDefined(k)&&b>k;f&&(l?(d=Math.max(a-Math.floor(k/2),1),e=d+k-1,e>b&&(e=b,d=e-k+1)):(d=(Math.ceil(a/k)-1)*k+1,e=Math.min(d+k-1,b)));for(var h=d;e>=h;h++){var i=g(h,h,h===a);c.push(i)}if(f&&!l){if(d>1){var j=g(d-1,\"...\",!1);c.unshift(j)}if(b>e){var m=g(e+1,\"...\",!1);c.push(m)}}return c}var i=f[0],j=f[1];if(j){var k=angular.isDefined(e.maxSize)?c.$parent.$eval(e.maxSize):b.maxSize,l=angular.isDefined(e.rotate)?c.$parent.$eval(e.rotate):b.rotate;c.boundaryLinks=angular.isDefined(e.boundaryLinks)?c.$parent.$eval(e.boundaryLinks):b.boundaryLinks,c.directionLinks=angular.isDefined(e.directionLinks)?c.$parent.$eval(e.directionLinks):b.directionLinks,i.init(j,b),e.maxSize&&c.$parent.$watch(a(e.maxSize),function(a){k=parseInt(a,10),i.render()\n});var m=i.render;i.render=function(){m(),c.page>0&&c.page<=c.totalPages&&(c.pages=h(c.page,c.totalPages))}}}}}]).constant(\"pagerConfig\",{itemsPerPage:10,previousText:\" Previous\",nextText:\"Next \",align:!0}).directive(\"pager\",[\"pagerConfig\",function(a){return{restrict:\"EA\",scope:{totalItems:\"=\",previousText:\"@\",nextText:\"@\"},require:[\"pager\",\"?ngModel\"],controller:\"PaginationController\",templateUrl:\"template/pagination/pager.html\",replace:!0,link:function(b,c,d,e){var f=e[0],g=e[1];g&&(b.align=angular.isDefined(d.align)?b.$parent.$eval(d.align):a.align,f.init(g,a))}}}]),angular.module(\"ui.bootstrap.tooltip\",[\"ui.bootstrap.position\",\"ui.bootstrap.bindHtml\"]).provider(\"$tooltip\",function(){function a(a){var b=/[A-Z]/g,c=\"-\";return a.replace(b,function(a,b){return(b?c:\"\")+a.toLowerCase()})}var b={placement:\"top\",animation:!0,popupDelay:0},c={mouseenter:\"mouseleave\",click:\"click\",focus:\"blur\"},d={};this.options=function(a){angular.extend(d,a)},this.setTriggers=function(a){angular.extend(c,a)},this.$get=[\"$window\",\"$compile\",\"$timeout\",\"$document\",\"$position\",\"$interpolate\",function(e,f,g,h,i,j){return function(e,k,l){function m(a){var b=a||n.trigger||l,d=c[b]||b;return{show:b,hide:d}}var n=angular.extend({},b,d),o=a(e),p=j.startSymbol(),q=j.endSymbol(),r=\"<div \"+o+'-popup title=\"'+p+\"title\"+q+'\" content=\"'+p+\"content\"+q+'\" placement=\"'+p+\"placement\"+q+'\" animation=\"animation\" is-open=\"isOpen\"></div>';return{restrict:\"EA\",compile:function(){var a=f(r);return function(b,c,d){function f(){D.isOpen?l():j()}function j(){(!C||b.$eval(d[k+\"Enable\"]))&&(s(),D.popupDelay?z||(z=g(o,D.popupDelay,!1),z.then(function(a){a()})):o()())}function l(){b.$apply(function(){p()})}function o(){return z=null,y&&(g.cancel(y),y=null),D.content?(q(),w.css({top:0,left:0,display:\"block\"}),D.$digest(),E(),D.isOpen=!0,D.$digest(),E):angular.noop}function p(){D.isOpen=!1,g.cancel(z),z=null,D.animation?y||(y=g(r,500)):r()}function q(){w&&r(),x=D.$new(),w=a(x,function(a){A?h.find(\"body\").append(a):c.after(a)})}function r(){y=null,w&&(w.remove(),w=null),x&&(x.$destroy(),x=null)}function s(){t(),u()}function t(){var a=d[k+\"Placement\"];D.placement=angular.isDefined(a)?a:n.placement}function u(){var a=d[k+\"PopupDelay\"],b=parseInt(a,10);D.popupDelay=isNaN(b)?n.popupDelay:b}function v(){var a=d[k+\"Trigger\"];F(),B=m(a),B.show===B.hide?c.bind(B.show,f):(c.bind(B.show,j),c.bind(B.hide,l))}var w,x,y,z,A=angular.isDefined(n.appendToBody)?n.appendToBody:!1,B=m(void 0),C=angular.isDefined(d[k+\"Enable\"]),D=b.$new(!0),E=function(){var a=i.positionElements(c,w,D.placement,A);a.top+=\"px\",a.left+=\"px\",w.css(a)};D.isOpen=!1,d.$observe(e,function(a){D.content=a,!a&&D.isOpen&&p()}),d.$observe(k+\"Title\",function(a){D.title=a});var F=function(){c.unbind(B.show,j),c.unbind(B.hide,l)};v();var G=b.$eval(d[k+\"Animation\"]);D.animation=angular.isDefined(G)?!!G:n.animation;var H=b.$eval(d[k+\"AppendToBody\"]);A=angular.isDefined(H)?H:A,A&&b.$on(\"$locationChangeSuccess\",function(){D.isOpen&&p()}),b.$on(\"$destroy\",function(){g.cancel(y),g.cancel(z),F(),r(),D=null})}}}}}]}).directive(\"tooltipPopup\",function(){return{restrict:\"EA\",replace:!0,scope:{content:\"@\",placement:\"@\",animation:\"&\",isOpen:\"&\"},templateUrl:\"template/tooltip/tooltip-popup.html\"}}).directive(\"tooltip\",[\"$tooltip\",function(a){return a(\"tooltip\",\"tooltip\",\"mouseenter\")}]).directive(\"tooltipHtmlUnsafePopup\",function(){return{restrict:\"EA\",replace:!0,scope:{content:\"@\",placement:\"@\",animation:\"&\",isOpen:\"&\"},templateUrl:\"template/tooltip/tooltip-html-unsafe-popup.html\"}}).directive(\"tooltipHtmlUnsafe\",[\"$tooltip\",function(a){return a(\"tooltipHtmlUnsafe\",\"tooltip\",\"mouseenter\")}]),angular.module(\"ui.bootstrap.popover\",[\"ui.bootstrap.tooltip\"]).directive(\"popoverPopup\",function(){return{restrict:\"EA\",replace:!0,scope:{title:\"@\",content:\"@\",placement:\"@\",animation:\"&\",isOpen:\"&\"},templateUrl:\"template/popover/popover.html\"}}).directive(\"popover\",[\"$tooltip\",function(a){return a(\"popover\",\"popover\",\"click\")}]),angular.module(\"ui.bootstrap.progressbar\",[]).constant(\"progressConfig\",{animate:!0,max:100}).controller(\"ProgressController\",[\"$scope\",\"$attrs\",\"progressConfig\",function(a,b,c){var d=this,e=angular.isDefined(b.animate)?a.$parent.$eval(b.animate):c.animate;this.bars=[],a.max=angular.isDefined(b.max)?a.$parent.$eval(b.max):c.max,this.addBar=function(b,c){e||c.css({transition:\"none\"}),this.bars.push(b),b.$watch(\"value\",function(c){b.percent=+(100*c/a.max).toFixed(2)}),b.$on(\"$destroy\",function(){c=null,d.removeBar(b)})},this.removeBar=function(a){this.bars.splice(this.bars.indexOf(a),1)}}]).directive(\"progress\",function(){return{restrict:\"EA\",replace:!0,transclude:!0,controller:\"ProgressController\",require:\"progress\",scope:{},templateUrl:\"template/progressbar/progress.html\"}}).directive(\"bar\",function(){return{restrict:\"EA\",replace:!0,transclude:!0,require:\"^progress\",scope:{value:\"=\",type:\"@\"},templateUrl:\"template/progressbar/bar.html\",link:function(a,b,c,d){d.addBar(a,b)}}}).directive(\"progressbar\",function(){return{restrict:\"EA\",replace:!0,transclude:!0,controller:\"ProgressController\",scope:{value:\"=\",type:\"@\"},templateUrl:\"template/progressbar/progressbar.html\",link:function(a,b,c,d){d.addBar(a,angular.element(b.children()[0]))}}}),angular.module(\"ui.bootstrap.rating\",[]).constant(\"ratingConfig\",{max:5,stateOn:null,stateOff:null}).controller(\"RatingController\",[\"$scope\",\"$attrs\",\"ratingConfig\",function(a,b,c){var d={$setViewValue:angular.noop};this.init=function(e){d=e,d.$render=this.render,this.stateOn=angular.isDefined(b.stateOn)?a.$parent.$eval(b.stateOn):c.stateOn,this.stateOff=angular.isDefined(b.stateOff)?a.$parent.$eval(b.stateOff):c.stateOff;var f=angular.isDefined(b.ratingStates)?a.$parent.$eval(b.ratingStates):new Array(angular.isDefined(b.max)?a.$parent.$eval(b.max):c.max);a.range=this.buildTemplateObjects(f)},this.buildTemplateObjects=function(a){for(var b=0,c=a.length;c>b;b++)a[b]=angular.extend({index:b},{stateOn:this.stateOn,stateOff:this.stateOff},a[b]);return a},a.rate=function(b){!a.readonly&&b>=0&&b<=a.range.length&&(d.$setViewValue(b),d.$render())},a.enter=function(b){a.readonly||(a.value=b),a.onHover({value:b})},a.reset=function(){a.value=d.$viewValue,a.onLeave()},a.onKeydown=function(b){/(37|38|39|40)/.test(b.which)&&(b.preventDefault(),b.stopPropagation(),a.rate(a.value+(38===b.which||39===b.which?1:-1)))},this.render=function(){a.value=d.$viewValue}}]).directive(\"rating\",function(){return{restrict:\"EA\",require:[\"rating\",\"ngModel\"],scope:{readonly:\"=?\",onHover:\"&\",onLeave:\"&\"},controller:\"RatingController\",templateUrl:\"template/rating/rating.html\",replace:!0,link:function(a,b,c,d){var e=d[0],f=d[1];f&&e.init(f)}}}),angular.module(\"ui.bootstrap.tabs\",[]).controller(\"TabsetController\",[\"$scope\",function(a){var b=this,c=b.tabs=a.tabs=[];b.select=function(a){angular.forEach(c,function(b){b.active&&b!==a&&(b.active=!1,b.onDeselect())}),a.active=!0,a.onSelect()},b.addTab=function(a){c.push(a),1===c.length?a.active=!0:a.active&&b.select(a)},b.removeTab=function(a){var e=c.indexOf(a);if(a.active&&c.length>1&&!d){var f=e==c.length-1?e-1:e+1;b.select(c[f])}c.splice(e,1)};var d;a.$on(\"$destroy\",function(){d=!0})}]).directive(\"tabset\",function(){return{restrict:\"EA\",transclude:!0,replace:!0,scope:{type:\"@\"},controller:\"TabsetController\",templateUrl:\"template/tabs/tabset.html\",link:function(a,b,c){a.vertical=angular.isDefined(c.vertical)?a.$parent.$eval(c.vertical):!1,a.justified=angular.isDefined(c.justified)?a.$parent.$eval(c.justified):!1}}}).directive(\"tab\",[\"$parse\",function(a){return{require:\"^tabset\",restrict:\"EA\",replace:!0,templateUrl:\"template/tabs/tab.html\",transclude:!0,scope:{active:\"=?\",heading:\"@\",onSelect:\"&select\",onDeselect:\"&deselect\"},controller:function(){},compile:function(b,c,d){return function(b,c,e,f){b.$watch(\"active\",function(a){a&&f.select(b)}),b.disabled=!1,e.disabled&&b.$parent.$watch(a(e.disabled),function(a){b.disabled=!!a}),b.select=function(){b.disabled||(b.active=!0)},f.addTab(b),b.$on(\"$destroy\",function(){f.removeTab(b)}),b.$transcludeFn=d}}}}]).directive(\"tabHeadingTransclude\",[function(){return{restrict:\"A\",require:\"^tab\",link:function(a,b){a.$watch(\"headingElement\",function(a){a&&(b.html(\"\"),b.append(a))})}}}]).directive(\"tabContentTransclude\",function(){function a(a){return a.tagName&&(a.hasAttribute(\"tab-heading\")||a.hasAttribute(\"data-tab-heading\")||\"tab-heading\"===a.tagName.toLowerCase()||\"data-tab-heading\"===a.tagName.toLowerCase())}return{restrict:\"A\",require:\"^tabset\",link:function(b,c,d){var e=b.$eval(d.tabContentTransclude);e.$transcludeFn(e.$parent,function(b){angular.forEach(b,function(b){a(b)?e.headingElement=b:c.append(b)})})}}}),angular.module(\"ui.bootstrap.timepicker\",[]).constant(\"timepickerConfig\",{hourStep:1,minuteStep:1,showMeridian:!0,meridians:null,readonlyInput:!1,mousewheel:!0}).controller(\"TimepickerController\",[\"$scope\",\"$attrs\",\"$parse\",\"$log\",\"$locale\",\"timepickerConfig\",function(a,b,c,d,e,f){function g(){var b=parseInt(a.hours,10),c=a.showMeridian?b>0&&13>b:b>=0&&24>b;return c?(a.showMeridian&&(12===b&&(b=0),a.meridian===p[1]&&(b+=12)),b):void 0}function h(){var b=parseInt(a.minutes,10);return b>=0&&60>b?b:void 0}function i(a){return angular.isDefined(a)&&a.toString().length<2?\"0\"+a:a}function j(a){k(),o.$setViewValue(new Date(n)),l(a)}function k(){o.$setValidity(\"time\",!0),a.invalidHours=!1,a.invalidMinutes=!1}function l(b){var c=n.getHours(),d=n.getMinutes();a.showMeridian&&(c=0===c||12===c?12:c%12),a.hours=\"h\"===b?c:i(c),a.minutes=\"m\"===b?d:i(d),a.meridian=n.getHours()<12?p[0]:p[1]}function m(a){var b=new Date(n.getTime()+6e4*a);n.setHours(b.getHours(),b.getMinutes()),j()}var n=new Date,o={$setViewValue:angular.noop},p=angular.isDefined(b.meridians)?a.$parent.$eval(b.meridians):f.meridians||e.DATETIME_FORMATS.AMPMS;this.init=function(c,d){o=c,o.$render=this.render;var e=d.eq(0),g=d.eq(1),h=angular.isDefined(b.mousewheel)?a.$parent.$eval(b.mousewheel):f.mousewheel;h&&this.setupMousewheelEvents(e,g),a.readonlyInput=angular.isDefined(b.readonlyInput)?a.$parent.$eval(b.readonlyInput):f.readonlyInput,this.setupInputEvents(e,g)};var q=f.hourStep;b.hourStep&&a.$parent.$watch(c(b.hourStep),function(a){q=parseInt(a,10)});var r=f.minuteStep;b.minuteStep&&a.$parent.$watch(c(b.minuteStep),function(a){r=parseInt(a,10)}),a.showMeridian=f.showMeridian,b.showMeridian&&a.$parent.$watch(c(b.showMeridian),function(b){if(a.showMeridian=!!b,o.$error.time){var c=g(),d=h();angular.isDefined(c)&&angular.isDefined(d)&&(n.setHours(c),j())}else l()}),this.setupMousewheelEvents=function(b,c){var d=function(a){a.originalEvent&&(a=a.originalEvent);var b=a.wheelDelta?a.wheelDelta:-a.deltaY;return a.detail||b>0};b.bind(\"mousewheel wheel\",function(b){a.$apply(d(b)?a.incrementHours():a.decrementHours()),b.preventDefault()}),c.bind(\"mousewheel wheel\",function(b){a.$apply(d(b)?a.incrementMinutes():a.decrementMinutes()),b.preventDefault()})},this.setupInputEvents=function(b,c){if(a.readonlyInput)return a.updateHours=angular.noop,void(a.updateMinutes=angular.noop);var d=function(b,c){o.$setViewValue(null),o.$setValidity(\"time\",!1),angular.isDefined(b)&&(a.invalidHours=b),angular.isDefined(c)&&(a.invalidMinutes=c)};a.updateHours=function(){var a=g();angular.isDefined(a)?(n.setHours(a),j(\"h\")):d(!0)},b.bind(\"blur\",function(){!a.invalidHours&&a.hours<10&&a.$apply(function(){a.hours=i(a.hours)})}),a.updateMinutes=function(){var a=h();angular.isDefined(a)?(n.setMinutes(a),j(\"m\")):d(void 0,!0)},c.bind(\"blur\",function(){!a.invalidMinutes&&a.minutes<10&&a.$apply(function(){a.minutes=i(a.minutes)})})},this.render=function(){var a=o.$modelValue?new Date(o.$modelValue):null;isNaN(a)?(o.$setValidity(\"time\",!1),d.error('Timepicker directive: \"ng-model\" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(a&&(n=a),k(),l())},a.incrementHours=function(){m(60*q)},a.decrementHours=function(){m(60*-q)},a.incrementMinutes=function(){m(r)},a.decrementMinutes=function(){m(-r)},a.toggleMeridian=function(){m(720*(n.getHours()<12?1:-1))}}]).directive(\"timepicker\",function(){return{restrict:\"EA\",require:[\"timepicker\",\"?^ngModel\"],controller:\"TimepickerController\",replace:!0,scope:{},templateUrl:\"template/timepicker/timepicker.html\",link:function(a,b,c,d){var e=d[0],f=d[1];f&&e.init(f,b.find(\"input\"))}}}),angular.module(\"ui.bootstrap.typeahead\",[\"ui.bootstrap.position\",\"ui.bootstrap.bindHtml\"]).factory(\"typeaheadParser\",[\"$parse\",function(a){var b=/^\\s*([\\s\\S]+?)(?:\\s+as\\s+([\\s\\S]+?))?\\s+for\\s+(?:([\\$\\w][\\$\\w\\d]*))\\s+in\\s+([\\s\\S]+?)$/;return{parse:function(c){var d=c.match(b);if(!d)throw new Error('Expected typeahead specification in form of \"_modelValue_ (as _label_)? for _item_ in _collection_\" but got \"'+c+'\".');return{itemName:d[3],source:a(d[4]),viewMapper:a(d[2]||d[1]),modelMapper:a(d[1])}}}}]).directive(\"typeahead\",[\"$compile\",\"$parse\",\"$q\",\"$timeout\",\"$document\",\"$position\",\"typeaheadParser\",function(a,b,c,d,e,f,g){var h=[9,13,27,38,40];return{require:\"ngModel\",link:function(i,j,k,l){var m,n=i.$eval(k.typeaheadMinLength)||1,o=i.$eval(k.typeaheadWaitMs)||0,p=i.$eval(k.typeaheadEditable)!==!1,q=b(k.typeaheadLoading).assign||angular.noop,r=b(k.typeaheadOnSelect),s=k.typeaheadInputFormatter?b(k.typeaheadInputFormatter):void 0,t=k.typeaheadAppendToBody?i.$eval(k.typeaheadAppendToBody):!1,u=i.$eval(k.typeaheadFocusFirst)!==!1,v=b(k.ngModel).assign,w=g.parse(k.typeahead),x=i.$new();i.$on(\"$destroy\",function(){x.$destroy()});var y=\"typeahead-\"+x.$id+\"-\"+Math.floor(1e4*Math.random());j.attr({\"aria-autocomplete\":\"list\",\"aria-expanded\":!1,\"aria-owns\":y});var z=angular.element(\"<div typeahead-popup></div>\");z.attr({id:y,matches:\"matches\",active:\"activeIdx\",select:\"select(activeIdx)\",query:\"query\",position:\"position\"}),angular.isDefined(k.typeaheadTemplateUrl)&&z.attr(\"template-url\",k.typeaheadTemplateUrl);var A=function(){x.matches=[],x.activeIdx=-1,j.attr(\"aria-expanded\",!1)},B=function(a){return y+\"-option-\"+a};x.$watch(\"activeIdx\",function(a){0>a?j.removeAttr(\"aria-activedescendant\"):j.attr(\"aria-activedescendant\",B(a))});var C=function(a){var b={$viewValue:a};q(i,!0),c.when(w.source(i,b)).then(function(c){var d=a===l.$viewValue;if(d&&m)if(c.length>0){x.activeIdx=u?0:-1,x.matches.length=0;for(var e=0;e<c.length;e++)b[w.itemName]=c[e],x.matches.push({id:B(e),label:w.viewMapper(x,b),model:c[e]});x.query=a,x.position=t?f.offset(j):f.position(j),x.position.top=x.position.top+j.prop(\"offsetHeight\"),j.attr(\"aria-expanded\",!0)}else A();d&&q(i,!1)},function(){A(),q(i,!1)})};A(),x.query=void 0;var D,E=function(a){D=d(function(){C(a)},o)},F=function(){D&&d.cancel(D)};l.$parsers.unshift(function(a){return m=!0,a&&a.length>=n?o>0?(F(),E(a)):C(a):(q(i,!1),F(),A()),p?a:a?void l.$setValidity(\"editable\",!1):(l.$setValidity(\"editable\",!0),a)}),l.$formatters.push(function(a){var b,c,d={};return s?(d.$model=a,s(i,d)):(d[w.itemName]=a,b=w.viewMapper(i,d),d[w.itemName]=void 0,c=w.viewMapper(i,d),b!==c?b:a)}),x.select=function(a){var b,c,e={};e[w.itemName]=c=x.matches[a].model,b=w.modelMapper(i,e),v(i,b),l.$setValidity(\"editable\",!0),r(i,{$item:c,$model:b,$label:w.viewMapper(i,e)}),A(),d(function(){j[0].focus()},0,!1)},j.bind(\"keydown\",function(a){0!==x.matches.length&&-1!==h.indexOf(a.which)&&(-1!=x.activeIdx||13!==a.which&&9!==a.which)&&(a.preventDefault(),40===a.which?(x.activeIdx=(x.activeIdx+1)%x.matches.length,x.$digest()):38===a.which?(x.activeIdx=(x.activeIdx>0?x.activeIdx:x.matches.length)-1,x.$digest()):13===a.which||9===a.which?x.$apply(function(){x.select(x.activeIdx)}):27===a.which&&(a.stopPropagation(),A(),x.$digest()))}),j.bind(\"blur\",function(){m=!1});var G=function(a){j[0]!==a.target&&(A(),x.$digest())};e.bind(\"click\",G),i.$on(\"$destroy\",function(){e.unbind(\"click\",G),t&&H.remove()});var H=a(z)(x);t?e.find(\"body\").append(H):j.after(H)}}}]).directive(\"typeaheadPopup\",function(){return{restrict:\"EA\",scope:{matches:\"=\",query:\"=\",active:\"=\",position:\"=\",select:\"&\"},replace:!0,templateUrl:\"template/typeahead/typeahead-popup.html\",link:function(a,b,c){a.templateUrl=c.templateUrl,a.isOpen=function(){return a.matches.length>0},a.isActive=function(b){return a.active==b},a.selectActive=function(b){a.active=b},a.selectMatch=function(b){a.select({activeIdx:b})}}}}).directive(\"typeaheadMatch\",[\"$http\",\"$templateCache\",\"$compile\",\"$parse\",function(a,b,c,d){return{restrict:\"EA\",scope:{index:\"=\",match:\"=\",query:\"=\"},link:function(e,f,g){var h=d(g.templateUrl)(e.$parent)||\"template/typeahead/typeahead-match.html\";a.get(h,{cache:b}).success(function(a){f.replaceWith(c(a.trim())(e))})}}}]).filter(\"typeaheadHighlight\",function(){function a(a){return a.replace(/([.?*+^$[\\]\\\\(){}|-])/g,\"\\\\$1\")}return function(b,c){return c?(\"\"+b).replace(new RegExp(a(c),\"gi\"),\"<strong>$&</strong>\"):b}}),angular.module(\"template/accordion/accordion-group.html\",[]).run([\"$templateCache\",function(a){a.put(\"template/accordion/accordion-group.html\",'<div class=\"panel panel-default\">\\n  <div class=\"panel-heading\">\\n    <h4 class=\"panel-title\">\\n      <a href class=\"accordion-toggle\" ng-click=\"toggleOpen()\" accordion-transclude=\"heading\"><span ng-class=\"{\\'text-muted\\': isDisabled}\">{{heading}}</span></a>\\n    </h4>\\n  </div>\\n  <div class=\"panel-collapse\" collapse=\"!isOpen\">\\n\t  <div class=\"panel-body\" ng-transclude></div>\\n  </div>\\n</div>\\n')}]),angular.module(\"template/accordion/accordion.html\",[]).run([\"$templateCache\",function(a){a.put(\"template/accordion/accordion.html\",'<div class=\"panel-group\" ng-transclude></div>')}]),angular.module(\"template/alert/alert.html\",[]).run([\"$templateCache\",function(a){a.put(\"template/alert/alert.html\",'<div class=\"alert\" ng-class=\"[\\'alert-\\' + (type || \\'warning\\'), closeable ? \\'alert-dismissable\\' : null]\" role=\"alert\">\\n    <button ng-show=\"closeable\" type=\"button\" class=\"close\" ng-click=\"close()\">\\n        <span aria-hidden=\"true\">&times;</span>\\n        <span class=\"sr-only\">Close</span>\\n    </button>\\n    <div ng-transclude></div>\\n</div>\\n')}]),angular.module(\"template/carousel/carousel.html\",[]).run([\"$templateCache\",function(a){a.put(\"template/carousel/carousel.html\",'<div ng-mouseenter=\"pause()\" ng-mouseleave=\"play()\" class=\"carousel\" ng-swipe-right=\"prev()\" ng-swipe-left=\"next()\">\\n    <ol class=\"carousel-indicators\" ng-show=\"slides.length > 1\">\\n        <li ng-repeat=\"slide in slides track by $index\" ng-class=\"{active: isActive(slide)}\" ng-click=\"select(slide)\"></li>\\n    </ol>\\n    <div class=\"carousel-inner\" ng-transclude></div>\\n    <a class=\"left carousel-control\" ng-click=\"prev()\" ng-show=\"slides.length > 1\"><span class=\"glyphicon glyphicon-chevron-left\"></span></a>\\n    <a class=\"right carousel-control\" ng-click=\"next()\" ng-show=\"slides.length > 1\"><span class=\"glyphicon glyphicon-chevron-right\"></span></a>\\n</div>\\n')}]),angular.module(\"template/carousel/slide.html\",[]).run([\"$templateCache\",function(a){a.put(\"template/carousel/slide.html\",\"<div ng-class=\\\"{\\n    'active': leaving || (active && !entering),\\n    'prev': (next || active) && direction=='prev',\\n    'next': (next || active) && direction=='next',\\n    'right': direction=='prev',\\n    'left': direction=='next'\\n  }\\\" class=\\\"item text-center\\\" ng-transclude></div>\\n\")}]),angular.module(\"template/datepicker/datepicker.html\",[]).run([\"$templateCache\",function(a){a.put(\"template/datepicker/datepicker.html\",'<div ng-switch=\"datepickerMode\" role=\"application\" ng-keydown=\"keydown($event)\">\\n  <daypicker ng-switch-when=\"day\" tabindex=\"0\"></daypicker>\\n  <monthpicker ng-switch-when=\"month\" tabindex=\"0\"></monthpicker>\\n  <yearpicker ng-switch-when=\"year\" tabindex=\"0\"></yearpicker>\\n</div>')}]),angular.module(\"template/datepicker/day.html\",[]).run([\"$templateCache\",function(a){a.put(\"template/datepicker/day.html\",'<table role=\"grid\" aria-labelledby=\"{{uniqueId}}-title\" aria-activedescendant=\"{{activeDateId}}\">\\n  <thead>\\n    <tr>\\n      <th><button type=\"button\" class=\"btn btn-default btn-sm pull-left\" ng-click=\"move(-1)\" tabindex=\"-1\"><i class=\"glyphicon glyphicon-chevron-left\"></i></button></th>\\n      <th colspan=\"{{5 + showWeeks}}\"><button id=\"{{uniqueId}}-title\" role=\"heading\" aria-live=\"assertive\" aria-atomic=\"true\" type=\"button\" class=\"btn btn-default btn-sm\" ng-click=\"toggleMode()\" tabindex=\"-1\" style=\"width:100%;\"><strong>{{title}}</strong></button></th>\\n      <th><button type=\"button\" class=\"btn btn-default btn-sm pull-right\" ng-click=\"move(1)\" tabindex=\"-1\"><i class=\"glyphicon glyphicon-chevron-right\"></i></button></th>\\n    </tr>\\n    <tr>\\n      <th ng-show=\"showWeeks\" class=\"text-center\"></th>\\n      <th ng-repeat=\"label in labels track by $index\" class=\"text-center\"><small aria-label=\"{{label.full}}\">{{label.abbr}}</small></th>\\n    </tr>\\n  </thead>\\n  <tbody>\\n    <tr ng-repeat=\"row in rows track by $index\">\\n      <td ng-show=\"showWeeks\" class=\"text-center h6\"><em>{{ weekNumbers[$index] }}</em></td>\\n      <td ng-repeat=\"dt in row track by dt.date\" class=\"text-center\" role=\"gridcell\" id=\"{{dt.uid}}\" aria-disabled=\"{{!!dt.disabled}}\">\\n        <button type=\"button\" style=\"width:100%;\" class=\"btn btn-default btn-sm\" ng-class=\"{\\'btn-info\\': dt.selected, active: isActive(dt)}\" ng-click=\"select(dt.date)\" ng-disabled=\"dt.disabled\" tabindex=\"-1\"><span ng-class=\"{\\'text-muted\\': dt.secondary, \\'text-info\\': dt.current}\">{{dt.label}}</span></button>\\n      </td>\\n    </tr>\\n  </tbody>\\n</table>\\n')}]),angular.module(\"template/datepicker/month.html\",[]).run([\"$templateCache\",function(a){a.put(\"template/datepicker/month.html\",'<table role=\"grid\" aria-labelledby=\"{{uniqueId}}-title\" aria-activedescendant=\"{{activeDateId}}\">\\n  <thead>\\n    <tr>\\n      <th><button type=\"button\" class=\"btn btn-default btn-sm pull-left\" ng-click=\"move(-1)\" tabindex=\"-1\"><i class=\"glyphicon glyphicon-chevron-left\"></i></button></th>\\n      <th><button id=\"{{uniqueId}}-title\" role=\"heading\" aria-live=\"assertive\" aria-atomic=\"true\" type=\"button\" class=\"btn btn-default btn-sm\" ng-click=\"toggleMode()\" tabindex=\"-1\" style=\"width:100%;\"><strong>{{title}}</strong></button></th>\\n      <th><button type=\"button\" class=\"btn btn-default btn-sm pull-right\" ng-click=\"move(1)\" tabindex=\"-1\"><i class=\"glyphicon glyphicon-chevron-right\"></i></button></th>\\n    </tr>\\n  </thead>\\n  <tbody>\\n    <tr ng-repeat=\"row in rows track by $index\">\\n      <td ng-repeat=\"dt in row track by dt.date\" class=\"text-center\" role=\"gridcell\" id=\"{{dt.uid}}\" aria-disabled=\"{{!!dt.disabled}}\">\\n        <button type=\"button\" style=\"width:100%;\" class=\"btn btn-default\" ng-class=\"{\\'btn-info\\': dt.selected, active: isActive(dt)}\" ng-click=\"select(dt.date)\" ng-disabled=\"dt.disabled\" tabindex=\"-1\"><span ng-class=\"{\\'text-info\\': dt.current}\">{{dt.label}}</span></button>\\n      </td>\\n    </tr>\\n  </tbody>\\n</table>\\n')}]),angular.module(\"template/datepicker/popup.html\",[]).run([\"$templateCache\",function(a){a.put(\"template/datepicker/popup.html\",'<ul class=\"dropdown-menu\" ng-style=\"{display: (isOpen && \\'block\\') || \\'none\\', top: position.top+\\'px\\', left: position.left+\\'px\\'}\" ng-keydown=\"keydown($event)\">\\n\t<li ng-transclude></li>\\n\t<li ng-if=\"showButtonBar\" style=\"padding:10px 9px 2px\">\\n\t\t<span class=\"btn-group pull-left\">\\n\t\t\t<button type=\"button\" class=\"btn btn-sm btn-info\" ng-click=\"select(\\'today\\')\">{{ getText(\\'current\\') }}</button>\\n\t\t\t<button type=\"button\" class=\"btn btn-sm btn-danger\" ng-click=\"select(null)\">{{ getText(\\'clear\\') }}</button>\\n\t\t</span>\\n\t\t<button type=\"button\" class=\"btn btn-sm btn-success pull-right\" ng-click=\"close()\">{{ getText(\\'close\\') }}</button>\\n\t</li>\\n</ul>\\n')}]),angular.module(\"template/datepicker/year.html\",[]).run([\"$templateCache\",function(a){a.put(\"template/datepicker/year.html\",'<table role=\"grid\" aria-labelledby=\"{{uniqueId}}-title\" aria-activedescendant=\"{{activeDateId}}\">\\n  <thead>\\n    <tr>\\n      <th><button type=\"button\" class=\"btn btn-default btn-sm pull-left\" ng-click=\"move(-1)\" tabindex=\"-1\"><i class=\"glyphicon glyphicon-chevron-left\"></i></button></th>\\n      <th colspan=\"3\"><button id=\"{{uniqueId}}-title\" role=\"heading\" aria-live=\"assertive\" aria-atomic=\"true\" type=\"button\" class=\"btn btn-default btn-sm\" ng-click=\"toggleMode()\" tabindex=\"-1\" style=\"width:100%;\"><strong>{{title}}</strong></button></th>\\n      <th><button type=\"button\" class=\"btn btn-default btn-sm pull-right\" ng-click=\"move(1)\" tabindex=\"-1\"><i class=\"glyphicon glyphicon-chevron-right\"></i></button></th>\\n    </tr>\\n  </thead>\\n  <tbody>\\n    <tr ng-repeat=\"row in rows track by $index\">\\n      <td ng-repeat=\"dt in row track by dt.date\" class=\"text-center\" role=\"gridcell\" id=\"{{dt.uid}}\" aria-disabled=\"{{!!dt.disabled}}\">\\n        <button type=\"button\" style=\"width:100%;\" class=\"btn btn-default\" ng-class=\"{\\'btn-info\\': dt.selected, active: isActive(dt)}\" ng-click=\"select(dt.date)\" ng-disabled=\"dt.disabled\" tabindex=\"-1\"><span ng-class=\"{\\'text-info\\': dt.current}\">{{dt.label}}</span></button>\\n      </td>\\n    </tr>\\n  </tbody>\\n</table>\\n')}]),angular.module(\"template/modal/backdrop.html\",[]).run([\"$templateCache\",function(a){a.put(\"template/modal/backdrop.html\",'<div class=\"modal-backdrop fade {{ backdropClass }}\"\\n     ng-class=\"{in: animate}\"\\n     ng-style=\"{\\'z-index\\': 1040 + (index && 1 || 0) + index*10}\"\\n></div>\\n')}]),angular.module(\"template/modal/window.html\",[]).run([\"$templateCache\",function(a){a.put(\"template/modal/window.html\",'<div tabindex=\"-1\" role=\"dialog\" class=\"modal fade\" ng-class=\"{in: animate}\" ng-style=\"{\\'z-index\\': 1050 + index*10, display: \\'block\\'}\" ng-click=\"close($event)\">\\n    <div class=\"modal-dialog\" ng-class=\"{\\'modal-sm\\': size == \\'sm\\', \\'modal-lg\\': size == \\'lg\\'}\"><div class=\"modal-content\" modal-transclude></div></div>\\n</div>')}]),angular.module(\"template/pagination/pager.html\",[]).run([\"$templateCache\",function(a){a.put(\"template/pagination/pager.html\",'<ul class=\"pager\">\\n  <li ng-class=\"{disabled: noPrevious(), previous: align}\"><a href ng-click=\"selectPage(page - 1)\">{{getText(\\'previous\\')}}</a></li>\\n  <li ng-class=\"{disabled: noNext(), next: align}\"><a href ng-click=\"selectPage(page + 1)\">{{getText(\\'next\\')}}</a></li>\\n</ul>')}]),angular.module(\"template/pagination/pagination.html\",[]).run([\"$templateCache\",function(a){a.put(\"template/pagination/pagination.html\",'<ul class=\"pagination\">\\n  <li ng-if=\"boundaryLinks\" ng-class=\"{disabled: noPrevious()}\"><a href ng-click=\"selectPage(1)\">{{getText(\\'first\\')}}</a></li>\\n  <li ng-if=\"directionLinks\" ng-class=\"{disabled: noPrevious()}\"><a href ng-click=\"selectPage(page - 1)\">{{getText(\\'previous\\')}}</a></li>\\n  <li ng-repeat=\"page in pages track by $index\" ng-class=\"{active: page.active}\"><a href ng-click=\"selectPage(page.number)\">{{page.text}}</a></li>\\n  <li ng-if=\"directionLinks\" ng-class=\"{disabled: noNext()}\"><a href ng-click=\"selectPage(page + 1)\">{{getText(\\'next\\')}}</a></li>\\n  <li ng-if=\"boundaryLinks\" ng-class=\"{disabled: noNext()}\"><a href ng-click=\"selectPage(totalPages)\">{{getText(\\'last\\')}}</a></li>\\n</ul>')}]),angular.module(\"template/tooltip/tooltip-html-unsafe-popup.html\",[]).run([\"$templateCache\",function(a){a.put(\"template/tooltip/tooltip-html-unsafe-popup.html\",'<div class=\"tooltip {{placement}}\" ng-class=\"{ in: isOpen(), fade: animation() }\">\\n  <div class=\"tooltip-arrow\"></div>\\n  <div class=\"tooltip-inner\" bind-html-unsafe=\"content\"></div>\\n</div>\\n')}]),angular.module(\"template/tooltip/tooltip-popup.html\",[]).run([\"$templateCache\",function(a){a.put(\"template/tooltip/tooltip-popup.html\",'<div class=\"tooltip {{placement}}\" ng-class=\"{ in: isOpen(), fade: animation() }\">\\n  <div class=\"tooltip-arrow\"></div>\\n  <div class=\"tooltip-inner\" ng-bind=\"content\"></div>\\n</div>\\n')}]),angular.module(\"template/popover/popover.html\",[]).run([\"$templateCache\",function(a){a.put(\"template/popover/popover.html\",'<div class=\"popover {{placement}}\" ng-class=\"{ in: isOpen(), fade: animation() }\">\\n  <div class=\"arrow\"></div>\\n\\n  <div class=\"popover-inner\">\\n      <h3 class=\"popover-title\" ng-bind=\"title\" ng-show=\"title\"></h3>\\n      <div class=\"popover-content\" ng-bind=\"content\"></div>\\n  </div>\\n</div>\\n')}]),angular.module(\"template/progressbar/bar.html\",[]).run([\"$templateCache\",function(a){a.put(\"template/progressbar/bar.html\",'<div class=\"progress-bar\" ng-class=\"type && \\'progress-bar-\\' + type\" role=\"progressbar\" aria-valuenow=\"{{value}}\" aria-valuemin=\"0\" aria-valuemax=\"{{max}}\" ng-style=\"{width: percent + \\'%\\'}\" aria-valuetext=\"{{percent | number:0}}%\" ng-transclude></div>')}]),angular.module(\"template/progressbar/progress.html\",[]).run([\"$templateCache\",function(a){a.put(\"template/progressbar/progress.html\",'<div class=\"progress\" ng-transclude></div>')}]),angular.module(\"template/progressbar/progressbar.html\",[]).run([\"$templateCache\",function(a){a.put(\"template/progressbar/progressbar.html\",'<div class=\"progress\">\\n  <div class=\"progress-bar\" ng-class=\"type && \\'progress-bar-\\' + type\" role=\"progressbar\" aria-valuenow=\"{{value}}\" aria-valuemin=\"0\" aria-valuemax=\"{{max}}\" ng-style=\"{width: percent + \\'%\\'}\" aria-valuetext=\"{{percent | number:0}}%\" ng-transclude></div>\\n</div>')}]),angular.module(\"template/rating/rating.html\",[]).run([\"$templateCache\",function(a){a.put(\"template/rating/rating.html\",'<span ng-mouseleave=\"reset()\" ng-keydown=\"onKeydown($event)\" tabindex=\"0\" role=\"slider\" aria-valuemin=\"0\" aria-valuemax=\"{{range.length}}\" aria-valuenow=\"{{value}}\">\\n    <i ng-repeat=\"r in range track by $index\" ng-mouseenter=\"enter($index + 1)\" ng-click=\"rate($index + 1)\" class=\"glyphicon\" ng-class=\"$index < value && (r.stateOn || \\'glyphicon-star\\') || (r.stateOff || \\'glyphicon-star-empty\\')\">\\n        <span class=\"sr-only\">({{ $index < value ? \\'*\\' : \\' \\' }})</span>\\n    </i>\\n</span>')}]),angular.module(\"template/tabs/tab.html\",[]).run([\"$templateCache\",function(a){a.put(\"template/tabs/tab.html\",'<li ng-class=\"{active: active, disabled: disabled}\">\\n  <a href ng-click=\"select()\" tab-heading-transclude>{{heading}}</a>\\n</li>\\n')}]),angular.module(\"template/tabs/tabset.html\",[]).run([\"$templateCache\",function(a){a.put(\"template/tabs/tabset.html\",'<div>\\n  <ul class=\"nav nav-{{type || \\'tabs\\'}}\" ng-class=\"{\\'nav-stacked\\': vertical, \\'nav-justified\\': justified}\" ng-transclude></ul>\\n  <div class=\"tab-content\">\\n    <div class=\"tab-pane\" \\n         ng-repeat=\"tab in tabs\" \\n         ng-class=\"{active: tab.active}\"\\n         tab-content-transclude=\"tab\">\\n    </div>\\n  </div>\\n</div>\\n')}]),angular.module(\"template/timepicker/timepicker.html\",[]).run([\"$templateCache\",function(a){a.put(\"template/timepicker/timepicker.html\",'<table>\\n\t<tbody>\\n\t\t<tr class=\"text-center\">\\n\t\t\t<td><a ng-click=\"incrementHours()\" class=\"btn btn-link\"><span class=\"glyphicon glyphicon-chevron-up\"></span></a></td>\\n\t\t\t<td>&nbsp;</td>\\n\t\t\t<td><a ng-click=\"incrementMinutes()\" class=\"btn btn-link\"><span class=\"glyphicon glyphicon-chevron-up\"></span></a></td>\\n\t\t\t<td ng-show=\"showMeridian\"></td>\\n\t\t</tr>\\n\t\t<tr>\\n\t\t\t<td style=\"width:50px;\" class=\"form-group\" ng-class=\"{\\'has-error\\': invalidHours}\">\\n\t\t\t\t<input type=\"text\" ng-model=\"hours\" ng-change=\"updateHours()\" class=\"form-control text-center\" ng-mousewheel=\"incrementHours()\" ng-readonly=\"readonlyInput\" maxlength=\"2\">\\n\t\t\t</td>\\n\t\t\t<td>:</td>\\n\t\t\t<td style=\"width:50px;\" class=\"form-group\" ng-class=\"{\\'has-error\\': invalidMinutes}\">\\n\t\t\t\t<input type=\"text\" ng-model=\"minutes\" ng-change=\"updateMinutes()\" class=\"form-control text-center\" ng-readonly=\"readonlyInput\" maxlength=\"2\">\\n\t\t\t</td>\\n\t\t\t<td ng-show=\"showMeridian\"><button type=\"button\" class=\"btn btn-default text-center\" ng-click=\"toggleMeridian()\">{{meridian}}</button></td>\\n\t\t</tr>\\n\t\t<tr class=\"text-center\">\\n\t\t\t<td><a ng-click=\"decrementHours()\" class=\"btn btn-link\"><span class=\"glyphicon glyphicon-chevron-down\"></span></a></td>\\n\t\t\t<td>&nbsp;</td>\\n\t\t\t<td><a ng-click=\"decrementMinutes()\" class=\"btn btn-link\"><span class=\"glyphicon glyphicon-chevron-down\"></span></a></td>\\n\t\t\t<td ng-show=\"showMeridian\"></td>\\n\t\t</tr>\\n\t</tbody>\\n</table>\\n')}]),angular.module(\"template/typeahead/typeahead-match.html\",[]).run([\"$templateCache\",function(a){a.put(\"template/typeahead/typeahead-match.html\",'<a tabindex=\"-1\" bind-html-unsafe=\"match.label | typeaheadHighlight:query\"></a>')\n}]),angular.module(\"template/typeahead/typeahead-popup.html\",[]).run([\"$templateCache\",function(a){a.put(\"template/typeahead/typeahead-popup.html\",'<ul class=\"dropdown-menu\" ng-show=\"isOpen()\" ng-style=\"{top: position.top+\\'px\\', left: position.left+\\'px\\'}\" style=\"display: block;\" role=\"listbox\" aria-hidden=\"{{!isOpen()}}\">\\n    <li ng-repeat=\"match in matches track by $index\" ng-class=\"{active: isActive($index) }\" ng-mouseenter=\"selectActive($index)\" ng-click=\"selectMatch($index)\" role=\"option\" id=\"{{match.id}}\">\\n        <div typeahead-match index=\"$index\" match=\"match\" query=\"query\" template-url=\"templateUrl\"></div>\\n    </li>\\n</ul>\\n')}]);","/**\n * @license\n * Lo-Dash 2.4.1 (Custom Build) lodash.com/license | Underscore.js 1.5.2 underscorejs.org/LICENSE\n * Build: `lodash modern -o ./dist/lodash.js`\n */\n;(function(){function n(n,t,e){e=(e||0)-1;for(var r=n?n.length:0;++e<r;)if(n[e]===t)return e;return-1}function t(t,e){var r=typeof e;if(t=t.l,\"boolean\"==r||null==e)return t[e]?0:-1;\"number\"!=r&&\"string\"!=r&&(r=\"object\");var u=\"number\"==r?e:m+e;return t=(t=t[r])&&t[u],\"object\"==r?t&&-1<n(t,e)?0:-1:t?0:-1}function e(n){var t=this.l,e=typeof n;if(\"boolean\"==e||null==n)t[n]=true;else{\"number\"!=e&&\"string\"!=e&&(e=\"object\");var r=\"number\"==e?n:m+n,t=t[e]||(t[e]={});\"object\"==e?(t[r]||(t[r]=[])).push(n):t[r]=true\n}}function r(n){return n.charCodeAt(0)}function u(n,t){for(var e=n.m,r=t.m,u=-1,o=e.length;++u<o;){var i=e[u],a=r[u];if(i!==a){if(i>a||typeof i==\"undefined\")return 1;if(i<a||typeof a==\"undefined\")return-1}}return n.n-t.n}function o(n){var t=-1,r=n.length,u=n[0],o=n[r/2|0],i=n[r-1];if(u&&typeof u==\"object\"&&o&&typeof o==\"object\"&&i&&typeof i==\"object\")return false;for(u=f(),u[\"false\"]=u[\"null\"]=u[\"true\"]=u.undefined=false,o=f(),o.k=n,o.l=u,o.push=e;++t<r;)o.push(n[t]);return o}function i(n){return\"\\\\\"+U[n]\n}function a(){return h.pop()||[]}function f(){return g.pop()||{k:null,l:null,m:null,\"false\":false,n:0,\"null\":false,number:null,object:null,push:null,string:null,\"true\":false,undefined:false,o:null}}function l(n){n.length=0,h.length<_&&h.push(n)}function c(n){var t=n.l;t&&c(t),n.k=n.l=n.m=n.object=n.number=n.string=n.o=null,g.length<_&&g.push(n)}function p(n,t,e){t||(t=0),typeof e==\"undefined\"&&(e=n?n.length:0);var r=-1;e=e-t||0;for(var u=Array(0>e?0:e);++r<e;)u[r]=n[t+r];return u}function s(e){function h(n,t,e){if(!n||!V[typeof n])return n;\nt=t&&typeof e==\"undefined\"?t:tt(t,e,3);for(var r=-1,u=V[typeof n]&&Fe(n),o=u?u.length:0;++r<o&&(e=u[r],false!==t(n[e],e,n)););return n}function g(n,t,e){var r;if(!n||!V[typeof n])return n;t=t&&typeof e==\"undefined\"?t:tt(t,e,3);for(r in n)if(false===t(n[r],r,n))break;return n}function _(n,t,e){var r,u=n,o=u;if(!u)return o;for(var i=arguments,a=0,f=typeof e==\"number\"?2:i.length;++a<f;)if((u=i[a])&&V[typeof u])for(var l=-1,c=V[typeof u]&&Fe(u),p=c?c.length:0;++l<p;)r=c[l],\"undefined\"==typeof o[r]&&(o[r]=u[r]);\nreturn o}function U(n,t,e){var r,u=n,o=u;if(!u)return o;var i=arguments,a=0,f=typeof e==\"number\"?2:i.length;if(3<f&&\"function\"==typeof i[f-2])var l=tt(i[--f-1],i[f--],2);else 2<f&&\"function\"==typeof i[f-1]&&(l=i[--f]);for(;++a<f;)if((u=i[a])&&V[typeof u])for(var c=-1,p=V[typeof u]&&Fe(u),s=p?p.length:0;++c<s;)r=p[c],o[r]=l?l(o[r],u[r]):u[r];return o}function H(n){var t,e=[];if(!n||!V[typeof n])return e;for(t in n)me.call(n,t)&&e.push(t);return e}function J(n){return n&&typeof n==\"object\"&&!Te(n)&&me.call(n,\"__wrapped__\")?n:new Q(n)\n}function Q(n,t){this.__chain__=!!t,this.__wrapped__=n}function X(n){function t(){if(r){var n=p(r);be.apply(n,arguments)}if(this instanceof t){var o=nt(e.prototype),n=e.apply(o,n||arguments);return wt(n)?n:o}return e.apply(u,n||arguments)}var e=n[0],r=n[2],u=n[4];return $e(t,n),t}function Z(n,t,e,r,u){if(e){var o=e(n);if(typeof o!=\"undefined\")return o}if(!wt(n))return n;var i=ce.call(n);if(!K[i])return n;var f=Ae[i];switch(i){case T:case F:return new f(+n);case W:case P:return new f(n);case z:return o=f(n.source,C.exec(n)),o.lastIndex=n.lastIndex,o\n}if(i=Te(n),t){var c=!r;r||(r=a()),u||(u=a());for(var s=r.length;s--;)if(r[s]==n)return u[s];o=i?f(n.length):{}}else o=i?p(n):U({},n);return i&&(me.call(n,\"index\")&&(o.index=n.index),me.call(n,\"input\")&&(o.input=n.input)),t?(r.push(n),u.push(o),(i?St:h)(n,function(n,i){o[i]=Z(n,t,e,r,u)}),c&&(l(r),l(u)),o):o}function nt(n){return wt(n)?ke(n):{}}function tt(n,t,e){if(typeof n!=\"function\")return Ut;if(typeof t==\"undefined\"||!(\"prototype\"in n))return n;var r=n.__bindData__;if(typeof r==\"undefined\"&&(De.funcNames&&(r=!n.name),r=r||!De.funcDecomp,!r)){var u=ge.call(n);\nDe.funcNames||(r=!O.test(u)),r||(r=E.test(u),$e(n,r))}if(false===r||true!==r&&1&r[1])return n;switch(e){case 1:return function(e){return n.call(t,e)};case 2:return function(e,r){return n.call(t,e,r)};case 3:return function(e,r,u){return n.call(t,e,r,u)};case 4:return function(e,r,u,o){return n.call(t,e,r,u,o)}}return Mt(n,t)}function et(n){function t(){var n=f?i:this;if(u){var h=p(u);be.apply(h,arguments)}return(o||c)&&(h||(h=p(arguments)),o&&be.apply(h,o),c&&h.length<a)?(r|=16,et([e,s?r:-4&r,h,null,i,a])):(h||(h=arguments),l&&(e=n[v]),this instanceof t?(n=nt(e.prototype),h=e.apply(n,h),wt(h)?h:n):e.apply(n,h))\n}var e=n[0],r=n[1],u=n[2],o=n[3],i=n[4],a=n[5],f=1&r,l=2&r,c=4&r,s=8&r,v=e;return $e(t,n),t}function rt(e,r){var u=-1,i=st(),a=e?e.length:0,f=a>=b&&i===n,l=[];if(f){var p=o(r);p?(i=t,r=p):f=false}for(;++u<a;)p=e[u],0>i(r,p)&&l.push(p);return f&&c(r),l}function ut(n,t,e,r){r=(r||0)-1;for(var u=n?n.length:0,o=[];++r<u;){var i=n[r];if(i&&typeof i==\"object\"&&typeof i.length==\"number\"&&(Te(i)||yt(i))){t||(i=ut(i,t,e));var a=-1,f=i.length,l=o.length;for(o.length+=f;++a<f;)o[l++]=i[a]}else e||o.push(i)}return o\n}function ot(n,t,e,r,u,o){if(e){var i=e(n,t);if(typeof i!=\"undefined\")return!!i}if(n===t)return 0!==n||1/n==1/t;if(n===n&&!(n&&V[typeof n]||t&&V[typeof t]))return false;if(null==n||null==t)return n===t;var f=ce.call(n),c=ce.call(t);if(f==D&&(f=q),c==D&&(c=q),f!=c)return false;switch(f){case T:case F:return+n==+t;case W:return n!=+n?t!=+t:0==n?1/n==1/t:n==+t;case z:case P:return n==oe(t)}if(c=f==$,!c){var p=me.call(n,\"__wrapped__\"),s=me.call(t,\"__wrapped__\");if(p||s)return ot(p?n.__wrapped__:n,s?t.__wrapped__:t,e,r,u,o);\nif(f!=q)return false;if(f=n.constructor,p=t.constructor,f!=p&&!(dt(f)&&f instanceof f&&dt(p)&&p instanceof p)&&\"constructor\"in n&&\"constructor\"in t)return false}for(f=!u,u||(u=a()),o||(o=a()),p=u.length;p--;)if(u[p]==n)return o[p]==t;var v=0,i=true;if(u.push(n),o.push(t),c){if(p=n.length,v=t.length,(i=v==p)||r)for(;v--;)if(c=p,s=t[v],r)for(;c--&&!(i=ot(n[c],s,e,r,u,o)););else if(!(i=ot(n[v],s,e,r,u,o)))break}else g(t,function(t,a,f){return me.call(f,a)?(v++,i=me.call(n,a)&&ot(n[a],t,e,r,u,o)):void 0}),i&&!r&&g(n,function(n,t,e){return me.call(e,t)?i=-1<--v:void 0\n});return u.pop(),o.pop(),f&&(l(u),l(o)),i}function it(n,t,e,r,u){(Te(t)?St:h)(t,function(t,o){var i,a,f=t,l=n[o];if(t&&((a=Te(t))||Pe(t))){for(f=r.length;f--;)if(i=r[f]==t){l=u[f];break}if(!i){var c;e&&(f=e(l,t),c=typeof f!=\"undefined\")&&(l=f),c||(l=a?Te(l)?l:[]:Pe(l)?l:{}),r.push(t),u.push(l),c||it(l,t,e,r,u)}}else e&&(f=e(l,t),typeof f==\"undefined\"&&(f=t)),typeof f!=\"undefined\"&&(l=f);n[o]=l})}function at(n,t){return n+he(Re()*(t-n+1))}function ft(e,r,u){var i=-1,f=st(),p=e?e.length:0,s=[],v=!r&&p>=b&&f===n,h=u||v?a():s;\nfor(v&&(h=o(h),f=t);++i<p;){var g=e[i],y=u?u(g,i,e):g;(r?!i||h[h.length-1]!==y:0>f(h,y))&&((u||v)&&h.push(y),s.push(g))}return v?(l(h.k),c(h)):u&&l(h),s}function lt(n){return function(t,e,r){var u={};e=J.createCallback(e,r,3),r=-1;var o=t?t.length:0;if(typeof o==\"number\")for(;++r<o;){var i=t[r];n(u,i,e(i,r,t),t)}else h(t,function(t,r,o){n(u,t,e(t,r,o),o)});return u}}function ct(n,t,e,r,u,o){var i=1&t,a=4&t,f=16&t,l=32&t;if(!(2&t||dt(n)))throw new ie;f&&!e.length&&(t&=-17,f=e=false),l&&!r.length&&(t&=-33,l=r=false);\nvar c=n&&n.__bindData__;return c&&true!==c?(c=p(c),c[2]&&(c[2]=p(c[2])),c[3]&&(c[3]=p(c[3])),!i||1&c[1]||(c[4]=u),!i&&1&c[1]&&(t|=8),!a||4&c[1]||(c[5]=o),f&&be.apply(c[2]||(c[2]=[]),e),l&&we.apply(c[3]||(c[3]=[]),r),c[1]|=t,ct.apply(null,c)):(1==t||17===t?X:et)([n,t,e,r,u,o])}function pt(n){return Be[n]}function st(){var t=(t=J.indexOf)===Wt?n:t;return t}function vt(n){return typeof n==\"function\"&&pe.test(n)}function ht(n){var t,e;return n&&ce.call(n)==q&&(t=n.constructor,!dt(t)||t instanceof t)?(g(n,function(n,t){e=t\n}),typeof e==\"undefined\"||me.call(n,e)):false}function gt(n){return We[n]}function yt(n){return n&&typeof n==\"object\"&&typeof n.length==\"number\"&&ce.call(n)==D||false}function mt(n,t,e){var r=Fe(n),u=r.length;for(t=tt(t,e,3);u--&&(e=r[u],false!==t(n[e],e,n)););return n}function bt(n){var t=[];return g(n,function(n,e){dt(n)&&t.push(e)}),t.sort()}function _t(n){for(var t=-1,e=Fe(n),r=e.length,u={};++t<r;){var o=e[t];u[n[o]]=o}return u}function dt(n){return typeof n==\"function\"}function wt(n){return!(!n||!V[typeof n])\n}function jt(n){return typeof n==\"number\"||n&&typeof n==\"object\"&&ce.call(n)==W||false}function kt(n){return typeof n==\"string\"||n&&typeof n==\"object\"&&ce.call(n)==P||false}function xt(n){for(var t=-1,e=Fe(n),r=e.length,u=Xt(r);++t<r;)u[t]=n[e[t]];return u}function Ct(n,t,e){var r=-1,u=st(),o=n?n.length:0,i=false;return e=(0>e?Ie(0,o+e):e)||0,Te(n)?i=-1<u(n,t,e):typeof o==\"number\"?i=-1<(kt(n)?n.indexOf(t,e):u(n,t,e)):h(n,function(n){return++r<e?void 0:!(i=n===t)}),i}function Ot(n,t,e){var r=true;t=J.createCallback(t,e,3),e=-1;\nvar u=n?n.length:0;if(typeof u==\"number\")for(;++e<u&&(r=!!t(n[e],e,n)););else h(n,function(n,e,u){return r=!!t(n,e,u)});return r}function Nt(n,t,e){var r=[];t=J.createCallback(t,e,3),e=-1;var u=n?n.length:0;if(typeof u==\"number\")for(;++e<u;){var o=n[e];t(o,e,n)&&r.push(o)}else h(n,function(n,e,u){t(n,e,u)&&r.push(n)});return r}function It(n,t,e){t=J.createCallback(t,e,3),e=-1;var r=n?n.length:0;if(typeof r!=\"number\"){var u;return h(n,function(n,e,r){return t(n,e,r)?(u=n,false):void 0}),u}for(;++e<r;){var o=n[e];\nif(t(o,e,n))return o}}function St(n,t,e){var r=-1,u=n?n.length:0;if(t=t&&typeof e==\"undefined\"?t:tt(t,e,3),typeof u==\"number\")for(;++r<u&&false!==t(n[r],r,n););else h(n,t);return n}function Et(n,t,e){var r=n?n.length:0;if(t=t&&typeof e==\"undefined\"?t:tt(t,e,3),typeof r==\"number\")for(;r--&&false!==t(n[r],r,n););else{var u=Fe(n),r=u.length;h(n,function(n,e,o){return e=u?u[--r]:--r,t(o[e],e,o)})}return n}function Rt(n,t,e){var r=-1,u=n?n.length:0;if(t=J.createCallback(t,e,3),typeof u==\"number\")for(var o=Xt(u);++r<u;)o[r]=t(n[r],r,n);\nelse o=[],h(n,function(n,e,u){o[++r]=t(n,e,u)});return o}function At(n,t,e){var u=-1/0,o=u;if(typeof t!=\"function\"&&e&&e[t]===n&&(t=null),null==t&&Te(n)){e=-1;for(var i=n.length;++e<i;){var a=n[e];a>o&&(o=a)}}else t=null==t&&kt(n)?r:J.createCallback(t,e,3),St(n,function(n,e,r){e=t(n,e,r),e>u&&(u=e,o=n)});return o}function Dt(n,t,e,r){if(!n)return e;var u=3>arguments.length;t=J.createCallback(t,r,4);var o=-1,i=n.length;if(typeof i==\"number\")for(u&&(e=n[++o]);++o<i;)e=t(e,n[o],o,n);else h(n,function(n,r,o){e=u?(u=false,n):t(e,n,r,o)\n});return e}function $t(n,t,e,r){var u=3>arguments.length;return t=J.createCallback(t,r,4),Et(n,function(n,r,o){e=u?(u=false,n):t(e,n,r,o)}),e}function Tt(n){var t=-1,e=n?n.length:0,r=Xt(typeof e==\"number\"?e:0);return St(n,function(n){var e=at(0,++t);r[t]=r[e],r[e]=n}),r}function Ft(n,t,e){var r;t=J.createCallback(t,e,3),e=-1;var u=n?n.length:0;if(typeof u==\"number\")for(;++e<u&&!(r=t(n[e],e,n)););else h(n,function(n,e,u){return!(r=t(n,e,u))});return!!r}function Bt(n,t,e){var r=0,u=n?n.length:0;if(typeof t!=\"number\"&&null!=t){var o=-1;\nfor(t=J.createCallback(t,e,3);++o<u&&t(n[o],o,n);)r++}else if(r=t,null==r||e)return n?n[0]:v;return p(n,0,Se(Ie(0,r),u))}function Wt(t,e,r){if(typeof r==\"number\"){var u=t?t.length:0;r=0>r?Ie(0,u+r):r||0}else if(r)return r=zt(t,e),t[r]===e?r:-1;return n(t,e,r)}function qt(n,t,e){if(typeof t!=\"number\"&&null!=t){var r=0,u=-1,o=n?n.length:0;for(t=J.createCallback(t,e,3);++u<o&&t(n[u],u,n);)r++}else r=null==t||e?1:Ie(0,t);return p(n,r)}function zt(n,t,e,r){var u=0,o=n?n.length:u;for(e=e?J.createCallback(e,r,1):Ut,t=e(t);u<o;)r=u+o>>>1,e(n[r])<t?u=r+1:o=r;\nreturn u}function Pt(n,t,e,r){return typeof t!=\"boolean\"&&null!=t&&(r=e,e=typeof t!=\"function\"&&r&&r[t]===n?null:t,t=false),null!=e&&(e=J.createCallback(e,r,3)),ft(n,t,e)}function Kt(){for(var n=1<arguments.length?arguments:arguments[0],t=-1,e=n?At(Ve(n,\"length\")):0,r=Xt(0>e?0:e);++t<e;)r[t]=Ve(n,t);return r}function Lt(n,t){var e=-1,r=n?n.length:0,u={};for(t||!r||Te(n[0])||(t=[]);++e<r;){var o=n[e];t?u[o]=t[e]:o&&(u[o[0]]=o[1])}return u}function Mt(n,t){return 2<arguments.length?ct(n,17,p(arguments,2),null,t):ct(n,1,null,null,t)\n}function Vt(n,t,e){function r(){c&&ve(c),i=c=p=v,(g||h!==t)&&(s=Ue(),a=n.apply(l,o),c||i||(o=l=null))}function u(){var e=t-(Ue()-f);0<e?c=_e(u,e):(i&&ve(i),e=p,i=c=p=v,e&&(s=Ue(),a=n.apply(l,o),c||i||(o=l=null)))}var o,i,a,f,l,c,p,s=0,h=false,g=true;if(!dt(n))throw new ie;if(t=Ie(0,t)||0,true===e)var y=true,g=false;else wt(e)&&(y=e.leading,h=\"maxWait\"in e&&(Ie(t,e.maxWait)||0),g=\"trailing\"in e?e.trailing:g);return function(){if(o=arguments,f=Ue(),l=this,p=g&&(c||!y),false===h)var e=y&&!c;else{i||y||(s=f);var v=h-(f-s),m=0>=v;\nm?(i&&(i=ve(i)),s=f,a=n.apply(l,o)):i||(i=_e(r,v))}return m&&c?c=ve(c):c||t===h||(c=_e(u,t)),e&&(m=true,a=n.apply(l,o)),!m||c||i||(o=l=null),a}}function Ut(n){return n}function Gt(n,t,e){var r=true,u=t&&bt(t);t&&(e||u.length)||(null==e&&(e=t),o=Q,t=n,n=J,u=bt(t)),false===e?r=false:wt(e)&&\"chain\"in e&&(r=e.chain);var o=n,i=dt(o);St(u,function(e){var u=n[e]=t[e];i&&(o.prototype[e]=function(){var t=this.__chain__,e=this.__wrapped__,i=[e];if(be.apply(i,arguments),i=u.apply(n,i),r||t){if(e===i&&wt(i))return this;\ni=new o(i),i.__chain__=t}return i})})}function Ht(){}function Jt(n){return function(t){return t[n]}}function Qt(){return this.__wrapped__}e=e?Y.defaults(G.Object(),e,Y.pick(G,A)):G;var Xt=e.Array,Yt=e.Boolean,Zt=e.Date,ne=e.Function,te=e.Math,ee=e.Number,re=e.Object,ue=e.RegExp,oe=e.String,ie=e.TypeError,ae=[],fe=re.prototype,le=e._,ce=fe.toString,pe=ue(\"^\"+oe(ce).replace(/[.*+?^${}()|[\\]\\\\]/g,\"\\\\$&\").replace(/toString| for [^\\]]+/g,\".*?\")+\"$\"),se=te.ceil,ve=e.clearTimeout,he=te.floor,ge=ne.prototype.toString,ye=vt(ye=re.getPrototypeOf)&&ye,me=fe.hasOwnProperty,be=ae.push,_e=e.setTimeout,de=ae.splice,we=ae.unshift,je=function(){try{var n={},t=vt(t=re.defineProperty)&&t,e=t(n,n,n)&&t\n}catch(r){}return e}(),ke=vt(ke=re.create)&&ke,xe=vt(xe=Xt.isArray)&&xe,Ce=e.isFinite,Oe=e.isNaN,Ne=vt(Ne=re.keys)&&Ne,Ie=te.max,Se=te.min,Ee=e.parseInt,Re=te.random,Ae={};Ae[$]=Xt,Ae[T]=Yt,Ae[F]=Zt,Ae[B]=ne,Ae[q]=re,Ae[W]=ee,Ae[z]=ue,Ae[P]=oe,Q.prototype=J.prototype;var De=J.support={};De.funcDecomp=!vt(e.a)&&E.test(s),De.funcNames=typeof ne.name==\"string\",J.templateSettings={escape:/<%-([\\s\\S]+?)%>/g,evaluate:/<%([\\s\\S]+?)%>/g,interpolate:N,variable:\"\",imports:{_:J}},ke||(nt=function(){function n(){}return function(t){if(wt(t)){n.prototype=t;\nvar r=new n;n.prototype=null}return r||e.Object()}}());var $e=je?function(n,t){M.value=t,je(n,\"__bindData__\",M)}:Ht,Te=xe||function(n){return n&&typeof n==\"object\"&&typeof n.length==\"number\"&&ce.call(n)==$||false},Fe=Ne?function(n){return wt(n)?Ne(n):[]}:H,Be={\"&\":\"&amp;\",\"<\":\"&lt;\",\">\":\"&gt;\",'\"':\"&quot;\",\"'\":\"&#39;\"},We=_t(Be),qe=ue(\"(\"+Fe(We).join(\"|\")+\")\",\"g\"),ze=ue(\"[\"+Fe(Be).join(\"\")+\"]\",\"g\"),Pe=ye?function(n){if(!n||ce.call(n)!=q)return false;var t=n.valueOf,e=vt(t)&&(e=ye(t))&&ye(e);return e?n==e||ye(n)==e:ht(n)\n}:ht,Ke=lt(function(n,t,e){me.call(n,e)?n[e]++:n[e]=1}),Le=lt(function(n,t,e){(me.call(n,e)?n[e]:n[e]=[]).push(t)}),Me=lt(function(n,t,e){n[e]=t}),Ve=Rt,Ue=vt(Ue=Zt.now)&&Ue||function(){return(new Zt).getTime()},Ge=8==Ee(d+\"08\")?Ee:function(n,t){return Ee(kt(n)?n.replace(I,\"\"):n,t||0)};return J.after=function(n,t){if(!dt(t))throw new ie;return function(){return 1>--n?t.apply(this,arguments):void 0}},J.assign=U,J.at=function(n){for(var t=arguments,e=-1,r=ut(t,true,false,1),t=t[2]&&t[2][t[1]]===n?1:r.length,u=Xt(t);++e<t;)u[e]=n[r[e]];\nreturn u},J.bind=Mt,J.bindAll=function(n){for(var t=1<arguments.length?ut(arguments,true,false,1):bt(n),e=-1,r=t.length;++e<r;){var u=t[e];n[u]=ct(n[u],1,null,null,n)}return n},J.bindKey=function(n,t){return 2<arguments.length?ct(t,19,p(arguments,2),null,n):ct(t,3,null,null,n)},J.chain=function(n){return n=new Q(n),n.__chain__=true,n},J.compact=function(n){for(var t=-1,e=n?n.length:0,r=[];++t<e;){var u=n[t];u&&r.push(u)}return r},J.compose=function(){for(var n=arguments,t=n.length;t--;)if(!dt(n[t]))throw new ie;\nreturn function(){for(var t=arguments,e=n.length;e--;)t=[n[e].apply(this,t)];return t[0]}},J.constant=function(n){return function(){return n}},J.countBy=Ke,J.create=function(n,t){var e=nt(n);return t?U(e,t):e},J.createCallback=function(n,t,e){var r=typeof n;if(null==n||\"function\"==r)return tt(n,t,e);if(\"object\"!=r)return Jt(n);var u=Fe(n),o=u[0],i=n[o];return 1!=u.length||i!==i||wt(i)?function(t){for(var e=u.length,r=false;e--&&(r=ot(t[u[e]],n[u[e]],null,true)););return r}:function(n){return n=n[o],i===n&&(0!==i||1/i==1/n)\n}},J.curry=function(n,t){return t=typeof t==\"number\"?t:+t||n.length,ct(n,4,null,null,null,t)},J.debounce=Vt,J.defaults=_,J.defer=function(n){if(!dt(n))throw new ie;var t=p(arguments,1);return _e(function(){n.apply(v,t)},1)},J.delay=function(n,t){if(!dt(n))throw new ie;var e=p(arguments,2);return _e(function(){n.apply(v,e)},t)},J.difference=function(n){return rt(n,ut(arguments,true,true,1))},J.filter=Nt,J.flatten=function(n,t,e,r){return typeof t!=\"boolean\"&&null!=t&&(r=e,e=typeof t!=\"function\"&&r&&r[t]===n?null:t,t=false),null!=e&&(n=Rt(n,e,r)),ut(n,t)\n},J.forEach=St,J.forEachRight=Et,J.forIn=g,J.forInRight=function(n,t,e){var r=[];g(n,function(n,t){r.push(t,n)});var u=r.length;for(t=tt(t,e,3);u--&&false!==t(r[u--],r[u],n););return n},J.forOwn=h,J.forOwnRight=mt,J.functions=bt,J.groupBy=Le,J.indexBy=Me,J.initial=function(n,t,e){var r=0,u=n?n.length:0;if(typeof t!=\"number\"&&null!=t){var o=u;for(t=J.createCallback(t,e,3);o--&&t(n[o],o,n);)r++}else r=null==t||e?1:t||r;return p(n,0,Se(Ie(0,u-r),u))},J.intersection=function(){for(var e=[],r=-1,u=arguments.length,i=a(),f=st(),p=f===n,s=a();++r<u;){var v=arguments[r];\n(Te(v)||yt(v))&&(e.push(v),i.push(p&&v.length>=b&&o(r?e[r]:s)))}var p=e[0],h=-1,g=p?p.length:0,y=[];n:for(;++h<g;){var m=i[0],v=p[h];if(0>(m?t(m,v):f(s,v))){for(r=u,(m||s).push(v);--r;)if(m=i[r],0>(m?t(m,v):f(e[r],v)))continue n;y.push(v)}}for(;u--;)(m=i[u])&&c(m);return l(i),l(s),y},J.invert=_t,J.invoke=function(n,t){var e=p(arguments,2),r=-1,u=typeof t==\"function\",o=n?n.length:0,i=Xt(typeof o==\"number\"?o:0);return St(n,function(n){i[++r]=(u?t:n[t]).apply(n,e)}),i},J.keys=Fe,J.map=Rt,J.mapValues=function(n,t,e){var r={};\nreturn t=J.createCallback(t,e,3),h(n,function(n,e,u){r[e]=t(n,e,u)}),r},J.max=At,J.memoize=function(n,t){function e(){var r=e.cache,u=t?t.apply(this,arguments):m+arguments[0];return me.call(r,u)?r[u]:r[u]=n.apply(this,arguments)}if(!dt(n))throw new ie;return e.cache={},e},J.merge=function(n){var t=arguments,e=2;if(!wt(n))return n;if(\"number\"!=typeof t[2]&&(e=t.length),3<e&&\"function\"==typeof t[e-2])var r=tt(t[--e-1],t[e--],2);else 2<e&&\"function\"==typeof t[e-1]&&(r=t[--e]);for(var t=p(arguments,1,e),u=-1,o=a(),i=a();++u<e;)it(n,t[u],r,o,i);\nreturn l(o),l(i),n},J.min=function(n,t,e){var u=1/0,o=u;if(typeof t!=\"function\"&&e&&e[t]===n&&(t=null),null==t&&Te(n)){e=-1;for(var i=n.length;++e<i;){var a=n[e];a<o&&(o=a)}}else t=null==t&&kt(n)?r:J.createCallback(t,e,3),St(n,function(n,e,r){e=t(n,e,r),e<u&&(u=e,o=n)});return o},J.omit=function(n,t,e){var r={};if(typeof t!=\"function\"){var u=[];g(n,function(n,t){u.push(t)});for(var u=rt(u,ut(arguments,true,false,1)),o=-1,i=u.length;++o<i;){var a=u[o];r[a]=n[a]}}else t=J.createCallback(t,e,3),g(n,function(n,e,u){t(n,e,u)||(r[e]=n)\n});return r},J.once=function(n){var t,e;if(!dt(n))throw new ie;return function(){return t?e:(t=true,e=n.apply(this,arguments),n=null,e)}},J.pairs=function(n){for(var t=-1,e=Fe(n),r=e.length,u=Xt(r);++t<r;){var o=e[t];u[t]=[o,n[o]]}return u},J.partial=function(n){return ct(n,16,p(arguments,1))},J.partialRight=function(n){return ct(n,32,null,p(arguments,1))},J.pick=function(n,t,e){var r={};if(typeof t!=\"function\")for(var u=-1,o=ut(arguments,true,false,1),i=wt(n)?o.length:0;++u<i;){var a=o[u];a in n&&(r[a]=n[a])\n}else t=J.createCallback(t,e,3),g(n,function(n,e,u){t(n,e,u)&&(r[e]=n)});return r},J.pluck=Ve,J.property=Jt,J.pull=function(n){for(var t=arguments,e=0,r=t.length,u=n?n.length:0;++e<r;)for(var o=-1,i=t[e];++o<u;)n[o]===i&&(de.call(n,o--,1),u--);return n},J.range=function(n,t,e){n=+n||0,e=typeof e==\"number\"?e:+e||1,null==t&&(t=n,n=0);var r=-1;t=Ie(0,se((t-n)/(e||1)));for(var u=Xt(t);++r<t;)u[r]=n,n+=e;return u},J.reject=function(n,t,e){return t=J.createCallback(t,e,3),Nt(n,function(n,e,r){return!t(n,e,r)\n})},J.remove=function(n,t,e){var r=-1,u=n?n.length:0,o=[];for(t=J.createCallback(t,e,3);++r<u;)e=n[r],t(e,r,n)&&(o.push(e),de.call(n,r--,1),u--);return o},J.rest=qt,J.shuffle=Tt,J.sortBy=function(n,t,e){var r=-1,o=Te(t),i=n?n.length:0,p=Xt(typeof i==\"number\"?i:0);for(o||(t=J.createCallback(t,e,3)),St(n,function(n,e,u){var i=p[++r]=f();o?i.m=Rt(t,function(t){return n[t]}):(i.m=a())[0]=t(n,e,u),i.n=r,i.o=n}),i=p.length,p.sort(u);i--;)n=p[i],p[i]=n.o,o||l(n.m),c(n);return p},J.tap=function(n,t){return t(n),n\n},J.throttle=function(n,t,e){var r=true,u=true;if(!dt(n))throw new ie;return false===e?r=false:wt(e)&&(r=\"leading\"in e?e.leading:r,u=\"trailing\"in e?e.trailing:u),L.leading=r,L.maxWait=t,L.trailing=u,Vt(n,t,L)},J.times=function(n,t,e){n=-1<(n=+n)?n:0;var r=-1,u=Xt(n);for(t=tt(t,e,1);++r<n;)u[r]=t(r);return u},J.toArray=function(n){return n&&typeof n.length==\"number\"?p(n):xt(n)},J.transform=function(n,t,e,r){var u=Te(n);if(null==e)if(u)e=[];else{var o=n&&n.constructor;e=nt(o&&o.prototype)}return t&&(t=J.createCallback(t,r,4),(u?St:h)(n,function(n,r,u){return t(e,n,r,u)\n})),e},J.union=function(){return ft(ut(arguments,true,true))},J.uniq=Pt,J.values=xt,J.where=Nt,J.without=function(n){return rt(n,p(arguments,1))},J.wrap=function(n,t){return ct(t,16,[n])},J.xor=function(){for(var n=-1,t=arguments.length;++n<t;){var e=arguments[n];if(Te(e)||yt(e))var r=r?ft(rt(r,e).concat(rt(e,r))):e}return r||[]},J.zip=Kt,J.zipObject=Lt,J.collect=Rt,J.drop=qt,J.each=St,J.eachRight=Et,J.extend=U,J.methods=bt,J.object=Lt,J.select=Nt,J.tail=qt,J.unique=Pt,J.unzip=Kt,Gt(J),J.clone=function(n,t,e,r){return typeof t!=\"boolean\"&&null!=t&&(r=e,e=t,t=false),Z(n,t,typeof e==\"function\"&&tt(e,r,1))\n},J.cloneDeep=function(n,t,e){return Z(n,true,typeof t==\"function\"&&tt(t,e,1))},J.contains=Ct,J.escape=function(n){return null==n?\"\":oe(n).replace(ze,pt)},J.every=Ot,J.find=It,J.findIndex=function(n,t,e){var r=-1,u=n?n.length:0;for(t=J.createCallback(t,e,3);++r<u;)if(t(n[r],r,n))return r;return-1},J.findKey=function(n,t,e){var r;return t=J.createCallback(t,e,3),h(n,function(n,e,u){return t(n,e,u)?(r=e,false):void 0}),r},J.findLast=function(n,t,e){var r;return t=J.createCallback(t,e,3),Et(n,function(n,e,u){return t(n,e,u)?(r=n,false):void 0\n}),r},J.findLastIndex=function(n,t,e){var r=n?n.length:0;for(t=J.createCallback(t,e,3);r--;)if(t(n[r],r,n))return r;return-1},J.findLastKey=function(n,t,e){var r;return t=J.createCallback(t,e,3),mt(n,function(n,e,u){return t(n,e,u)?(r=e,false):void 0}),r},J.has=function(n,t){return n?me.call(n,t):false},J.identity=Ut,J.indexOf=Wt,J.isArguments=yt,J.isArray=Te,J.isBoolean=function(n){return true===n||false===n||n&&typeof n==\"object\"&&ce.call(n)==T||false},J.isDate=function(n){return n&&typeof n==\"object\"&&ce.call(n)==F||false\n},J.isElement=function(n){return n&&1===n.nodeType||false},J.isEmpty=function(n){var t=true;if(!n)return t;var e=ce.call(n),r=n.length;return e==$||e==P||e==D||e==q&&typeof r==\"number\"&&dt(n.splice)?!r:(h(n,function(){return t=false}),t)},J.isEqual=function(n,t,e,r){return ot(n,t,typeof e==\"function\"&&tt(e,r,2))},J.isFinite=function(n){return Ce(n)&&!Oe(parseFloat(n))},J.isFunction=dt,J.isNaN=function(n){return jt(n)&&n!=+n},J.isNull=function(n){return null===n},J.isNumber=jt,J.isObject=wt,J.isPlainObject=Pe,J.isRegExp=function(n){return n&&typeof n==\"object\"&&ce.call(n)==z||false\n},J.isString=kt,J.isUndefined=function(n){return typeof n==\"undefined\"},J.lastIndexOf=function(n,t,e){var r=n?n.length:0;for(typeof e==\"number\"&&(r=(0>e?Ie(0,r+e):Se(e,r-1))+1);r--;)if(n[r]===t)return r;return-1},J.mixin=Gt,J.noConflict=function(){return e._=le,this},J.noop=Ht,J.now=Ue,J.parseInt=Ge,J.random=function(n,t,e){var r=null==n,u=null==t;return null==e&&(typeof n==\"boolean\"&&u?(e=n,n=1):u||typeof t!=\"boolean\"||(e=t,u=true)),r&&u&&(t=1),n=+n||0,u?(t=n,n=0):t=+t||0,e||n%1||t%1?(e=Re(),Se(n+e*(t-n+parseFloat(\"1e-\"+((e+\"\").length-1))),t)):at(n,t)\n},J.reduce=Dt,J.reduceRight=$t,J.result=function(n,t){if(n){var e=n[t];return dt(e)?n[t]():e}},J.runInContext=s,J.size=function(n){var t=n?n.length:0;return typeof t==\"number\"?t:Fe(n).length},J.some=Ft,J.sortedIndex=zt,J.template=function(n,t,e){var r=J.templateSettings;n=oe(n||\"\"),e=_({},e,r);var u,o=_({},e.imports,r.imports),r=Fe(o),o=xt(o),a=0,f=e.interpolate||S,l=\"__p+='\",f=ue((e.escape||S).source+\"|\"+f.source+\"|\"+(f===N?x:S).source+\"|\"+(e.evaluate||S).source+\"|$\",\"g\");n.replace(f,function(t,e,r,o,f,c){return r||(r=o),l+=n.slice(a,c).replace(R,i),e&&(l+=\"'+__e(\"+e+\")+'\"),f&&(u=true,l+=\"';\"+f+\";\\n__p+='\"),r&&(l+=\"'+((__t=(\"+r+\"))==null?'':__t)+'\"),a=c+t.length,t\n}),l+=\"';\",f=e=e.variable,f||(e=\"obj\",l=\"with(\"+e+\"){\"+l+\"}\"),l=(u?l.replace(w,\"\"):l).replace(j,\"$1\").replace(k,\"$1;\"),l=\"function(\"+e+\"){\"+(f?\"\":e+\"||(\"+e+\"={});\")+\"var __t,__p='',__e=_.escape\"+(u?\",__j=Array.prototype.join;function print(){__p+=__j.call(arguments,'')}\":\";\")+l+\"return __p}\";try{var c=ne(r,\"return \"+l).apply(v,o)}catch(p){throw p.source=l,p}return t?c(t):(c.source=l,c)},J.unescape=function(n){return null==n?\"\":oe(n).replace(qe,gt)},J.uniqueId=function(n){var t=++y;return oe(null==n?\"\":n)+t\n},J.all=Ot,J.any=Ft,J.detect=It,J.findWhere=It,J.foldl=Dt,J.foldr=$t,J.include=Ct,J.inject=Dt,Gt(function(){var n={};return h(J,function(t,e){J.prototype[e]||(n[e]=t)}),n}(),false),J.first=Bt,J.last=function(n,t,e){var r=0,u=n?n.length:0;if(typeof t!=\"number\"&&null!=t){var o=u;for(t=J.createCallback(t,e,3);o--&&t(n[o],o,n);)r++}else if(r=t,null==r||e)return n?n[u-1]:v;return p(n,Ie(0,u-r))},J.sample=function(n,t,e){return n&&typeof n.length!=\"number\"&&(n=xt(n)),null==t||e?n?n[at(0,n.length-1)]:v:(n=Tt(n),n.length=Se(Ie(0,t),n.length),n)\n},J.take=Bt,J.head=Bt,h(J,function(n,t){var e=\"sample\"!==t;J.prototype[t]||(J.prototype[t]=function(t,r){var u=this.__chain__,o=n(this.__wrapped__,t,r);return u||null!=t&&(!r||e&&typeof t==\"function\")?new Q(o,u):o})}),J.VERSION=\"2.4.1\",J.prototype.chain=function(){return this.__chain__=true,this},J.prototype.toString=function(){return oe(this.__wrapped__)},J.prototype.value=Qt,J.prototype.valueOf=Qt,St([\"join\",\"pop\",\"shift\"],function(n){var t=ae[n];J.prototype[n]=function(){var n=this.__chain__,e=t.apply(this.__wrapped__,arguments);\nreturn n?new Q(e,n):e}}),St([\"push\",\"reverse\",\"sort\",\"unshift\"],function(n){var t=ae[n];J.prototype[n]=function(){return t.apply(this.__wrapped__,arguments),this}}),St([\"concat\",\"slice\",\"splice\"],function(n){var t=ae[n];J.prototype[n]=function(){return new Q(t.apply(this.__wrapped__,arguments),this.__chain__)}}),J}var v,h=[],g=[],y=0,m=+new Date+\"\",b=75,_=40,d=\" \\t\\x0B\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\",w=/\\b__p\\+='';/g,j=/\\b(__p\\+=)''\\+/g,k=/(__e\\(.*?\\)|\\b__t\\))\\+'';/g,x=/\\$\\{([^\\\\}]*(?:\\\\.[^\\\\}]*)*)\\}/g,C=/\\w*$/,O=/^\\s*function[ \\n\\r\\t]+\\w/,N=/<%=([\\s\\S]+?)%>/g,I=RegExp(\"^[\"+d+\"]*0+(?=.$)\"),S=/($^)/,E=/\\bthis\\b/,R=/['\\n\\r\\t\\u2028\\u2029\\\\]/g,A=\"Array Boolean Date Function Math Number Object RegExp String _ attachEvent clearTimeout isFinite isNaN parseInt setTimeout\".split(\" \"),D=\"[object Arguments]\",$=\"[object Array]\",T=\"[object Boolean]\",F=\"[object Date]\",B=\"[object Function]\",W=\"[object Number]\",q=\"[object Object]\",z=\"[object RegExp]\",P=\"[object String]\",K={};\nK[B]=false,K[D]=K[$]=K[T]=K[F]=K[W]=K[q]=K[z]=K[P]=true;var L={leading:false,maxWait:0,trailing:false},M={configurable:false,enumerable:false,value:null,writable:false},V={\"boolean\":false,\"function\":true,object:true,number:false,string:false,undefined:false},U={\"\\\\\":\"\\\\\",\"'\":\"'\",\"\\n\":\"n\",\"\\r\":\"r\",\"\\t\":\"t\",\"\\u2028\":\"u2028\",\"\\u2029\":\"u2029\"},G=V[typeof window]&&window||this,H=V[typeof exports]&&exports&&!exports.nodeType&&exports,J=V[typeof module]&&module&&!module.nodeType&&module,Q=J&&J.exports===H&&H,X=V[typeof global]&&global;!X||X.global!==X&&X.window!==X||(G=X);\nvar Y=s();typeof define==\"function\"&&typeof define.amd==\"object\"&&define.amd?(G._=Y, define(function(){return Y})):H&&J?Q?(J.exports=Y)._=Y:H._=Y:G._=Y}).call(this);","/*! angular-google-maps 2.0.19 2015-03-28\n *  AngularJS directives for Google Maps\n *  git: https://github.com/angular-ui/angular-google-maps.git\n */\n!function(a,b,c){\"use strict\";(function(){b.module(\"uiGmapgoogle-maps.providers\",[]),b.module(\"uiGmapgoogle-maps.wrapped\",[]),b.module(\"uiGmapgoogle-maps.extensions\",[\"uiGmapgoogle-maps.wrapped\",\"uiGmapgoogle-maps.providers\"]),b.module(\"uiGmapgoogle-maps.directives.api.utils\",[\"uiGmapgoogle-maps.extensions\"]),b.module(\"uiGmapgoogle-maps.directives.api.managers\",[]),b.module(\"uiGmapgoogle-maps.directives.api.options\",[\"uiGmapgoogle-maps.directives.api.utils\"]),b.module(\"uiGmapgoogle-maps.directives.api.options.builders\",[]),b.module(\"uiGmapgoogle-maps.directives.api.models.child\",[\"uiGmapgoogle-maps.directives.api.utils\",\"uiGmapgoogle-maps.directives.api.options\",\"uiGmapgoogle-maps.directives.api.options.builders\"]),b.module(\"uiGmapgoogle-maps.directives.api.models.parent\",[\"uiGmapgoogle-maps.directives.api.managers\",\"uiGmapgoogle-maps.directives.api.models.child\",\"uiGmapgoogle-maps.providers\"]),b.module(\"uiGmapgoogle-maps.directives.api\",[\"uiGmapgoogle-maps.directives.api.models.parent\"]),b.module(\"uiGmapgoogle-maps\",[\"uiGmapgoogle-maps.directives.api\",\"uiGmapgoogle-maps.providers\"])}).call(this),function(){b.module(\"uiGmapgoogle-maps.providers\").factory(\"uiGmapMapScriptLoader\",[\"$q\",\"uiGmapuuid\",function(c,d){var e,f,g,h;return h=void 0,e=function(a){return a.china?\"http://maps.google.cn/maps/api/js?\":\"https://maps.googleapis.com/maps/api/js?\"},f=function(a){var b,c;return b=_.map(a,function(a,b){return b+\"=\"+a}),h&&document.getElementById(h).remove(),b=b.join(\"&\"),c=document.createElement(\"script\"),c.id=h=\"ui_gmap_map_load_\"+d.generate(),c.type=\"text/javascript\",c.src=e(a)+b,document.body.appendChild(c)},g=function(){return b.isDefined(a.google)&&b.isDefined(a.google.maps)},{load:function(b){var d,e;return d=c.defer(),g()?(d.resolve(a.google.maps),d.promise):(e=b.callback=\"onGoogleMapsReady\"+Math.round(1e3*Math.random()),a[e]=function(){a[e]=null,d.resolve(a.google.maps)},a.navigator.connection&&a.Connection&&a.navigator.connection.type===a.Connection.NONE?document.addEventListener(\"online\",function(){return g()?void 0:f(b)}):f(b),d.promise)}}}]).provider(\"uiGmapGoogleMapApi\",function(){return this.options={china:!1,v:\"3.17\",libraries:\"\",language:\"en\",sensor:\"false\"},this.configure=function(a){b.extend(this.options,a)},this.$get=[\"uiGmapMapScriptLoader\",function(a){return function(b){return b.load(a.options)}}(this)],this})}.call(this),function(){b.module(\"uiGmapgoogle-maps.extensions\").service(\"uiGmapExtendGWin\",function(){return{init:_.once(function(){return google||(\"undefined\"!=typeof google&&null!==google?google.maps:void 0)||null!=google.maps.InfoWindow?(google.maps.InfoWindow.prototype._open=google.maps.InfoWindow.prototype.open,google.maps.InfoWindow.prototype._close=google.maps.InfoWindow.prototype.close,google.maps.InfoWindow.prototype._isOpen=!1,google.maps.InfoWindow.prototype.open=function(a,b,c){null==c&&(this._isOpen=!0,this._open(a,b,!0))},google.maps.InfoWindow.prototype.close=function(a){null==a&&(this._isOpen=!1,this._close(!0))},google.maps.InfoWindow.prototype.isOpen=function(a){return null==a&&(a=void 0),null==a?this._isOpen:this._isOpen=a},a.InfoBox&&(a.InfoBox.prototype._open=a.InfoBox.prototype.open,a.InfoBox.prototype._close=a.InfoBox.prototype.close,a.InfoBox.prototype._isOpen=!1,a.InfoBox.prototype.open=function(a,b){this._isOpen=!0,this._open(a,b)},a.InfoBox.prototype.close=function(){this._isOpen=!1,this._close()},a.InfoBox.prototype.isOpen=function(a){return null==a&&(a=void 0),null==a?this._isOpen:this._isOpen=a}),a.MarkerLabel_?a.MarkerLabel_.prototype.setContent=function(){var a;a=this.marker_.get(\"labelContent\"),a&&!_.isEqual(this.oldContent,a)&&(\"undefined\"==typeof(null!=a?a.nodeType:void 0)?(this.labelDiv_.innerHTML=a,this.eventDiv_.innerHTML=this.labelDiv_.innerHTML,this.oldContent=a):(this.labelDiv_.innerHTML=\"\",this.labelDiv_.appendChild(a),a=a.cloneNode(!0),this.labelDiv_.innerHTML=\"\",this.eventDiv_.appendChild(a),this.oldContent=a))}:void 0):void 0})}})}.call(this),function(){b.module(\"uiGmapgoogle-maps.extensions\").service(\"uiGmapLodash\",function(){return this.intersectionObjects=function(a,b,c){var d;return null==c&&(c=void 0),d=_.map(a,function(){return function(a){return _.find(b,function(b){return null!=c?c(a,b):_.isEqual(a,b)})}}(this)),_.filter(d,function(a){return null!=a})},this.containsObject=_.includeObject=function(a,b,c){return null==c&&(c=void 0),null===a?!1:_.any(a,function(){return function(a){return null!=c?c(a,b):_.isEqual(a,b)}}(this))},this.differenceObjects=function(a,b,c){return null==c&&(c=void 0),_.filter(a,function(a){return function(d){return!a.containsObject(b,d,c)}}(this))},this.withoutObjects=this.differenceObjects,this.indexOfObject=function(a,b,c,d){var e,f;if(null==a)return-1;if(e=0,f=a.length,d){if(\"number\"!=typeof d)return e=_.sortedIndex(a,b),a[e]===b?e:-1;e=0>d?Math.max(0,f+d):d}for(;f>e;){if(null!=c){if(c(a[e],b))return e}else if(_.isEqual(a[e],b))return e;e++}return-1},this.isNullOrUndefined=function(a){return _.isNull(a||_.isUndefined(a))},this})}.call(this),function(){b.module(\"uiGmapgoogle-maps.extensions\").factory(\"uiGmapString\",function(){return function(a){return this.contains=function(b,c){return-1!==a.indexOf(b,c)},this}})}.call(this),function(){b.module(\"uiGmapgoogle-maps.directives.api.utils\").service(\"uiGmap_sync\",[function(){return{fakePromise:function(){var a;return a=void 0,{then:function(b){return a=b},resolve:function(){return a.apply(void 0,arguments)}}}}}]).service(\"uiGmap_async\",[\"$timeout\",\"uiGmapPromise\",\"uiGmapLogger\",\"$q\",\"uiGmapDataStructures\",\"uiGmapGmapUtil\",function(a,c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z;return y=c.promiseTypes,r=c.isInProgress,x=c.promiseStatus,h=c.ExposedPromise,j=c.SniffedPromise,s=function(a,b){var c;return c=a.promise(),c.promiseType=a.promiseType,c.$$state&&d.debug(\"promiseType: \"+c.promiseType+\", state: \"+x(c.$$state.status)),c.cancelCb=b,c},o=function(a,b){return a.promiseType===y.create&&b.promiseType!==y[\"delete\"]&&b.promiseType!==y.init?(d.debug(\"lastPromise.promiseType \"+b.promiseType+\", newPromiseType: \"+a.promiseType+\", SKIPPED MUST COME AFTER DELETE ONLY\"),!0):!1},w=function(a,b,c){var e;return b.promiseType===y[\"delete\"]&&c.promiseType!==y[\"delete\"]&&null!=c.cancelCb&&_.isFunction(c.cancelCb)&&r(c)&&(d.debug(\"promiseType: \"+b.promiseType+\", CANCELING LAST PROMISE type: \"+c.promiseType),c.cancelCb(\"cancel safe\"),e=a.peek(),null!=e&&r(e))?e.hasOwnProperty(\"cancelCb\")&&_.isFunction(e.cancelCb)?(d.debug(\"promiseType: \"+e.promiseType+\", CANCELING FIRST PROMISE type: \"+e.promiseType),e.cancelCb(\"cancel safe\")):d.warn(\"first promise was not cancelable\"):void 0},i=function(a,b,c){var d,e;if(a.existingPieces){if(d=_.last(a.existingPieces._content),o(b,d))return;return w(a.existingPieces,b,d),e=h(d[\"finally\"](function(){return s(b,c)})),e.cancelCb=c,e.promiseType=b.promiseType,a.existingPieces.enqueue(e),d[\"finally\"](function(){return a.existingPieces.dequeue()})}return a.existingPieces=new f.Queue,a.existingPieces.enqueue(s(b,c))},u=function(a,b,c,e,f){var g;return null==c&&(c=\"\"),g=function(a){return d.debug(a+\": \"+a),null!=e&&_.isFunction(e)?e(a):void 0},i(a,j(f,b),g)},m=80,q={value:null},z=function(a,b,c){var d;try{return a.apply(b,c)}catch(e){return d=e,q.value=d,q}},t=function(a,b,c,e){var f,g;return g=z(a,b,e),g===q&&(f=\"error within chunking iterator: \"+q.value,d.error(f),c.reject(f)),\"cancel safe\"===g?!1:!0},l=function(a,b,c){var d,e;return d=a===b,e=b[c],d?e:a[e]},k=function(a,c,d,e){var f;return b.isArray(a)?f=a:(f=c?c:Object.keys(_.omit(a,[\"length\",\"forEach\",\"map\"])),c=f),null==e&&(e=d),b.isArray(f)&&(void 0===f||(null!=f?f.length:void 0)<=0)&&e!==d?d():e(f,c)},n=function(c,d,e,f,g,h,i,j){return k(c,j,function(j,k){var m,o,p,q;for(m=d&&d<j.length?d:j.length,o=i,p=!0;p&&m--&&o<(j?j.length:o+1);)q=l(c,j,o),p=b.isFunction(q)?!0:t(f,void 0,h,[q,o]),++o;if(j){if(!(p&&o<j.length))return h.resolve();if(i=o,d)return null!=g&&_.isFunction(g)&&t(g,void 0,h,[]),a(function(){return n(c,d,e,f,g,h,i,k)},e,!1)}})},p=function(a,b,e,f,g,h,i){var j,l,o;return null==e&&(e=m),null==g&&(g=0),null==h&&(h=1),o=void 0,l=c.defer(),o=l.promise,h?k(a,i,function(){return l.resolve(),o},function(c,d){return n(a,e,h,b,f,l,g,d),o}):(j=\"pause (delay) must be set from _async!\",d.error(j),l.reject(j),o)},v=function(a,b,d,e,f,g,h){var i;return i=[],k(a,h,function(){return c.resolve(i)},function(c,h){return p(a,function(a){return i.push(b(a))},d,e,f,g,h).then(function(){return i})})},{each:p,map:v,managePromiseQueue:u,promiseLock:u,defaultChunkSize:m,chunkSizeFrom:function(a,b){return null==b&&(b=void 0),_.isNumber(a)&&(b=a),(g.isFalse(a)||a===!1)&&(b=!1),b}}}])}.call(this),function(){var a=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1};b.module(\"uiGmapgoogle-maps.directives.api.utils\").factory(\"uiGmapBaseObject\",function(){var b,c;return c=[\"extended\",\"included\"],b=function(){function b(){}return b.extend=function(b){var d,e,f;for(d in b)f=b[d],a.call(c,d)<0&&(this[d]=f);return null!=(e=b.extended)&&e.apply(this),this},b.include=function(b){var d,e,f;for(d in b)f=b[d],a.call(c,d)<0&&(this.prototype[d]=f);return null!=(e=b.included)&&e.apply(this),this},b}()})}.call(this),function(){b.module(\"uiGmapgoogle-maps.directives.api.utils\").factory(\"uiGmapChildEvents\",function(){return{onChildCreation:function(){}}})}.call(this),function(){b.module(\"uiGmapgoogle-maps.directives.api.utils\").service(\"uiGmapCtrlHandle\",[\"$q\",function(a){var b;return b={handle:function(c){return c.$on(\"$destroy\",function(){return b.handle(c)}),c.deferred=a.defer(),{getScope:function(){return c}}},mapPromise:function(a,b){var c;return c=b.getScope(),c.deferred.promise.then(function(b){return a.map=b}),c.deferred.promise}}}])}.call(this),function(){b.module(\"uiGmapgoogle-maps.directives.api.utils\").service(\"uiGmapEventsHelper\",[\"uiGmapLogger\",function(){var a,c;return c=function(a){return b.isDefined(a.events)&&null!=a.events&&b.isObject(a.events)},a=function(a,b){return c(a)?a:c(b)?b:void 0},{setEvents:function(c,d,e,f){var g;return g=a(d,e),null!=g?_.compact(_.map(g.events,function(a,h){var i;return f&&(i=_(f).contains(h)),g.events.hasOwnProperty(h)&&b.isFunction(g.events[h])&&!i?google.maps.event.addListener(c,h,function(){return d.$evalAsync||(d.$evalAsync=function(){}),d.$evalAsync(a.apply(d,[c,h,e,arguments]))}):void 0})):void 0},removeEvents:function(a){return a?a.forEach(function(a){return a?google.maps.event.removeListener(a):void 0}):void 0}}}])}.call(this),function(){b.module(\"uiGmapgoogle-maps.directives.api.utils\").service(\"uiGmapFitHelper\",[\"uiGmapLogger\",\"uiGmap_async\",function(){return{fit:function(a,b){var c,d;return b&&a&&a.length>0&&(c=new google.maps.LatLngBounds,d=!1,a.forEach(function(){return function(a){return a?(d||(d=!0),c.extend(a.getPosition())):void 0}}(this)),d)?b.fitBounds(c):void 0}}}])}.call(this),function(){b.module(\"uiGmapgoogle-maps.directives.api.utils\").service(\"uiGmapGmapUtil\",[\"uiGmapLogger\",\"$compile\",function(a,c){var d,e,f,g,h,i;return e=function(a,b,c){return a===b||-1!==c.indexOf(a)},d=function(a){return e(a,!1,[\"false\",\"FALSE\",0,\"n\",\"N\",\"no\",\"NO\"])},g=function(a){return Array.isArray(a)&&2===a.length?a[1]:b.isDefined(a.type)&&\"Point\"===a.type?a.coordinates[1]:a.latitude},h=function(a){return Array.isArray(a)&&2===a.length?a[0]:b.isDefined(a.type)&&\"Point\"===a.type?a.coordinates[0]:a.longitude},f=function(a){return a?Array.isArray(a)&&2===a.length?new google.maps.LatLng(a[1],a[0]):b.isDefined(a.type)&&\"Point\"===a.type?new google.maps.LatLng(a.coordinates[1],a.coordinates[0]):new google.maps.LatLng(a.latitude,a.longitude):void 0},i=function(a){if(b.isUndefined(a))return!1;if(_.isArray(a)){if(2===a.length)return!0}else if(null!=a&&(null!=a?a.type:void 0)&&\"Point\"===a.type&&_.isArray(a.coordinates)&&2===a.coordinates.length)return!0;return a&&b.isDefined((null!=a?a.latitude:void 0)&&b.isDefined(null!=a?a.longitude:void 0))?!0:!1},{setCoordsFromEvent:function(a,c){return a?(Array.isArray(a)&&2===a.length?(a[1]=c.lat(),a[0]=c.lng()):b.isDefined(a.type)&&\"Point\"===a.type?(a.coordinates[1]=c.lat(),a.coordinates[0]=c.lng()):(a.latitude=c.lat(),a.longitude=c.lng()),a):void 0},getLabelPositionPoint:function(a){var b,c;return void 0===a?void 0:(a=/^([-\\d\\.]+)\\s([-\\d\\.]+)$/.exec(a),b=parseFloat(a[1]),c=parseFloat(a[2]),null!=b&&null!=c?new google.maps.Point(b,c):void 0)},createWindowOptions:function(d,e,g,h){var i;return null!=g&&null!=h&&null!=c?(i=b.extend({},h,{content:this.buildContent(e,h,g),position:null!=h.position?h.position:b.isObject(d)?d.getPosition():f(e.coords)}),null!=d&&null==(null!=i?i.pixelOffset:void 0)&&(null==i.boxClass||(i.pixelOffset={height:0,width:-2})),i):h?h:(a.error(\"infoWindow defaults not defined\"),g?void 0:a.error(\"infoWindow content not defined\"))},buildContent:function(a,b,d){var e,f;return null!=b.content?f=b.content:null!=c?(d=d.replace(/^\\s+|\\s+$/g,\"\"),e=\"\"===d?\"\":c(d)(a),e.length>0&&(f=e[0])):f=d,f},defaultDelay:50,isTrue:function(a){return e(a,!0,[\"true\",\"TRUE\",1,\"y\",\"Y\",\"yes\",\"YES\"])},isFalse:d,isFalsy:function(a){return e(a,!1,[void 0,null])||d(a)},getCoords:f,validateCoords:i,equalCoords:function(a,b){return g(a)===g(b)&&h(a)===h(b)},validatePath:function(a){var c,d,e,f;if(d=0,b.isUndefined(a.type)){if(!Array.isArray(a)||a.length<2)return!1;for(;d<a.length;){if(!(b.isDefined(a[d].latitude)&&b.isDefined(a[d].longitude)||\"function\"==typeof a[d].lat&&\"function\"==typeof a[d].lng))return!1;d++}return!0}if(b.isUndefined(a.coordinates))return!1;if(\"Polygon\"===a.type){if(a.coordinates[0].length<4)return!1;c=a.coordinates[0]}else if(\"MultiPolygon\"===a.type){if(f={max:0,index:0},_.forEach(a.coordinates,function(a,b){return a[0].length>this.max?(this.max=a[0].length,this.index=b):void 0},f),e=a.coordinates[f.index],c=e[0],c.length<4)return!1}else{if(\"LineString\"!==a.type)return!1;if(a.coordinates.length<2)return!1;c=a.coordinates}for(;d<c.length;){if(2!==c[d].length)return!1;d++}return!0},convertPathPoints:function(a){var c,d,e,f,g;if(d=0,f=new google.maps.MVCArray,b.isUndefined(a.type))for(;d<a.length;)b.isDefined(a[d].latitude)&&b.isDefined(a[d].longitude)?e=new google.maps.LatLng(a[d].latitude,a[d].longitude):\"function\"==typeof a[d].lat&&\"function\"==typeof a[d].lng&&(e=a[d]),f.push(e),d++;else for(\"Polygon\"===a.type?c=a.coordinates[0]:\"MultiPolygon\"===a.type?(g={max:0,index:0},_.forEach(a.coordinates,function(a,b){return a[0].length>this.max?(this.max=a[0].length,this.index=b):void 0},g),c=a.coordinates[g.index][0]):\"LineString\"===a.type&&(c=a.coordinates);d<c.length;)f.push(new google.maps.LatLng(c[d][1],c[d][0])),d++;return f},extendMapBounds:function(a,b){var c,d;for(c=new google.maps.LatLngBounds,d=0;d<b.length;)c.extend(b.getAt(d)),d++;return a.fitBounds(c)},getPath:function(a,b){var c;return null!=b&&_.isString(b)?(c=a,_.each(b.split(\".\"),function(a){return c?c=c[a]:void 0}),c):b},validateBoundPoints:function(a){return b.isUndefined(a.sw.latitude)||b.isUndefined(a.sw.longitude)||b.isUndefined(a.ne.latitude)||b.isUndefined(a.ne.longitude)?!1:!0},convertBoundPoints:function(a){var b;return b=new google.maps.LatLngBounds(new google.maps.LatLng(a.sw.latitude,a.sw.longitude),new google.maps.LatLng(a.ne.latitude,a.ne.longitude))},fitMapBounds:function(a,b){return a.fitBounds(b)}}}])}.call(this),function(){b.module(\"uiGmapgoogle-maps.directives.api.utils\").service(\"uiGmapIsReady\",[\"$q\",\"$timeout\",function(a,b){var c,d,e;return c=0,e=[],d=function(){return a.all(e)},{spawn:function(){var b;return b=a.defer(),e.push(b.promise),c+=1,{instance:c,deferred:b}},promises:d,instances:function(){return c},promise:function(e){var f,g;return null==e&&(e=1),f=a.defer(),g=function(){return b(function(){return c!==e?g():f.resolve(d())})},g(),f.promise},reset:function(){return c=0,e.length=0}}}])}.call(this),function(){var a=function(a,b){function d(){this.constructor=a}for(var e in b)c.call(b,e)&&(a[e]=b[e]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a},c={}.hasOwnProperty;b.module(\"uiGmapgoogle-maps.directives.api.utils\").factory(\"uiGmapLinked\",[\"uiGmapBaseObject\",function(b){var c;return c=function(b){function c(a,b,c,d){this.scope=a,this.element=b,this.attrs=c,this.ctrls=d}return a(c,b),c}(b)}])}.call(this),function(){b.module(\"uiGmapgoogle-maps.directives.api.utils\").service(\"uiGmapLogger\",[\"$log\",function(a){var b,c,d,e;return b={log:1,info:2,debug:3,warn:4,error:5,none:6},e=function(a,b,c){return a>=b?c():void 0},d=function(b,c){return null!=a?a[b](c):console[b](c)},new(c=function(){function c(){var a;this.doLog=!0,a={},[\"log\",\"info\",\"debug\",\"warn\",\"error\"].forEach(function(c){return function(f){return a[f]=function(a){return c.doLog?e(b[f],c.currentLevel,function(){return d(f,a)}):void 0}}}(this)),this.LEVELS=b,this.currentLevel=b.error,this.log=a.log,this.info=a.info,this.debug=a.debug,this.warn=a.warn,this.error=a.error}return c.prototype.spawn=function(){return new c},c.prototype.setLog=function(b){return a=b},c}())}])}.call(this),function(){var a=function(a,b){return function(){return a.apply(b,arguments)}},c=function(a,b){function c(){this.constructor=a}for(var e in b)d.call(b,e)&&(a[e]=b[e]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},d={}.hasOwnProperty;b.module(\"uiGmapgoogle-maps.directives.api.utils\").factory(\"uiGmapModelKey\",[\"uiGmapBaseObject\",\"uiGmapGmapUtil\",\"uiGmapPromise\",\"$q\",\"$timeout\",function(d,e){var f;return f=function(d){function f(b){this.scope=b,this.modelsLength=a(this.modelsLength,this),this.updateChild=a(this.updateChild,this),this.destroy=a(this.destroy,this),this.onDestroy=a(this.onDestroy,this),this.setChildScope=a(this.setChildScope,this),this.getChanges=a(this.getChanges,this),this.getProp=a(this.getProp,this),this.setIdKey=a(this.setIdKey,this),this.modelKeyComparison=a(this.modelKeyComparison,this),f.__super__.constructor.call(this),this[\"interface\"]={},this[\"interface\"].scopeKeys=[],this.defaultIdKey=\"id\",this.idKey=void 0}return c(f,d),f.prototype.evalModelHandle=function(a,b){return null!=a&&null!=b?\"self\"===b?a:(_.isFunction(b)&&(b=b()),e.getPath(a,b)):void 0},f.prototype.modelKeyComparison=function(a,b){var c,d,f;if(c=_.contains(this[\"interface\"].scopeKeys,\"coords\"),(c&&null!=this.scope.coords||!c)&&(f=this.scope),null==f)throw\"No scope set!\";return c&&(d=e.equalCoords(this.evalModelHandle(a,f.coords),this.evalModelHandle(b,f.coords)),!d)?d:d=_.every(_.without(this[\"interface\"].scopeKeys,\"coords\"),function(c){return function(d){return c.evalModelHandle(a,f[d])===c.evalModelHandle(b,f[d])}}(this))},f.prototype.setIdKey=function(a){return this.idKey=null!=a.idKey?a.idKey:this.defaultIdKey},f.prototype.setVal=function(a,b,c){var d;return d=this.modelOrKey(a,b),d=c,a},f.prototype.modelOrKey=function(a,b){return null!=b?\"self\"!==b?e.getPath(a,b):a:void 0},f.prototype.getProp=function(a,b){return this.modelOrKey(b,a)},f.prototype.getChanges=function(a,b,c){var d,e,f;c&&(b=_.pick(b,c),a=_.pick(a,c)),e={},f={},d={};for(f in a)b&&b[f]===a[f]||(_.isArray(a[f])?e[f]=a[f]:_.isObject(a[f])?(d=this.getChanges(a[f],b?b[f]:null),_.isEmpty(d)||(e[f]=d)):e[f]=a[f]);return e},f.prototype.scopeOrModelVal=function(a,b,c,d){var e,f,g,h;return null==d&&(d=!1),e=function(a,b,c){return null==c&&(c=!1),c?{isScope:a,value:b}:b},h=b[a],_.isFunction(h)?e(!0,h(c),d):_.isObject(h)?e(!0,h,d):_.isString(h)?(f=h,g=f?\"self\"===f?c:c[f]:c[a],_.isFunction(g)?e(!1,g(),d):e(!1,g,d)):e(!0,h,d)},f.prototype.setChildScope=function(a,b,c){return _.each(a,function(a){return function(d){var e,f;return e=a.scopeOrModelVal(d,b,c,!0),null!=(null!=e?e.value:void 0)&&(f=e.value,f!==b[d])?b[d]=f:void 0}}(this)),b.model=c},f.prototype.onDestroy=function(){},f.prototype.destroy=function(a){var b;return null==a&&(a=!1),null==this.scope||(null!=(b=this.scope)?b.$$destroyed:void 0)||!this.needToManualDestroy&&!a?this.clean():this.scope.$destroy()},f.prototype.updateChild=function(a,b){return null==b[this.idKey]?void this.$log.error(\"Model has no id to assign a child to. This is required for performance. Please assign id, or redirect id to a different key.\"):a.updateModel(b)},f.prototype.modelsLength=function(a){var c,d;return null==a&&(a=void 0),c=0,d=a?a:this.scope.models,null==d?c:c=b.isArray(d)||null!=d.length?d.length:Object.keys(d).length},f}(d)}])}.call(this),function(){b.module(\"uiGmapgoogle-maps.directives.api.utils\").factory(\"uiGmapModelsWatcher\",[\"uiGmapLogger\",\"uiGmap_async\",\"$q\",\"uiGmapPromise\",function(a,b,c,d){return{didQueueInitPromise:function(a,c){return 0===c.models.length?(b.promiseLock(a,d.promiseTypes.init,null,null,function(){return function(){return d.resolve()}}(this)),!0):!1},figureOutState:function(b,c,d,e){var f,g,h,i,j;return f=[],h={},i=[],j=[],c.models.forEach(function(c){var g;return null==c[b]?a.error(\" id missing for model #{m.toString()},\\ncan not use do comparison/insertion\"):(h[c[b]]={},null==d.get(c[b])?f.push(c):(g=d.get(c[b]),e(c,g.clonedModel)?void 0:j.push({model:c,child:g})))}),g=d.values(),g.forEach(function(c){var d;return null==c?void a.error(\"child undefined in ModelsWatcher.\"):null==c.model?void a.error(\"child.model undefined in ModelsWatcher.\"):(d=c.model[b],null==h[d]?i.push(c):void 0)}),{adds:f,removals:i,updates:j}}}}])}.call(this),function(){b.module(\"uiGmapgoogle-maps.directives.api.utils\").service(\"uiGmapPromise\",[\"$q\",\"$timeout\",\"uiGmapLogger\",function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n;return l={create:\"create\",update:\"update\",\"delete\":\"delete\",init:\"init\"},k={IN_PROGRESS:0,RESOLVED:1,REJECTED:2},n=function(){var a;return a={},a[\"\"+k.IN_PROGRESS]=\"in-progress\",a[\"\"+k.RESOLVED]=\"resolved\",a[\"\"+k.REJECTED]=\"rejected\",a}(),g=function(a){return a.$$state?a.$$state.status===k.IN_PROGRESS:a.hasOwnProperty(\"$$v\")?void 0:!0},h=function(a){return a.$$state?a.$$state.status===k.RESOLVED:a.hasOwnProperty(\"$$v\")?!0:void 0},j=function(a){return n[a]||\"done w error\"},d=function(b){var c,d,e;return c=a.defer(),d=a.all([b,c.promise]),e=a.defer(),b.then(c.resolve,function(){},function(a){return c.notify(a),e.notify(a)}),d.then(function(a){return e.resolve(a[0]||a[1])},function(a){return e.reject(a)}),e.promise.cancel=function(a){return null==a&&(a=\"canceled\"),c.reject(a)},e.promise.notify=function(a){return null==a&&(a=\"cancel safe\"),e.notify(a),b.hasOwnProperty(\"notify\")?b.notify(a):void 0},null!=b.promiseType&&(e.promise.promiseType=b.promiseType),e.promise},e=function(a,b){return{promise:a,promiseType:b}},f=function(){return a.defer()},m=function(){var b;return b=a.defer(),b.resolve.apply(void 0,arguments),b.promise},i=function(d){var e;return _.isFunction(d)?(e=a.defer(),b(function(){var a;return a=d(),e.resolve(a)}),e.promise):void c.error(\"uiGmapPromise.promise() only accepts functions\")},{defer:f,promise:i,resolve:m,promiseTypes:l,isInProgress:g,isResolved:h,promiseStatus:j,ExposedPromise:d,SniffedPromise:e}}])}.call(this),function(){var a=function(a,b){return function(){return a.apply(b,arguments)}};b.module(\"uiGmapgoogle-maps.directives.api.utils\").factory(\"uiGmapPropMap\",function(){var b;return b=function(){function b(){this.removeAll=a(this.removeAll,this),this.slice=a(this.slice,this),this.push=a(this.push,this),this.keys=a(this.keys,this),this.values=a(this.values,this),this.remove=a(this.remove,this),this.put=a(this.put,this),this.stateChanged=a(this.stateChanged,this),this.get=a(this.get,this),this.length=0,this.dict={},this.didValsStateChange=!1,this.didKeysStateChange=!1,this.allVals=[],this.allKeys=[]}return b.prototype.get=function(a){return this.dict[a]},b.prototype.stateChanged=function(){return this.didValsStateChange=!0,this.didKeysStateChange=!0},b.prototype.put=function(a,b){return null==this.get(a)&&this.length++,this.stateChanged(),this.dict[a]=b},b.prototype.remove=function(a,b){var c;return null==b&&(b=!1),b&&!this.get(a)?void 0:(c=this.dict[a],delete this.dict[a],this.length--,this.stateChanged(),c)},b.prototype.valuesOrKeys=function(a){var b,c;return null==a&&(a=\"Keys\"),this[\"did\"+a+\"StateChange\"]?(c=[],b=[],_.each(this.dict,function(a,d){return c.push(a),b.push(d)}),this.didKeysStateChange=!1,this.didValsStateChange=!1,this.allVals=c,this.allKeys=b,this[\"all\"+a]):this[\"all\"+a]},b.prototype.values=function(){return this.valuesOrKeys(\"Vals\")},b.prototype.keys=function(){return this.valuesOrKeys()},b.prototype.push=function(a,b){return null==b&&(b=\"key\"),this.put(a[b],a)},b.prototype.slice=function(){return this.keys().map(function(a){return function(b){return a.remove(b)}}(this))},b.prototype.removeAll=function(){return this.slice()},b.prototype.each=function(a){return _.each(this.dict,function(b){return a(b)})},b.prototype.map=function(a){return _.map(this.dict,function(b){return a(b)})},b}()})}.call(this),function(){b.module(\"uiGmapgoogle-maps.directives.api.utils\").factory(\"uiGmapPropertyAction\",[\"uiGmapLogger\",function(){var a;return a=function(a){return this.setIfChange=function(b,c){var d;return d=this.exp,_.isEqual(c,b)?void 0:a(d,b)},this.sic=this.setIfChange,this}}])}.call(this),function(){var a=function(a,b){return function(){return a.apply(b,arguments)}};b.module(\"uiGmapgoogle-maps.directives.api.managers\").factory(\"uiGmapClustererMarkerManager\",[\"uiGmapLogger\",\"uiGmapFitHelper\",\"uiGmapPropMap\",function(c,d,e){var f;return f=function(){function f(b,d,g,h){null==d&&(d={}),this.opt_options=null!=g?g:{},this.opt_events=h,this.checkSync=a(this.checkSync,this),this.getGMarkers=a(this.getGMarkers,this),this.fit=a(this.fit,this),this.destroy=a(this.destroy,this),this.clear=a(this.clear,this),this.draw=a(this.draw,this),this.removeMany=a(this.removeMany,this),this.remove=a(this.remove,this),this.addMany=a(this.addMany,this),this.update=a(this.update,this),this.add=a(this.add,this),this.type=f.type,this.clusterer=new NgMapMarkerClusterer(b,d,this.opt_options),this.propMapGMarkers=new e,this.attachEvents(this.opt_events,\"opt_events\"),this.clusterer.setIgnoreHidden(!0),this.noDrawOnSingleAddRemoves=!0,c.info(this)}return f.type=\"ClustererMarkerManager\",f.prototype.checkKey=function(a){var b;return null==a.key?(b=\"gMarker.key undefined and it is REQUIRED!!\",c.error(b)):void 0},f.prototype.add=function(a){return this.checkKey(a),this.clusterer.addMarker(a,this.noDrawOnSingleAddRemoves),this.propMapGMarkers.put(a.key,a),this.checkSync()},f.prototype.update=function(a){return this.remove(a),this.add(a)},f.prototype.addMany=function(a){return a.forEach(function(a){return function(b){return a.add(b)}}(this))},f.prototype.remove=function(a){var b;return this.checkKey(a),b=this.propMapGMarkers.get(a.key),b&&(this.clusterer.removeMarker(a,this.noDrawOnSingleAddRemoves),this.propMapGMarkers.remove(a.key)),this.checkSync()},f.prototype.removeMany=function(a){return a.forEach(function(a){return function(b){return a.remove(b)}}(this))},f.prototype.draw=function(){return this.clusterer.repaint()},f.prototype.clear=function(){return this.removeMany(this.getGMarkers()),this.clusterer.repaint()},f.prototype.attachEvents=function(a,d){var e,f,g;if(b.isDefined(a)&&null!=a&&b.isObject(a)){g=[];for(f in a)e=a[f],a.hasOwnProperty(f)&&b.isFunction(a[f])?(c.info(d+\": Attaching event: \"+f+\" to clusterer\"),g.push(google.maps.event.addListener(this.clusterer,f,a[f]))):g.push(void 0);return g}},f.prototype.clearEvents=function(a,d){var e,f,g;if(b.isDefined(a)&&null!=a&&b.isObject(a)){g=[];for(f in a)e=a[f],a.hasOwnProperty(f)&&b.isFunction(a[f])?(c.info(d+\": Clearing event: \"+f+\" to clusterer\"),g.push(google.maps.event.clearListeners(this.clusterer,f))):g.push(void 0);return g}},f.prototype.destroy=function(){return this.clearEvents(this.opt_events,\"opt_events\"),this.clear()},f.prototype.fit=function(){return d.fit(this.getGMarkers(),this.clusterer.getMap())},f.prototype.getGMarkers=function(){return this.clusterer.getMarkers().values()},f.prototype.checkSync=function(){},f}()}])}.call(this),function(){var a=function(a,b){return function(){return a.apply(b,arguments)}};b.module(\"uiGmapgoogle-maps.directives.api.managers\").factory(\"uiGmapMarkerManager\",[\"uiGmapLogger\",\"uiGmapFitHelper\",\"uiGmapPropMap\",function(b,c,d){var e;return e=function(){function e(c){this.getGMarkers=a(this.getGMarkers,this),this.fit=a(this.fit,this),this.handleOptDraw=a(this.handleOptDraw,this),this.clear=a(this.clear,this),this.draw=a(this.draw,this),this.removeMany=a(this.removeMany,this),this.remove=a(this.remove,this),this.addMany=a(this.addMany,this),this.update=a(this.update,this),this.add=a(this.add,this),this.type=e.type,this.gMap=c,this.gMarkers=new d,this.$log=b,this.$log.info(this)}return e.type=\"MarkerManager\",e.prototype.add=function(a,c){var d,e;if(null==c&&(c=!0),null==a.key)throw e=\"gMarker.key undefined and it is REQUIRED!!\",b.error(e),e;return d=this.gMarkers.get(a.key),d?void 0:(this.handleOptDraw(a,c,!0),this.gMarkers.put(a.key,a))},e.prototype.update=function(a,b){return null==b&&(b=!0),this.remove(a,b),this.add(a,b)},e.prototype.addMany=function(a){return a.forEach(function(a){return function(b){return a.add(b)}}(this))},e.prototype.remove=function(a,b){return null==b&&(b=!0),this.handleOptDraw(a,b,!1),this.gMarkers.get(a.key)?this.gMarkers.remove(a.key):void 0},e.prototype.removeMany=function(a){return a.forEach(function(a){return function(b){return a.remove(b)}}(this))},e.prototype.draw=function(){var a;return a=[],this.gMarkers.each(function(b){return function(c){return c.isDrawn?void 0:c.doAdd?(c.setMap(b.gMap),c.isDrawn=!0):a.push(c)}}(this)),a.forEach(function(a){return function(b){return b.isDrawn=!1,a.remove(b,!0)}}(this))},e.prototype.clear=function(){return this.gMarkers.each(function(a){return a.setMap(null)}),delete this.gMarkers,this.gMarkers=new d},e.prototype.handleOptDraw=function(a,b,c){return b===!0?(a.setMap(c?this.gMap:null),a.isDrawn=!0):(a.isDrawn=!1,a.doAdd=c)},e.prototype.fit=function(){return c.fit(this.getGMarkers(),this.gMap)},e.prototype.getGMarkers=function(){return this.gMarkers.values()},e}()}])}.call(this),function(){b.module(\"uiGmapgoogle-maps\").factory(\"uiGmapadd-events\",[\"$timeout\",function(a){var c,d;return c=function(b,c,d){return google.maps.event.addListener(b,c,function(){return d.apply(this,arguments),a(function(){},!0)})},d=function(a,d,e){var f;return e?c(a,d,e):(f=[],b.forEach(d,function(b,d){return f.push(c(a,d,b))}),function(){return b.forEach(f,function(a){return google.maps.event.removeListener(a)}),f=null})}}])}.call(this),function(){b.module(\"uiGmapgoogle-maps\").factory(\"uiGmaparray-sync\",[\"uiGmapadd-events\",function(a){return function(c,d,e,f){var g,h,i,j,k,l,m,n,o;return j=!1,n=d.$eval(e),d[\"static\"]||(k={set_at:function(a){var b;if(!j&&(b=c.getAt(a)))return b.lng&&b.lat?(n[a].latitude=b.lat(),n[a].longitude=b.lng()):n[a]=b},insert_at:function(a){var b;if(!j&&(b=c.getAt(a)))return b.lng&&b.lat?n.splice(a,0,{latitude:b.lat(),longitude:b.lng()}):n.splice(a,0,b)},remove_at:function(a){return j?void 0:n.splice(a,1)}},\"Polygon\"===n.type?g=n.coordinates[0]:\"LineString\"===n.type&&(g=n.coordinates),h={set_at:function(a){var b;if(!j&&(b=c.getAt(a),b&&b.lng&&b.lat))return g[a][1]=b.lat(),g[a][0]=b.lng()},insert_at:function(a){var b;if(!j&&(b=c.getAt(a),b&&b.lng&&b.lat))return g.splice(a,0,[b.lng(),b.lat()])},remove_at:function(a){return j?void 0:g.splice(a,1)}},m=a(c,b.isUndefined(n.type)?k:h)),l=function(a){var b,d,e,g,h,i,k,l;if(j=!0,i=c,b=!1,a){for(d=0,k=i.getLength(),g=a.length,e=Math.min(k,g),h=void 0;e>d;)l=i.getAt(d),h=a[d],\"function\"==typeof h.equals?h.equals(l)||(i.setAt(d,h),b=!0):(l.lat()!==h.latitude||l.lng()!==h.longitude)&&(i.setAt(d,new google.maps.LatLng(h.latitude,h.longitude)),b=!0),d++;for(;g>d;)h=a[d],i.push(\"function\"==typeof h.lat&&\"function\"==typeof h.lng?h:new google.maps.LatLng(h.latitude,h.longitude)),b=!0,d++;for(;k>d;)i.pop(),b=!0,d++}return j=!1,b?f(i):void 0},i=function(a){var b,d,e,g,h,i,k,l,m;if(j=!0,k=c,d=!1,a){for(\"Polygon\"===n.type?b=a.coordinates[0]:\"LineString\"===n.type&&(b=a.coordinates),e=0,l=k.getLength(),h=b.length,g=Math.min(l,h),i=void 0;g>e;)m=k.getAt(e),i=b[e],(m.lat()!==i[1]||m.lng()!==i[0])&&(k.setAt(e,new google.maps.LatLng(i[1],i[0])),\nd=!0),e++;for(;h>e;)i=b[e],k.push(new google.maps.LatLng(i[1],i[0])),d=!0,e++;for(;l>e;)k.pop(),d=!0,e++}return j=!1,d?f(k):void 0},d[\"static\"]||(o=b.isUndefined(n.type)?d.$watchCollection(e,l):d.$watch(e,i,!0)),function(){return m&&(m(),m=null),o?(o(),o=null):void 0}}}])}.call(this),function(){b.module(\"uiGmapgoogle-maps.directives.api.utils\").factory(\"uiGmapChromeFixes\",[\"$timeout\",function(a){return{maybeRepaint:function(b){return b?(b.style.opacity=.9,a(function(){return b.style.opacity=1})):void 0}}}])}.call(this),function(){b.module(\"uiGmapgoogle-maps\").service(\"uiGmapObjectIterators\",function(){var a,b,c,d;return a=[\"length\",\"forEach\",\"map\"],b=[],c=function(b){return b.forEach=function(c){return _.each(_.omit(b,a),function(a){return _.isFunction(a)?void 0:c(a)})},b},b.push(c),d=function(b){return b.map=function(c){return _.map(_.omit(b,a),function(a){return _.isFunction(a)?void 0:c(a)})},b},b.push(d),{slapMap:d,slapForEach:c,slapAll:function(a){return b.forEach(function(b){return b(a)}),a}}})}.call(this),function(){var a=function(a,b){return function(){return a.apply(b,arguments)}},c=function(a,b){function c(){this.constructor=a}for(var e in b)d.call(b,e)&&(a[e]=b[e]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},d={}.hasOwnProperty;b.module(\"uiGmapgoogle-maps.directives.api.options.builders\").service(\"uiGmapCommonOptionsBuilder\",[\"uiGmapBaseObject\",\"uiGmapLogger\",\"uiGmapModelKey\",function(d,e,f){var g;return g=function(d){function f(){return this.watchProps=a(this.watchProps,this),this.buildOpts=a(this.buildOpts,this),f.__super__.constructor.apply(this,arguments)}return c(f,d),f.prototype.props=[\"clickable\",\"draggable\",\"editable\",\"visible\",{prop:\"stroke\",isColl:!0}],f.prototype.getCorrectModel=function(a){return b.isDefined(null!=a?a.model:void 0)?a.model:a},f.prototype.buildOpts=function(a,c,d){var f,g,h;return null==a&&(a={}),null==d&&(d={}),this.scope?this.map?(f=this.getCorrectModel(this.scope),h=this.scopeOrModelVal(\"stroke\",this.scope,f),g=b.extend(a,this.DEFAULTS,{map:this.map,strokeColor:null!=h?h.color:void 0,strokeOpacity:null!=h?h.opacity:void 0,strokeWeight:null!=h?h.weight:void 0}),b.forEach(b.extend(d,{clickable:!0,draggable:!1,editable:!1,\"static\":!1,fit:!1,visible:!0,zIndex:0,icons:[]}),function(a){return function(d,e){var h;return h=c?c[e]:a.scopeOrModelVal(e,a.scope,f),g[e]=b.isUndefined(h)?d:f[e]}}(this)),g[\"static\"]&&(g.editable=!1),g):void e.error(\"this.map not defined in CommonOptionsBuilder can not buildOpts\"):void e.error(\"this.scope not defined in CommonOptionsBuilder can not buildOpts\")},f.prototype.watchProps=function(a){return null==a&&(a=this.props),a.forEach(function(a){return function(b){return null!=a.attrs[b]||null!=a.attrs[null!=b?b.prop:void 0]?(null!=b?b.isColl:void 0)?a.scope.$watchCollection(b.prop,a.setMyOptions):a.scope.$watch(b,a.setMyOptions):void 0}}(this))},f}(f)}])}.call(this),function(){var a=function(a,b){function d(){this.constructor=a}for(var e in b)c.call(b,e)&&(a[e]=b[e]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a},c={}.hasOwnProperty;b.module(\"uiGmapgoogle-maps.directives.api.options.builders\").factory(\"uiGmapPolylineOptionsBuilder\",[\"uiGmapCommonOptionsBuilder\",function(b){var c;return c=function(b){function c(){return c.__super__.constructor.apply(this,arguments)}return a(c,b),c.prototype.buildOpts=function(a,b){return c.__super__.buildOpts.call(this,{path:a},b,{geodesic:!1})},c}(b)}]).factory(\"uiGmapShapeOptionsBuilder\",[\"uiGmapCommonOptionsBuilder\",function(c){var d;return d=function(c){function d(){return d.__super__.constructor.apply(this,arguments)}return a(d,c),d.prototype.buildOpts=function(a,c,e){var f,g;return g=this.getCorrectModel(this.scope),f=c?c.fill:this.scopeOrModelVal(\"fill\",this.scope,g),a=b.extend(a,{fillColor:null!=f?f.color:void 0,fillOpacity:null!=f?f.opacity:void 0}),d.__super__.buildOpts.call(this,a,c,e)},d}(c)}]).factory(\"uiGmapPolygonOptionsBuilder\",[\"uiGmapShapeOptionsBuilder\",function(b){var c;return c=function(b){function c(){return c.__super__.constructor.apply(this,arguments)}return a(c,b),c.prototype.buildOpts=function(a,b){return c.__super__.buildOpts.call(this,{path:a},b,{geodesic:!1})},c}(b)}]).factory(\"uiGmapRectangleOptionsBuilder\",[\"uiGmapShapeOptionsBuilder\",function(b){var c;return c=function(b){function c(){return c.__super__.constructor.apply(this,arguments)}return a(c,b),c.prototype.buildOpts=function(a,b){return c.__super__.buildOpts.call(this,{bounds:a},b)},c}(b)}]).factory(\"uiGmapCircleOptionsBuilder\",[\"uiGmapShapeOptionsBuilder\",function(b){var c;return c=function(b){function c(){return c.__super__.constructor.apply(this,arguments)}return a(c,b),c.prototype.buildOpts=function(a,b,d){return c.__super__.buildOpts.call(this,{center:a,radius:b},d)},c}(b)}])}.call(this),function(){b.module(\"uiGmapgoogle-maps.directives.api.options\").service(\"uiGmapMarkerOptions\",[\"uiGmapLogger\",\"uiGmapGmapUtil\",function(a,c){return _.extend(c,{createOptions:function(a,d,e,f){var g;return null==e&&(e={}),g=b.extend({},e,{position:null!=e.position?e.position:c.getCoords(a),visible:null!=e.visible?e.visible:c.validateCoords(a)}),(null!=e.icon||null!=d)&&(g=b.extend(g,{icon:null!=e.icon?e.icon:d})),null!=f&&(g.map=f),g},isLabel:function(a){return null==a?!1:null!=a.labelContent||null!=a.labelAnchor||null!=a.labelClass||null!=a.labelStyle||null!=a.labelVisible}})}])}.call(this),function(){var a=function(a,b){return function(){return a.apply(b,arguments)}},c=function(a,b){function c(){this.constructor=a}for(var e in b)d.call(b,e)&&(a[e]=b[e]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},d={}.hasOwnProperty;b.module(\"uiGmapgoogle-maps.directives.api\").factory(\"uiGmapBasePolyChildModel\",[\"uiGmapLogger\",\"$timeout\",\"uiGmaparray-sync\",\"uiGmapGmapUtil\",\"uiGmapEventsHelper\",function(d,e,f,g,h){return function(d,e){var i;return i=function(d){function i(c,d,g,i,j){var k;this.scope=c,this.attrs=d,this.map=g,this.defaults=i,this.model=j,this.clean=a(this.clean,this),this.clonedModel=_.clone(this.model,!0),this.isDragging=!1,this.internalEvents={dragend:function(a){return function(){return _.defer(function(){return a.isDragging=!1})}}(this),dragstart:function(a){return function(){return a.isDragging=!0}}(this)},k=function(a){return function(){var c,d;if(!a.isDragging)return d=a.convertPathPoints(a.scope.path),null!=a.gObject&&a.clean(),null!=a.scope.model&&(c=a.scope),d.length>0&&(a.gObject=e(a.buildOpts(d,c))),a.gObject?(a.scope.fit&&a.extendMapBounds(map,d),f(a.gObject.getPath(),a.scope,\"path\",function(b){return a.scope.fit?a.extendMapBounds(map,b):void 0}),b.isDefined(a.scope.events)&&b.isObject(a.scope.events)&&(a.listeners=a.model?h.setEvents(a.gObject,a.scope,a.model):h.setEvents(a.gObject,a.scope,a.scope)),a.internalListeners=a.model?h.setEvents(a.gObject,{events:a.internalEvents},a.model):h.setEvents(a.gObject,{events:a.internalEvents},a.scope)):void 0}}(this),k(),this.scope.$watch(\"path\",function(a){return function(b,c){return _.isEqual(b,c)&&a.gObject?void 0:k()}}(this),!0),!this.scope[\"static\"]&&b.isDefined(this.scope.editable)&&this.scope.$watch(\"editable\",function(a){return function(b,c){var d;return b!==c?(b=!a.isFalse(b),null!=(d=a.gObject)?d.setEditable(b):void 0):void 0}}(this),!0),b.isDefined(this.scope.draggable)&&this.scope.$watch(\"draggable\",function(a){return function(b,c){var d;return b!==c?(b=!a.isFalse(b),null!=(d=a.gObject)?d.setDraggable(b):void 0):void 0}}(this),!0),b.isDefined(this.scope.visible)&&this.scope.$watch(\"visible\",function(a){return function(b,c){var d;return b!==c&&(b=!a.isFalse(b)),null!=(d=a.gObject)?d.setVisible(b):void 0}}(this),!0),b.isDefined(this.scope.geodesic)&&this.scope.$watch(\"geodesic\",function(a){return function(b,c){var d;return b!==c?(b=!a.isFalse(b),null!=(d=a.gObject)?d.setOptions(a.buildOpts(a.gObject.getPath())):void 0):void 0}}(this),!0),b.isDefined(this.scope.stroke)&&b.isDefined(this.scope.stroke.weight)&&this.scope.$watch(\"stroke.weight\",function(a){return function(b,c){var d;return b!==c&&null!=(d=a.gObject)?d.setOptions(a.buildOpts(a.gObject.getPath())):void 0}}(this),!0),b.isDefined(this.scope.stroke)&&b.isDefined(this.scope.stroke.color)&&this.scope.$watch(\"stroke.color\",function(a){return function(b,c){var d;return b!==c&&null!=(d=a.gObject)?d.setOptions(a.buildOpts(a.gObject.getPath())):void 0}}(this),!0),b.isDefined(this.scope.stroke)&&b.isDefined(this.scope.stroke.opacity)&&this.scope.$watch(\"stroke.opacity\",function(a){return function(b,c){var d;return b!==c&&null!=(d=a.gObject)?d.setOptions(a.buildOpts(a.gObject.getPath())):void 0}}(this),!0),b.isDefined(this.scope.icons)&&this.scope.$watch(\"icons\",function(a){return function(b,c){var d;return b!==c&&null!=(d=a.gObject)?d.setOptions(a.buildOpts(a.gObject.getPath())):void 0}}(this),!0),this.scope.$on(\"$destroy\",function(a){return function(){return a.clean(),a.scope=null}}(this)),b.isDefined(this.scope.fill)&&b.isDefined(this.scope.fill.color)&&this.scope.$watch(\"fill.color\",function(a){return function(b,c){return b!==c?a.gObject.setOptions(a.buildOpts(a.gObject.getPath())):void 0}}(this)),b.isDefined(this.scope.fill)&&b.isDefined(this.scope.fill.opacity)&&this.scope.$watch(\"fill.opacity\",function(a){return function(b,c){return b!==c?a.gObject.setOptions(a.buildOpts(a.gObject.getPath())):void 0}}(this)),b.isDefined(this.scope.zIndex)&&this.scope.$watch(\"zIndex\",function(a){return function(b,c){return b!==c?a.gObject.setOptions(a.buildOpts(a.gObject.getPath())):void 0}}(this))}return c(i,d),i.include(g),i.prototype.clean=function(){var a;return h.removeEvents(this.listeners),h.removeEvents(this.internalListeners),null!=(a=this.gObject)&&a.setMap(null),this.gObject=null},i}(d)}}])}.call(this),function(){b.module(\"uiGmapgoogle-maps.directives.api.models.child\").factory(\"uiGmapDrawFreeHandChildModel\",[\"uiGmapLogger\",\"$q\",function(a,b){var c,d;return c=function(a,b,c){var d,e;return e=new google.maps.Polyline({map:a,clickable:!1}),d=google.maps.event.addListener(a,\"mousemove\",function(a){return e.getPath().push(a.latLng)}),void google.maps.event.addListenerOnce(a,\"mouseup\",function(){var f;return google.maps.event.removeListener(d),f=e.getPath(),e.setMap(null),b.push(new google.maps.Polygon({map:a,path:f})),e=null,google.maps.event.clearListeners(a.getDiv(),\"mousedown\"),c()})},d=function(d,e){var f,g;return this.map=d,e||(e={draggable:!0,zoomControl:!0,scrollwheel:!0,disableDoubleClickZoom:!0}),g=function(a){return function(){var b;return null!=(b=a.deferred)&&b.resolve(),_.defer(function(){return a.map.setOptions(_.extend(a.oldOptions,e))})}}(this),f=function(b){return function(){return a.info(\"disabling map move\"),b.oldOptions=map.getOptions(),b.oldOptions.center=map.getCenter(),b.map.setOptions({draggable:!1,zoomControl:!1,scrollwheel:!1,disableDoubleClickZoom:!1})}}(this),this.engage=function(d){return function(e){return d.polys=e,d.deferred=b.defer(),f(),a.info(\"DrawFreeHandChildModel is engaged (drawing).\"),google.maps.event.addDomListener(d.map.getDiv(),\"mousedown\",function(){return c(d.map,d.polys,g)}),d.deferred.promise}}(this),this}}])}.call(this),function(){var a=function(a,b){return function(){return a.apply(b,arguments)}},c=function(a,b){function c(){this.constructor=a}for(var e in b)d.call(b,e)&&(a[e]=b[e]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},d={}.hasOwnProperty;b.module(\"uiGmapgoogle-maps.directives.api.models.child\").factory(\"uiGmapMarkerChildModel\",[\"uiGmapModelKey\",\"uiGmapGmapUtil\",\"uiGmapLogger\",\"uiGmapEventsHelper\",\"uiGmapPropertyAction\",\"uiGmapMarkerOptions\",\"uiGmapIMarker\",\"uiGmapMarkerManager\",\"uiGmapPromise\",function(b,d,e,f,g,h,i,j,k){var l;return l=function(b){function l(b,c,d,f,h,i,j,n,o,p){var q;this.model=c,this.keys=d,this.gMap=f,this.defaults=h,this.doClick=i,this.gManager=j,this.doDrawSelf=null!=n?n:!0,this.trackModel=null!=o?o:!0,this.needRedraw=null!=p?p:!1,this.internalEvents=a(this.internalEvents,this),this.setLabelOptions=a(this.setLabelOptions,this),this.setOptions=a(this.setOptions,this),this.setIcon=a(this.setIcon,this),this.setCoords=a(this.setCoords,this),this.isNotValid=a(this.isNotValid,this),this.maybeSetScopeValue=a(this.maybeSetScopeValue,this),this.createMarker=a(this.createMarker,this),this.setMyScope=a(this.setMyScope,this),this.updateModel=a(this.updateModel,this),this.handleModelChanges=a(this.handleModelChanges,this),this.destroy=a(this.destroy,this),this.clonedModel=_.extend({},this.model),this.deferred=k.defer(),_.each(this.keys,function(a){return function(b,c){return a[c+\"Key\"]=_.isFunction(a.keys[c])?a.keys[c]():a.keys[c]}}(this)),this.idKey=this.idKeyKey||\"id\",null!=this.model[this.idKey]&&(this.id=this.model[this.idKey]),l.__super__.constructor.call(this,b),this.scope.getGMarker=function(a){return function(){return a.gObject}}(this),this.firstTime=!0,this.trackModel?(this.scope.model=this.model,this.scope.$watch(\"model\",function(a){return function(b,c){return b!==c?a.handleModelChanges(b,c):void 0}}(this),!0)):(q=new g(function(a){return function(c){return a.firstTime?void 0:a.setMyScope(c,b)}}(this),!1),_.each(this.keys,function(a,c){return b.$watch(c,q.sic,!0)})),this.scope.$on(\"$destroy\",function(a){return function(){return m(a)}}(this)),this.createMarker(this.model),e.info(this)}var m;return c(l,b),l.include(d),l.include(f),l.include(h),m=function(a){return null!=(null!=a?a.gObject:void 0)&&(a.removeEvents(a.externalListeners),a.removeEvents(a.internalListeners),null!=a?a.gObject:void 0)?(a.removeFromManager&&a.gManager.remove(a.gObject),a.gObject.setMap(null),a.gObject=null):void 0},l.prototype.destroy=function(a){return null==a&&(a=!0),this.removeFromManager=a,this.scope.$destroy()},l.prototype.handleModelChanges=function(a,b){var c,d,e;return c=this.getChanges(a,b,i.keys),this.firstTime?void 0:(d=0,e=_.keys(c).length,_.each(c,function(c){return function(f,g){var h;return d+=1,h=e===d,c.setMyScope(g,a,b,!1,!0,h),c.needRedraw=!0}}(this)))},l.prototype.updateModel=function(a){return this.clonedModel=_.extend({},a),this.setMyScope(\"all\",a,this.model)},l.prototype.renderGMarker=function(a,b){var c;if(null==a&&(a=!0),c=this.getProp(this.coordsKey,this.model),null!=c){if(!this.validateCoords(c))return void e.debug(\"MarkerChild does not have coords yet. They may be defined later.\");if(null!=b&&b(),a&&this.gObject)return this.gManager.add(this.gObject)}else if(a&&this.gObject)return this.gManager.remove(this.gObject)},l.prototype.setMyScope=function(a,b,c,d,e){var f;switch(null==c&&(c=void 0),null==d&&(d=!1),null==e&&(e=!0),null==b?b=this.model:this.model=b,this.gObject||(this.setOptions(this.scope,e),f=!0),a){case\"all\":return _.each(this.keys,function(a){return function(f,g){return a.setMyScope(g,b,c,d,e)}}(this));case\"icon\":return this.maybeSetScopeValue(\"icon\",b,c,this.iconKey,this.evalModelHandle,d,this.setIcon,e);case\"coords\":return this.maybeSetScopeValue(\"coords\",b,c,this.coordsKey,this.evalModelHandle,d,this.setCoords,e);case\"options\":if(!f)return this.createMarker(b,c,d,e)}},l.prototype.createMarker=function(a,b,c,d){return null==b&&(b=void 0),null==c&&(c=!1),null==d&&(d=!0),this.maybeSetScopeValue(\"options\",a,b,this.optionsKey,this.evalModelHandle,c,this.setOptions,d),this.firstTime=!1},l.prototype.maybeSetScopeValue=function(a,b,c,d,e,f,g,h){return null==g&&(g=void 0),null==h&&(h=!0),null!=g?g(this.scope,h):void 0},l.doDrawSelf&&doDraw&&l.gManager.draw(),l.prototype.isNotValid=function(a,b){var c,d;return null==b&&(b=!0),d=b?void 0===this.gObject:!1,c=this.trackModel?!1:a.$id!==this.scope.$id,c||d},l.prototype.setCoords=function(a,b){return null==b&&(b=!0),this.isNotValid(a)||null==this.gObject?void 0:this.renderGMarker(b,function(a){return function(){var b,c,d;return c=a.getProp(a.coordsKey,a.model),b=a.getCoords(c),d=a.gObject.getPosition(),null==d||null==b||b.lng()!==d.lng()||b.lat()!==d.lat()?(a.gObject.setPosition(b),a.gObject.setVisible(a.validateCoords(c))):void 0}}(this))},l.prototype.setIcon=function(a,b){return null==b&&(b=!0),this.isNotValid(a)||null==this.gObject?void 0:this.renderGMarker(b,function(a){return function(){var b,c,d;return d=a.gObject.getIcon(),c=a.getProp(a.iconKey,a.model),d!==c?(a.gObject.setIcon(c),b=a.getProp(a.coordsKey,a.model),a.gObject.setPosition(a.getCoords(b)),a.gObject.setVisible(a.validateCoords(b))):void 0}}(this))},l.prototype.setOptions=function(a,b){var c;if(null==b&&(b=!0),!this.isNotValid(a,!1)){if(this.renderGMarker(b,function(a){return function(){var b,c,d;return c=a.getProp(a.coordsKey,a.model),d=a.getProp(a.iconKey,a.model),b=a.getProp(a.optionsKey,a.model),a.opts=a.createOptions(c,d,b),a.isLabel(a.gObject)!==a.isLabel(a.opts)&&null!=a.gObject&&(a.gManager.remove(a.gObject),a.gObject=void 0),null!=a.gObject&&a.gObject.setOptions(a.setLabelOptions(a.opts)),a.gObject||(a.gObject=a.isLabel(a.opts)?new MarkerWithLabel(a.setLabelOptions(a.opts)):new google.maps.Marker(a.opts),_.extend(a.gObject,{model:a.model})),a.externalListeners&&a.removeEvents(a.externalListeners),a.internalListeners&&a.removeEvents(a.internalListeners),a.externalListeners=a.setEvents(a.gObject,a.scope,a.model,[\"dragend\"]),a.internalListeners=a.setEvents(a.gObject,{events:a.internalEvents(),$evalAsync:function(){}},a.model),null!=a.id?a.gObject.key=a.id:void 0}}(this)),this.gObject&&(this.gObject.getMap()||this.gManager.type!==j.type))this.deferred.resolve(this.gObject);else{if(!this.gObject)return this.deferred.reject(\"gObject is null\");(null!=(c=this.gObject)?c.getMap():0)&&this.gManager.type===j.type||(e.debug(\"gObject has no map yet\"),this.deferred.resolve(this.gObject))}return this.model[this.fitKey]?this.gManager.fit():void 0}},l.prototype.setLabelOptions=function(a){return a.labelAnchor=this.getLabelPositionPoint(a.labelAnchor),a},l.prototype.internalEvents=function(){return{dragend:function(a){return function(b,c,d,e){var f,g,h;return g=a.trackModel?a.scope.model:a.model,h=a.setCoordsFromEvent(a.modelOrKey(g,a.coordsKey),a.gObject.getPosition()),g=a.setVal(d,a.coordsKey,h),f=a.scope.events,null!=(null!=f?f.dragend:void 0)&&f.dragend(b,c,g,e),a.scope.$apply()}}(this),click:function(a){return function(b,c,d,e){var f;return f=_.isFunction(a.clickKey)?a.clickKey:a.getProp(a.clickKey,a.model),a.doClick&&null!=f?a.scope.$evalAsync(f(b,c,a.model,e)):void 0}}(this)}},l}(b)}])}.call(this),function(){var a=function(a,b){function d(){this.constructor=a}for(var e in b)c.call(b,e)&&(a[e]=b[e]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a},c={}.hasOwnProperty;b.module(\"uiGmapgoogle-maps.directives.api\").factory(\"uiGmapPolygonChildModel\",[\"uiGmapBasePolyChildModel\",\"uiGmapPolygonOptionsBuilder\",function(b,c){var d,e,f;return f=function(a){return new google.maps.Polygon(a)},e=new b(c,f),d=function(b){function c(){return c.__super__.constructor.apply(this,arguments)}return a(c,b),c}(e)}])}.call(this),function(){var a=function(a,b){function d(){this.constructor=a}for(var e in b)c.call(b,e)&&(a[e]=b[e]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a},c={}.hasOwnProperty;b.module(\"uiGmapgoogle-maps.directives.api\").factory(\"uiGmapPolylineChildModel\",[\"uiGmapBasePolyChildModel\",\"uiGmapPolylineOptionsBuilder\",function(b,c){var d,e,f;return f=function(a){return new google.maps.Polyline(a)},e=b(c,f),d=function(b){function c(){return c.__super__.constructor.apply(this,arguments)}return a(c,b),c}(e)}])}.call(this),function(){var c=function(a,b){return function(){return a.apply(b,arguments)}},d=function(a,b){function c(){this.constructor=a}for(var d in b)e.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},e={}.hasOwnProperty;b.module(\"uiGmapgoogle-maps.directives.api.models.child\").factory(\"uiGmapWindowChildModel\",[\"uiGmapBaseObject\",\"uiGmapGmapUtil\",\"uiGmapLogger\",\"$compile\",\"$http\",\"$templateCache\",\"uiGmapChromeFixes\",\"uiGmapEventsHelper\",function(e,f,g,h,i,j,k,l){var m;return m=function(e){function m(a,b,d,e,f,h,i,j,k){var l;this.model=a,this.scope=b,this.opts=d,this.isIconVisibleOnClick=e,this.mapCtrl=f,this.markerScope=h,this.element=i,this.needToManualDestroy=null!=j?j:!1,this.markerIsVisibleAfterWindowClose=null!=k?k:!0,this.updateModel=c(this.updateModel,this),this.destroy=c(this.destroy,this),this.remove=c(this.remove,this),this.getLatestPosition=c(this.getLatestPosition,this),this.hideWindow=c(this.hideWindow,this),this.showWindow=c(this.showWindow,this),this.handleClick=c(this.handleClick,this),this.watchOptions=c(this.watchOptions,this),this.watchCoords=c(this.watchCoords,this),this.createGWin=c(this.createGWin,this),this.watchElement=c(this.watchElement,this),this.watchAndDoShow=c(this.watchAndDoShow,this),this.doShow=c(this.doShow,this),this.clonedModel=_.clone(this.model,!0),this.getGmarker=function(){var a,b;return null!=(null!=(a=this.markerScope)?a.getGMarker:void 0)&&null!=(b=this.markerScope)?b.getGMarker():void 0},this.listeners=[],this.createGWin(),l=this.getGmarker(),null!=l&&l.setClickable(!0),this.watchElement(),this.watchOptions(),this.watchCoords(),this.watchAndDoShow(),this.scope.$on(\"$destroy\",function(a){return function(){return a.destroy()}}(this)),g.info(this)}return d(m,e),m.include(f),m.include(l),m.prototype.doShow=function(a){return this.scope.show===!0||a?this.showWindow():this.hideWindow()},m.prototype.watchAndDoShow=function(){return null!=this.model.show&&(this.scope.show=this.model.show),this.scope.$watch(\"show\",this.doShow,!0),this.doShow()},m.prototype.watchElement=function(){return this.scope.$watch(function(a){return function(){var b,c;if(a.element||a.html)return a.html!==a.element.html()&&a.gObject?(null!=(b=a.opts)&&(b.content=void 0),c=a.gObject.isOpen(),a.remove(),a.createGWin(c)):void 0}}(this))},m.prototype.createGWin=function(b){var c,d,e,f,g;return null==b&&(b=!1),e=this.getGmarker(),d={},null!=this.opts&&(this.scope.coords&&(this.opts.position=this.getCoords(this.scope.coords)),d=this.opts),this.element&&(this.html=_.isObject(this.element)?this.element.html():this.element),c=this.scope.options?this.scope.options:d,this.opts=this.createWindowOptions(e,this.markerScope||this.scope,this.html,c),null!=this.opts?(this.gObject||(this.gObject=this.opts.boxClass&&a.InfoBox&&\"function\"==typeof a.InfoBox?new a.InfoBox(this.opts):new google.maps.InfoWindow(this.opts),this.listeners.push(google.maps.event.addListener(this.gObject,\"domready\",function(){return k.maybeRepaint(this.content)})),this.listeners.push(google.maps.event.addListener(this.gObject,\"closeclick\",function(a){return function(){return e&&(e.setAnimation(a.oldMarkerAnimation),a.markerIsVisibleAfterWindowClose&&_.delay(function(){return e.setVisible(!1),e.setVisible(a.markerIsVisibleAfterWindowClose)},250)),a.gObject.close(),a.model.show=!1,null!=a.scope.closeClick?a.scope.$evalAsync(a.scope.closeClick()):a.scope.$evalAsync()}}(this)))),this.gObject.setContent(this.opts.content),this.handleClick((null!=(f=this.scope)&&null!=(g=f.options)?g.forceClick:void 0)||b),this.doShow(this.gObject.isOpen())):void 0},m.prototype.watchCoords=function(){var a;return a=null!=this.markerScope?this.markerScope:this.scope,a.$watch(\"coords\",function(a){return function(b,c){var d;if(b!==c){if(null==b)a.hideWindow();else if(!a.validateCoords(b))return void g.error(\"WindowChildMarker cannot render marker as scope.coords as no position on marker: \"+JSON.stringify(a.model));if(d=a.getCoords(b),a.gObject.setPosition(d),a.opts)return a.opts.position=d}}}(this),!0)},m.prototype.watchOptions=function(){return this.scope.$watch(\"options\",function(a){return function(b,c){if(b!==c&&(a.opts=b,null!=a.gObject)){if(a.gObject.setOptions(a.opts),null!=a.opts.visible&&a.opts.visible)return a.showWindow();if(null!=a.opts.visible)return a.hideWindow()}}}(this),!0)},m.prototype.handleClick=function(a){var b,c;if(null!=this.gObject)return c=this.getGmarker(),b=function(a){return function(){return null==a.gObject&&a.createGWin(),a.showWindow(),null!=c?(a.initialMarkerVisibility=c.getVisible(),a.oldMarkerAnimation=c.getAnimation(),c.setVisible(a.isIconVisibleOnClick)):void 0}}(this),a&&b(),c?this.listeners=this.listeners.concat(this.setEvents(c,{events:{click:b}},this.model)):void 0},m.prototype.showWindow=function(){var a,c,d;return null!=this.gObject?(c=function(a){return function(){var b,c,d;if(!a.gObject.isOpen()){if(c=a.getGmarker(),null!=a.gObject&&null!=a.gObject.getPosition&&(d=a.gObject.getPosition()),c&&(d=c.getPosition()),!d)return;if(a.gObject.open(a.mapCtrl,c),b=a.gObject.isOpen(),a.model.show!==b)return a.model.show=b}}}(this),this.scope.templateUrl?i.get(this.scope.templateUrl,{cache:j}).then(function(a){return function(d){var e,f;return f=a.scope.$new(),b.isDefined(a.scope.templateParameter)&&(f.parameter=a.scope.templateParameter),e=h(d.data)(f),a.gObject.setContent(e[0]),c()}}(this)):this.scope.template?(d=this.scope.$new(),b.isDefined(this.scope.templateParameter)&&(d.parameter=this.scope.templateParameter),a=h(this.scope.template)(d),this.gObject.setContent(a[0]),c()):c()):void 0},m.prototype.hideWindow=function(){return null!=this.gObject&&this.gObject.isOpen()?this.gObject.close():void 0},m.prototype.getLatestPosition=function(a){var b;return b=this.getGmarker(),null==this.gObject||null==b||a?a?this.gObject.setPosition(a):void 0:this.gObject.setPosition(b.getPosition())},m.prototype.remove=function(){return this.hideWindow(),this.removeEvents(this.listeners),this.listeners.length=0,delete this.gObject,delete this.opts},m.prototype.destroy=function(a){var b;return null==a&&(a=!1),this.remove(),null==this.scope||(null!=(b=this.scope)?b.$$destroyed:void 0)||!this.needToManualDestroy&&!a?void 0:this.scope.$destroy()},m.prototype.updateModel=function(a){return this.clonedModel=_.extend({},a),_.extend(this.model,this.clonedModel)},m}(e)}])}.call(this),function(){var a=function(a,b){return function(){return a.apply(b,arguments)}},c=function(a,b){function c(){this.constructor=a}for(var e in b)d.call(b,e)&&(a[e]=b[e]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},d={}.hasOwnProperty;b.module(\"uiGmapgoogle-maps.directives.api.models.parent\").factory(\"uiGmapBasePolysParentModel\",[\"$timeout\",\"uiGmapLogger\",\"uiGmapModelKey\",\"uiGmapModelsWatcher\",\"uiGmapPropMap\",\"uiGmap_async\",\"uiGmapPromise\",function(d,e,f,g,h,i,j){return function(d,k,l){var m;return m=function(f){function m(b,c,f,g,i){this.element=c,this.attrs=f,this.gMap=g,this.defaults=i,this.createChild=a(this.createChild,this),this.pieceMeal=a(this.pieceMeal,this),this.createAllNew=a(this.createAllNew,this),this.watchIdKey=a(this.watchIdKey,this),this.createChildScopes=a(this.createChildScopes,this),this.watchDestroy=a(this.watchDestroy,this),this.onDestroy=a(this.onDestroy,this),this.rebuildAll=a(this.rebuildAll,this),this.doINeedToWipe=a(this.doINeedToWipe,this),this.watchModels=a(this.watchModels,this),m.__super__.constructor.call(this,b),this[\"interface\"]=d,this.$log=e,this.plurals=new h,_.each(d.scopeKeys,function(a){return function(b){return a[b+\"Key\"]=void 0}}(this)),this.models=void 0,this.firstTime=!0,this.$log.info(this),this.createChildScopes()}return c(m,f),m.include(g),m.prototype.watchModels=function(a){return a.$watchCollection(\"models\",function(b){return function(c,d){return c!==d?b.doINeedToWipe(c)||a.doRebuildAll?b.rebuildAll(a,!0,!0):b.createChildScopes(!1):void 0}}(this))},m.prototype.doINeedToWipe=function(a){var b;return b=null!=a?0===a.length:!0,this.plurals.length>0&&b},m.prototype.rebuildAll=function(a,b,c){return this.onDestroy(c).then(function(a){return function(){return b?a.createChildScopes():void 0}}(this))},m.prototype.onDestroy=function(){return m.__super__.onDestroy.call(this,this.scope),i.promiseLock(this,j.promiseTypes[\"delete\"],void 0,void 0,function(a){return function(){return i.each(a.plurals.values(),function(a){return a.destroy(!0)},i.chunkSizeFrom(a.scope.cleanchunk,!1)).then(function(){var b;return null!=(b=a.plurals)?b.removeAll():void 0})}}(this))},m.prototype.watchDestroy=function(a){return a.$on(\"$destroy\",function(b){return function(){return b.rebuildAll(a,!1,!0)}}(this))},m.prototype.createChildScopes=function(a){return null==a&&(a=!0),b.isUndefined(this.scope.models)?void this.$log.error(\"No models to create \"+l+\"s from! I Need direct models!\"):null!=this.gMap&&null!=this.scope.models?(this.watchIdKey(this.scope),a?this.createAllNew(this.scope,!1):this.pieceMeal(this.scope,!1)):void 0},m.prototype.watchIdKey=function(a){return this.setIdKey(a),a.$watch(\"idKey\",function(b){return function(c,d){return c!==d&&null==c?(b.idKey=c,b.rebuildAll(a,!0,!0)):void 0}}(this))},m.prototype.createAllNew=function(a,b){var c;return null==b&&(b=!1),this.models=a.models,this.firstTime&&(this.watchModels(a),this.watchDestroy(a)),this.didQueueInitPromise(this,a)?void 0:(c=null,i.promiseLock(this,j.promiseTypes.create,\"createAllNew\",function(a){return c=a},function(b){return function(){return i.each(a.models,function(a){var d;return d=b.createChild(a,b.gMap),c&&(e.debug(\"createNew should fall through safely\"),d.isEnabled=!1),c},i.chunkSizeFrom(a.chunk)).then(function(){return b.firstTime=!1})}}(this)))},m.prototype.pieceMeal=function(a,b){var c,d;return null==b&&(b=!0),a.$$destroyed?void 0:(c=null,d=null,this.models=a.models,null!=a&&this.modelsLength()&&this.plurals.length?i.promiseLock(this,j.promiseTypes.update,\"pieceMeal\",function(a){return c=a},function(b){return function(){return j.promise(function(){return b.figureOutState(b.idKey,a,b.plurals,b.modelKeyComparison)}).then(function(f){return d=f,d.updates.length&&e.info(\"polygons updates: \"+d.updates.length+\" will be missed\"),i.each(d.removals,function(a){return null!=a?(a.destroy(),b.plurals.remove(a.model[b.idKey]),c):void 0},i.chunkSizeFrom(a.chunk))}).then(function(){return i.each(d.adds,function(a){return c&&e.debug(\"pieceMeal should fall through safely\"),b.createChild(a,b.gMap),c},i.chunkSizeFrom(a.chunk))})}}(this)):(this.inProgress=!1,this.rebuildAll(this.scope,!0,!0)))},m.prototype.createChild=function(a,b){var c,e;return e=this.scope.$new(!1),this.setChildScope(d.scopeKeys,e,a),e.$watch(\"model\",function(a){return function(b,c){return b!==c?a.setChildScope(e,b):void 0}}(this),!0),e[\"static\"]=this.scope[\"static\"],c=new k(e,this.attrs,b,this.defaults,a),null==a[this.idKey]?void this.$log.error(l+\" model has no id to assign a child to.\\nThis is required for performance. Please assign id,\\nor redirect id to a different key.\"):(this.plurals.put(a[this.idKey],c),c)},m}(f)}}])}.call(this),function(){var a=function(a,b){function d(){this.constructor=a}for(var e in b)c.call(b,e)&&(a[e]=b[e]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a},c={}.hasOwnProperty;b.module(\"uiGmapgoogle-maps.directives.api.models.parent\").factory(\"uiGmapCircleParentModel\",[\"uiGmapLogger\",\"$timeout\",\"uiGmapGmapUtil\",\"uiGmapEventsHelper\",\"uiGmapCircleOptionsBuilder\",function(c,d,e,f,g){var h;return h=function(d){function g(a,d,f,g,h){var i,j,k;this.attrs=f,this.map=g,this.DEFAULTS=h,this.scope=a,k=null,i=function(a){return function(){return k=null,null!=a.listeners?(a.removeEvents(a.listeners),a.listeners=void 0):void 0}}(this),j=new google.maps.Circle(this.buildOpts(e.getCoords(a.center),a.radius)),this.setMyOptions=function(b){return function(c,d){return _.isEqual(c,d)?void 0:j.setOptions(b.buildOpts(e.getCoords(a.center),a.radius))}}(this),this.props=this.props.concat([{prop:\"center\",isColl:!0},{prop:\"fill\",isColl:!0},\"radius\",\"zIndex\"]),this.watchProps(),i(),this.listeners=this.setEvents(j,a,a,[\"radius_changed\"]),null!=this.listeners&&this.listeners.push(google.maps.event.addListener(j,\"radius_changed\",function(){var c,d;return c=j.getRadius(),c!==k?(k=c,d=function(){var b,d;return c!==a.radius&&(a.radius=c),(null!=(b=a.events)?b.radius_changed:void 0)&&_.isFunction(null!=(d=a.events)?d.radius_changed:void 0)?a.events.radius_changed(j,\"radius_changed\",a,arguments):void 0},b.mock?d():a.$evalAsync(function(){return d()})):void 0})),null!=this.listeners&&this.listeners.push(google.maps.event.addListener(j,\"center_changed\",function(){\nreturn a.$evalAsync(function(){return b.isDefined(a.center.type)?(a.center.coordinates[1]=j.getCenter().lat(),a.center.coordinates[0]=j.getCenter().lng()):(a.center.latitude=j.getCenter().lat(),a.center.longitude=j.getCenter().lng())})})),a.$on(\"$destroy\",function(){return function(){return i(),j.setMap(null)}}(this)),c.info(this)}return a(g,d),g.include(e),g.include(f),g}(g)}])}.call(this),function(){var a=function(a,b){function d(){this.constructor=a}for(var e in b)c.call(b,e)&&(a[e]=b[e]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a},c={}.hasOwnProperty;b.module(\"uiGmapgoogle-maps.directives.api.models.parent\").factory(\"uiGmapDrawingManagerParentModel\",[\"uiGmapLogger\",\"$timeout\",\"uiGmapBaseObject\",\"uiGmapEventsHelper\",function(b,c,d,e){var f;return f=function(b){function c(a,b,c,d){var e,f;this.scope=a,this.attrs=c,this.map=d,e=new google.maps.drawing.DrawingManager(this.scope.options),e.setMap(this.map),f=void 0,null!=this.scope.control&&(this.scope.control.getDrawingManager=function(){return e}),!this.scope[\"static\"]&&this.scope.options&&this.scope.$watch(\"options\",function(a){return null!=e?e.setOptions(a):void 0},!0),null!=this.scope.events&&(f=this.setEvents(e,this.scope,this.scope),this.scope.$watch(\"events\",function(a){return function(b,c){return _.isEqual(b,c)?void 0:(null!=f&&a.removeEvents(f),f=a.setEvents(e,a.scope,a.scope))}}(this))),this.scope.$on(\"$destroy\",function(a){return function(){return null!=f&&a.removeEvents(f),e.setMap(null),e=null}}(this))}return a(c,b),c.include(e),c}(d)}])}.call(this),function(){var a=function(a,b){return function(){return a.apply(b,arguments)}},c=function(a,b){function c(){this.constructor=a}for(var e in b)d.call(b,e)&&(a[e]=b[e]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},d={}.hasOwnProperty;b.module(\"uiGmapgoogle-maps.directives.api.models.parent\").factory(\"uiGmapIMarkerParentModel\",[\"uiGmapModelKey\",\"uiGmapLogger\",function(d,e){var f;return f=function(d){function f(c,d,g,h){if(this.scope=c,this.element=d,this.attrs=g,this.map=h,this.onWatch=a(this.onWatch,this),this.watch=a(this.watch,this),this.validateScope=a(this.validateScope,this),f.__super__.constructor.call(this,this.scope),this.$log=e,!this.validateScope(this.scope))throw new String(\"Unable to construct IMarkerParentModel due to invalid scope\");this.doClick=b.isDefined(this.attrs.click),null!=this.scope.options&&(this.DEFAULTS=this.scope.options),this.watch(\"coords\",this.scope),this.watch(\"icon\",this.scope),this.watch(\"options\",this.scope),this.scope.$on(\"$destroy\",function(a){return function(){return a.onDestroy(a.scope)}}(this))}return c(f,d),f.prototype.DEFAULTS={},f.prototype.validateScope=function(a){var b;return null==a?(this.$log.error(this.constructor.name+\": invalid scope used\"),!1):(b=null!=a.coords,b?b:(this.$log.error(this.constructor.name+\": no valid coords attribute found\"),!1))},f.prototype.watch=function(a,b,c){return null==c&&(c=!0),b.$watch(a,function(c){return function(d,e){return _.isEqual(d,e)?void 0:c.onWatch(a,b,d,e)}}(this),c)},f.prototype.onWatch=function(){},f}(d)}])}.call(this),function(){var a=function(a,b){function d(){this.constructor=a}for(var e in b)c.call(b,e)&&(a[e]=b[e]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a},c={}.hasOwnProperty;b.module(\"uiGmapgoogle-maps.directives.api.models.parent\").factory(\"uiGmapIWindowParentModel\",[\"uiGmapModelKey\",\"uiGmapGmapUtil\",\"uiGmapLogger\",function(b,c,d){var e;return e=function(b){function e(a,b,c,f,g,h,i,j){e.__super__.constructor.call(this,a),this.$log=d,this.$timeout=g,this.$compile=h,this.$http=i,this.$templateCache=j,this.DEFAULTS={},null!=a.options&&(this.DEFAULTS=a.options)}return a(e,b),e.include(c),e.prototype.getItem=function(a,b,c){return\"models\"===b?a[b][c]:a[b].get(c)},e}(b)}])}.call(this),function(){var a=function(a,b){return function(){return a.apply(b,arguments)}},c=function(a,b){function c(){this.constructor=a}for(var e in b)d.call(b,e)&&(a[e]=b[e]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},d={}.hasOwnProperty;b.module(\"uiGmapgoogle-maps.directives.api.models.parent\").factory(\"uiGmapLayerParentModel\",[\"uiGmapBaseObject\",\"uiGmapLogger\",\"$timeout\",function(d,e){var f;return f=function(d){function f(c,d,f,g,h,i){return this.scope=c,this.element=d,this.attrs=f,this.gMap=g,this.onLayerCreated=null!=h?h:void 0,this.$log=null!=i?i:e,this.createGoogleLayer=a(this.createGoogleLayer,this),null==this.attrs.type?void this.$log.info(\"type attribute for the layer directive is mandatory. Layer creation aborted!!\"):(this.createGoogleLayer(),this.doShow=!0,b.isDefined(this.attrs.show)&&(this.doShow=this.scope.show),this.doShow&&null!=this.gMap&&this.gObject.setMap(this.gMap),this.scope.$watch(\"show\",function(a){return function(b,c){return b!==c?(a.doShow=b,a.gObject.setMap(b?a.gMap:null)):void 0}}(this),!0),this.scope.$watch(\"options\",function(a){return function(b,c){return b!==c?(a.gObject.setMap(null),a.gObject=null,a.createGoogleLayer()):void 0}}(this),!0),void this.scope.$on(\"$destroy\",function(a){return function(){return a.gObject.setMap(null)}}(this)))}return c(f,d),f.prototype.createGoogleLayer=function(){var a;return this.gObject=null==this.attrs.options?void 0===this.attrs.namespace?new google.maps[this.attrs.type]:new google.maps[this.attrs.namespace][this.attrs.type]:void 0===this.attrs.namespace?new google.maps[this.attrs.type](this.scope.options):new google.maps[this.attrs.namespace][this.attrs.type](this.scope.options),null!=this.gObject&&null!=this.onLayerCreated&&\"function\"==typeof(a=this.onLayerCreated(this.scope,this.gObject))?a(this.gObject):void 0},f}(d)}])}.call(this),function(){var a=function(a,b){return function(){return a.apply(b,arguments)}},c=function(a,b){function c(){this.constructor=a}for(var e in b)d.call(b,e)&&(a[e]=b[e]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},d={}.hasOwnProperty;b.module(\"uiGmapgoogle-maps.directives.api.models.parent\").factory(\"uiGmapMapTypeParentModel\",[\"uiGmapBaseObject\",\"uiGmapLogger\",function(d,e){var f;return f=function(d){function f(c,d,f,g,h){return this.scope=c,this.element=d,this.attrs=f,this.gMap=g,this.$log=null!=h?h:e,this.hideOverlay=a(this.hideOverlay,this),this.showOverlay=a(this.showOverlay,this),this.refreshMapType=a(this.refreshMapType,this),this.createMapType=a(this.createMapType,this),null==this.attrs.options?void this.$log.info(\"options attribute for the map-type directive is mandatory. Map type creation aborted!!\"):(this.id=this.gMap.overlayMapTypesCount=this.gMap.overlayMapTypesCount+1||0,this.doShow=!0,this.createMapType(),b.isDefined(this.attrs.show)&&(this.doShow=this.scope.show),this.doShow&&null!=this.gMap&&this.showOverlay(),this.scope.$watch(\"show\",function(a){return function(b,c){return b!==c?(a.doShow=b,b?a.showOverlay():a.hideOverlay()):void 0}}(this),!0),this.scope.$watch(\"options\",function(a){return function(b,c){return _.isEqual(b,c)?void 0:a.refreshMapType()}}(this),!0),b.isDefined(this.attrs.refresh)&&this.scope.$watch(\"refresh\",function(a){return function(b,c){return _.isEqual(b,c)?void 0:a.refreshMapType()}}(this),!0),void this.scope.$on(\"$destroy\",function(a){return function(){return a.hideOverlay(),a.mapType=null}}(this)))}return c(f,d),f.prototype.createMapType=function(){if(null!=this.scope.options.getTile)this.mapType=this.scope.options;else{if(null==this.scope.options.getTileUrl)return void this.$log.info(\"options should provide either getTile or getTileUrl methods. Map type creation aborted!!\");this.mapType=new google.maps.ImageMapType(this.scope.options)}return this.attrs.id&&this.scope.id&&(this.gMap.mapTypes.set(this.scope.id,this.mapType),b.isDefined(this.attrs.show)||(this.doShow=!1)),this.mapType.layerId=this.id},f.prototype.refreshMapType=function(){return this.hideOverlay(),this.mapType=null,this.createMapType(),this.doShow&&null!=this.gMap?this.showOverlay():void 0},f.prototype.showOverlay=function(){return this.gMap.overlayMapTypes.push(this.mapType)},f.prototype.hideOverlay=function(){var a;return a=!1,this.gMap.overlayMapTypes.forEach(function(b){return function(c,d){a||c.layerId!==b.id||(a=!0,b.gMap.overlayMapTypes.removeAt(d))}}(this))},f}(d)}])}.call(this),function(){var a=function(a,b){return function(){return a.apply(b,arguments)}},c=function(a,b){function c(){this.constructor=a}for(var e in b)d.call(b,e)&&(a[e]=b[e]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},d={}.hasOwnProperty;b.module(\"uiGmapgoogle-maps.directives.api.models.parent\").factory(\"uiGmapMarkersParentModel\",[\"uiGmapIMarkerParentModel\",\"uiGmapModelsWatcher\",\"uiGmapPropMap\",\"uiGmapMarkerChildModel\",\"uiGmap_async\",\"uiGmapClustererMarkerManager\",\"uiGmapMarkerManager\",\"$timeout\",\"uiGmapIMarker\",\"uiGmapPromise\",\"uiGmapGmapUtil\",\"uiGmapLogger\",function(d,e,f,g,h,i,j,k,l,m,n){var o,p;return p=function(a,b){return b.plurals=new f,b.scope.plurals=b.plurals,b},o=function(d){function k(b,c,d,e){this.onDestroy=a(this.onDestroy,this),this.newChildMarker=a(this.newChildMarker,this),this.pieceMeal=a(this.pieceMeal,this),this.rebuildAll=a(this.rebuildAll,this),this.createAllNew=a(this.createAllNew,this),this.createChildScopes=a(this.createChildScopes,this),this.validateScope=a(this.validateScope,this),this.onWatch=a(this.onWatch,this);var g;k.__super__.constructor.call(this,b,c,d,e),this[\"interface\"]=l,g=this,p(new f,this),this.scope.pluralsUpdate={updateCtr:0},this.$log.info(this),this.doRebuildAll=null!=this.scope.doRebuildAll?this.scope.doRebuildAll:!1,this.setIdKey(this.scope),this.scope.$watch(\"doRebuildAll\",function(a){return function(b,c){return b!==c?a.doRebuildAll=b:void 0}}(this)),this.modelsLength()||(this.modelsRendered=!1),this.scope.$watch(\"models\",function(a){return function(b,c){if(!_.isEqual(b,c)||!a.modelsRendered){if(0===b.length&&0===c.length)return;return a.modelsRendered=!0,a.onWatch(\"models\",a.scope,b,c)}}}(this),!this.isTrue(d.modelsbyref)),this.watch(\"doCluster\",this.scope),this.watch(\"clusterOptions\",this.scope),this.watch(\"clusterEvents\",this.scope),this.watch(\"fit\",this.scope),this.watch(\"idKey\",this.scope),this.gManager=void 0,this.createAllNew(this.scope)}return c(k,d),k.include(n),k.include(e),k.prototype.onWatch=function(a,b,c,d){return\"idKey\"===a&&c!==d&&(this.idKey=c),this.doRebuildAll||\"doCluster\"===a?this.rebuildAll(b):this.pieceMeal(b)},k.prototype.validateScope=function(a){var c;return c=b.isUndefined(a.models)||void 0===a.models,c&&this.$log.error(this.constructor.name+\": no valid models attribute found\"),k.__super__.validateScope.call(this,a)||c},k.prototype.createChildScopes=function(a){return null!=this.gMap&&null!=this.scope.models?a?this.createAllNew(this.scope,!1):this.pieceMeal(this.scope,!1):void 0},k.prototype.createAllNew=function(a){var c,d,e,f,g;return null!=this.gManager&&(this.gManager.clear(),delete this.gManager),a.doCluster?(a.clusterEvents&&(g=this,this.origClusterEvents?b.extend(a.clusterEvents,this.origClusterEvents):this.origClusterEvents={click:null!=(d=a.clusterEvents)?d.click:void 0,mouseout:null!=(e=a.clusterEvents)?e.mouseout:void 0,mouseover:null!=(f=a.clusterEvents)?f.mouseover:void 0},b.extend(a.clusterEvents,{click:function(a){return g.maybeExecMappedEvent(a,\"click\")},mouseout:function(a){return g.maybeExecMappedEvent(a,\"mouseout\")},mouseover:function(a){return g.maybeExecMappedEvent(a,\"mouseover\")}})),this.gManager=new i(this.map,void 0,a.clusterOptions,a.clusterEvents)):this.gManager=new j(this.map),this.didQueueInitPromise(this,a)?void 0:(c=null,h.promiseLock(this,m.promiseTypes.create,\"createAllNew\",function(a){return c=a},function(b){return function(){return h.each(a.models,function(d){return b.newChildMarker(d,a),c},h.chunkSizeFrom(a.chunk)).then(function(){return b.modelsRendered=!0,a.fit&&b.gManager.fit(),b.gManager.draw(),b.scope.pluralsUpdate.updateCtr+=1},h.chunkSizeFrom(a.chunk))}}(this)))},k.prototype.rebuildAll=function(a){var b;if(a.doRebuild||void 0===a.doRebuild)return(null!=(b=this.scope.plurals)?b.length:void 0)?this.onDestroy(a).then(function(b){return function(){return b.createAllNew(a)}}(this)):this.createAllNew(a)},k.prototype.pieceMeal=function(a){var b,c;if(!a.$$destroyed)return b=null,c=null,this.modelsLength()&&this.scope.plurals.length?h.promiseLock(this,m.promiseTypes.update,\"pieceMeal\",function(a){return b=a},function(d){return function(){return m.promise(function(){return d.figureOutState(d.idKey,a,d.scope.plurals,d.modelKeyComparison)}).then(function(e){return c=e,h.each(c.removals,function(a){return null!=a?(null!=a.destroy&&a.destroy(),d.scope.plurals.remove(a.id),b):void 0},h.chunkSizeFrom(a.chunk))}).then(function(){return h.each(c.adds,function(c){return d.newChildMarker(c,a),b},h.chunkSizeFrom(a.chunk))}).then(function(){return h.each(c.updates,function(a){return d.updateChild(a.child,a.model),b},h.chunkSizeFrom(a.chunk))}).then(function(){return(c.adds.length>0||c.removals.length>0||c.updates.length>0)&&(a.plurals=d.scope.plurals,a.fit&&d.gManager.fit(),d.gManager.draw()),d.scope.pluralsUpdate.updateCtr+=1})}}(this)):(this.inProgress=!1,this.rebuildAll(a))},k.prototype.newChildMarker=function(a,b){var c,d,e,f;return null==a[this.idKey]?void this.$log.error(\"Marker model has no id to assign a child to. This is required for performance. Please assign id, or redirect id to a different key.\"):(this.$log.info(\"child\",c,\"markers\",this.scope.plurals),d=b.$new(!0),d.events=b.events,f={},l.scopeKeys.forEach(function(a){return f[a]=b[a]}),c=new g(d,a,f,this.map,this.DEFAULTS,this.doClick,this.gManager,e=!1),this.scope.plurals.put(a[this.idKey],c),c)},k.prototype.onDestroy=function(a){return k.__super__.onDestroy.call(this,a),h.promiseLock(this,m.promiseTypes[\"delete\"],void 0,void 0,function(a){return function(){return h.each(a.scope.plurals.values(),function(a){return null!=a?a.destroy(!1):void 0},h.chunkSizeFrom(a.scope.cleanchunk,!1)).then(function(){return null!=a.gManager&&a.gManager.clear(),a.plurals.removeAll(),a.plurals!==a.scope.plurals&&console.error(\"plurals out of sync for MarkersParentModel\"),a.scope.pluralsUpdate.updateCtr+=1})}}(this))},k.prototype.maybeExecMappedEvent=function(a,b){var c,d;return _.isFunction(null!=(d=this.scope.clusterEvents)?d[b]:void 0)&&(c=this.mapClusterToPlurals(a),this.origClusterEvents[b])?this.origClusterEvents[b](c.cluster,c.mapped):void 0},k.prototype.mapClusterToPlurals=function(a){var b;return b=a.getMarkers().map(function(a){return function(b){return a.scope.plurals.get(b.key).model}}(this)),{cluster:a,mapped:b}},k.prototype.getItem=function(a,b,c){return\"models\"===b?a[b][c]:a[b].get(c)},k}(d)}])}.call(this),function(){[\"Polygon\",\"Polyline\"].forEach(function(a){return b.module(\"uiGmapgoogle-maps.directives.api.models.parent\").factory(\"uiGmap\"+a+\"sParentModel\",[\"uiGmapBasePolysParentModel\",\"uiGmap\"+a+\"ChildModel\",\"uiGmapI\"+a,function(b,c,d){return b(d,c,a)}])})}.call(this),function(){var a=function(a,b){function d(){this.constructor=a}for(var e in b)c.call(b,e)&&(a[e]=b[e]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a},c={}.hasOwnProperty;b.module(\"uiGmapgoogle-maps.directives.api.models.parent\").factory(\"uiGmapRectangleParentModel\",[\"uiGmapLogger\",\"uiGmapGmapUtil\",\"uiGmapEventsHelper\",\"uiGmapRectangleOptionsBuilder\",function(b,c,d,e){var f;return f=function(e){function f(a,c,d,e,f){var g,h,i,j,k,l,m,n,o,p,q;this.scope=a,this.attrs=d,this.map=e,this.DEFAULTS=f,g=void 0,j=!1,o=[],n=void 0,k=function(a){return function(){return a.isTrue(a.attrs.fit)?a.fitMapBounds(a.map,g):void 0}}(this),i=function(a){return function(){var c,d,e;return null!=a.scope.bounds&&null!=(null!=(c=a.scope.bounds)?c.sw:void 0)&&null!=(null!=(d=a.scope.bounds)?d.ne:void 0)&&a.validateBoundPoints(a.scope.bounds)?(g=a.convertBoundPoints(a.scope.bounds),b.info(\"new new bounds created: \"+JSON.stringify(g))):null!=a.scope.bounds.getNorthEast&&null!=a.scope.bounds.getSouthWest?g=a.scope.bounds:null!=a.scope.bounds?b.error(\"Invalid bounds for newValue: \"+JSON.stringify(null!=(e=a.scope)?e.bounds:void 0)):void 0}}(this),i(),l=new google.maps.Rectangle(this.buildOpts(g)),b.info(\"gObject (rectangle) created: \"+l),p=!1,q=function(a){return function(){var b,c,d;return b=l.getBounds(),c=b.getNorthEast(),d=b.getSouthWest(),p?void 0:a.scope.$evalAsync(function(a){return null!=a.bounds&&null!=a.bounds.sw&&null!=a.bounds.ne&&(a.bounds.ne={latitude:c.lat(),longitude:c.lng()},a.bounds.sw={latitude:d.lat(),longitude:d.lng()}),null!=a.bounds.getNorthEast&&null!=a.bounds.getSouthWest?a.bounds=b:void 0})}}(this),m=function(a){return function(){return k(),a.removeEvents(o),o.push(google.maps.event.addListener(l,\"dragstart\",function(){return j=!0})),o.push(google.maps.event.addListener(l,\"dragend\",function(){return j=!1,q()})),o.push(google.maps.event.addListener(l,\"bounds_changed\",function(){return j?void 0:q()}))}}(this),h=function(a){return function(){return a.removeEvents(o),null!=n&&a.removeEvents(n),l.setMap(null)}}(this),null!=g&&m(),this.scope.$watch(\"bounds\",function(a,b){var c;if(!(_.isEqual(a,b)&&null!=g||j))return p=!0,null==a?void h():(null==g?c=!0:k(),i(),l.setBounds(g),p=!1,c&&null!=g?m():void 0)},!0),this.setMyOptions=function(a){return function(b,c){return _.isEqual(b,c)||null==g||null==b?void 0:l.setOptions(a.buildOpts(g))}}(this),this.props.push(\"bounds\"),this.watchProps(this.props),null!=this.attrs.events&&(n=this.setEvents(l,this.scope,this.scope),this.scope.$watch(\"events\",function(a){return function(b,c){return _.isEqual(b,c)?void 0:(null!=n&&a.removeEvents(n),n=a.setEvents(l,a.scope,a.scope))}}(this))),this.scope.$on(\"$destroy\",function(){return function(){return h()}}(this)),b.info(this)}return a(f,e),f.include(c),f.include(d),f}(e)}])}.call(this),function(){var a=function(a,b){return function(){return a.apply(b,arguments)}},c=function(a,b){function c(){this.constructor=a}for(var e in b)d.call(b,e)&&(a[e]=b[e]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},d={}.hasOwnProperty;b.module(\"uiGmapgoogle-maps.directives.api.models.parent\").factory(\"uiGmapSearchBoxParentModel\",[\"uiGmapBaseObject\",\"uiGmapLogger\",\"uiGmapEventsHelper\",\"$timeout\",\"$http\",\"$templateCache\",function(d,e,f){var g;return g=function(d){function g(c,d,f,g,h,i,j){var k;return this.scope=c,this.element=d,this.attrs=f,this.gMap=g,this.ctrlPosition=h,this.template=i,this.$log=null!=j?j:e,this.setVisibility=a(this.setVisibility,this),this.getBounds=a(this.getBounds,this),this.setBounds=a(this.setBounds,this),this.createSearchBox=a(this.createSearchBox,this),this.addToParentDiv=a(this.addToParentDiv,this),this.addAsMapControl=a(this.addAsMapControl,this),this.init=a(this.init,this),null==this.attrs.template?void this.$log.error(\"template attribute for the search-box directive is mandatory. Places Search Box creation aborted!!\"):(b.isUndefined(this.scope.options)&&(this.scope.options={},this.scope.options.visible=!0),b.isUndefined(this.scope.options.visible)&&(this.scope.options.visible=!0),b.isUndefined(this.scope.options.autocomplete)&&(this.scope.options.autocomplete=!1),this.visible=this.scope.options.visible,this.autocomplete=this.scope.options.autocomplete,k=b.element(\"<div></div>\"),k.append(this.template),this.input=k.find(\"input\")[0],void this.init())}return c(g,d),g.include(f),g.prototype.init=function(){return this.createSearchBox(),this.scope.$watch(\"options\",function(a){return function(c){return b.isObject(c)&&(null!=c.bounds&&a.setBounds(c.bounds),null!=c.visible&&a.visible!==c.visible)?a.setVisibility(c.visible):void 0}}(this),!0),null!=this.attrs.parentdiv?this.addToParentDiv():this.addAsMapControl(),this.listener=this.autocomplete?google.maps.event.addListener(this.gObject,\"place_changed\",function(a){return function(){return a.places=a.gObject.getPlace()}}(this)):google.maps.event.addListener(this.gObject,\"places_changed\",function(a){return function(){return a.places=a.gObject.getPlaces()}}(this)),this.listeners=this.setEvents(this.gObject,this.scope,this.scope),this.$log.info(this),this.scope.$on(\"$destroy\",function(a){return function(){return a.gObject=null}}(this))},g.prototype.addAsMapControl=function(){return this.gMap.controls[google.maps.ControlPosition[this.ctrlPosition]].push(this.input)},g.prototype.addToParentDiv=function(){return this.parentDiv=b.element(document.getElementById(this.scope.parentdiv)),this.parentDiv.append(this.input)},g.prototype.createSearchBox=function(){return this.gObject=this.autocomplete?new google.maps.places.Autocomplete(this.input,this.scope.options):new google.maps.places.SearchBox(this.input,this.scope.options)},g.prototype.setBounds=function(a){if(b.isUndefined(a.isEmpty))this.$log.error(\"Error: SearchBoxParentModel setBounds. Bounds not an instance of LatLngBounds.\");else if(a.isEmpty()===!1&&null!=this.gObject)return this.gObject.setBounds(a)},g.prototype.getBounds=function(){return this.gObject.getBounds()},g.prototype.setVisibility=function(a){return null!=this.attrs.parentdiv?a===!1?this.parentDiv.addClass(\"ng-hide\"):this.parentDiv.removeClass(\"ng-hide\"):a===!1?this.gMap.controls[google.maps.ControlPosition[this.ctrlPosition]].clear():this.gMap.controls[google.maps.ControlPosition[this.ctrlPosition]].push(this.input),this.visible=a},g}(d)}])}.call(this),function(){var a=function(a,b){return function(){return a.apply(b,arguments)}},c=function(a,b){function c(){this.constructor=a}for(var e in b)d.call(b,e)&&(a[e]=b[e]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},d={}.hasOwnProperty;b.module(\"uiGmapgoogle-maps.directives.api.models.parent\").factory(\"uiGmapWindowsParentModel\",[\"uiGmapIWindowParentModel\",\"uiGmapModelsWatcher\",\"uiGmapPropMap\",\"uiGmapWindowChildModel\",\"uiGmapLinked\",\"uiGmap_async\",\"uiGmapLogger\",\"$timeout\",\"$compile\",\"$http\",\"$templateCache\",\"$interpolate\",\"uiGmapPromise\",\"uiGmapIWindow\",\"uiGmapGmapUtil\",function(d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){var s;return s=function(d){function s(b,c,d,e,g,i){this.gMap=g,this.markersScope=i,this.modelKeyComparison=a(this.modelKeyComparison,this),this.interpolateContent=a(this.interpolateContent,this),this.setChildScope=a(this.setChildScope,this),this.createWindow=a(this.createWindow,this),this.setContentKeys=a(this.setContentKeys,this),this.pieceMeal=a(this.pieceMeal,this),this.createAllNew=a(this.createAllNew,this),this.watchIdKey=a(this.watchIdKey,this),this.createChildScopes=a(this.createChildScopes,this),this.watchOurScope=a(this.watchOurScope,this),this.watchDestroy=a(this.watchDestroy,this),this.onDestroy=a(this.onDestroy,this),this.rebuildAll=a(this.rebuildAll,this),this.doINeedToWipe=a(this.doINeedToWipe,this),this.watchModels=a(this.watchModels,this),this.go=a(this.go,this),s.__super__.constructor.call(this,b,c,d,e,k,l,m,n),this[\"interface\"]=q,this.plurals=new f,_.each(q.scopeKeys,function(a){return function(b){return a[b+\"Key\"]=void 0}}(this)),this.linked=new h(b,c,d,e),this.contentKeys=void 0,this.isIconVisibleOnClick=void 0,this.firstTime=!0,this.firstWatchModels=!0,this.$log.info(self),this.parentScope=void 0,this.go(b)}return c(s,d),s.include(e),s.prototype.go=function(a){return this.watchOurScope(a),this.doRebuildAll=null!=this.scope.doRebuildAll?this.scope.doRebuildAll:!1,a.$watch(\"doRebuildAll\",function(a){return function(b,c){return b!==c?a.doRebuildAll=b:void 0}}(this)),this.createChildScopes()},s.prototype.watchModels=function(a){var b;return b=null!=this.markersScope?\"pluralsUpdate\":\"models\",a.$watch(b,function(b){return function(c,d){var e;return!_.isEqual(c,d)||b.firstWatchModels?(b.firstWatchModels=!1,b.doRebuildAll||b.doINeedToWipe(a.models)?b.rebuildAll(a,!0,!0):(e=0===b.plurals.length,null!=b.existingPieces?_.last(b.existingPieces._content).then(function(){return b.createChildScopes(e)}):b.createChildScopes(e))):void 0}}(this),!0)},s.prototype.doINeedToWipe=function(a){var b;return b=null!=a?0===a.length:!0,this.plurals.length>0&&b},s.prototype.rebuildAll=function(a,b,c){return this.onDestroy(c).then(function(a){return function(){return b?a.createChildScopes():void 0}}(this))},s.prototype.onDestroy=function(){return s.__super__.onDestroy.call(this,this.scope),i.promiseLock(this,p.promiseTypes[\"delete\"],void 0,void 0,function(a){return function(){return i.each(a.plurals.values(),function(a){return a.destroy()},i.chunkSizeFrom(a.scope.cleanchunk,!1)).then(function(){var b;return null!=(b=a.plurals)?b.removeAll():void 0})}}(this))},s.prototype.watchDestroy=function(a){return a.$on(\"$destroy\",function(b){return function(){return b.firstWatchModels=!0,b.firstTime=!0,b.rebuildAll(a,!1,!0)}}(this))},s.prototype.watchOurScope=function(a){return _.each(q.scopeKeys,function(b){return function(c){var d;return d=c+\"Key\",b[d]=\"function\"==typeof a[c]?a[c]():a[c]}}(this))},s.prototype.createChildScopes=function(a){var c,d,e;return null==a&&(a=!0),this.isIconVisibleOnClick=!0,b.isDefined(this.linked.attrs.isiconvisibleonclick)&&(this.isIconVisibleOnClick=this.linked.scope.isIconVisibleOnClick),c=b.isUndefined(this.linked.scope.models),!c||void 0!==this.markersScope&&void 0!==(null!=(d=this.markersScope)?d.plurals:void 0)&&void 0!==(null!=(e=this.markersScope)?e.models:void 0)?null!=this.gMap?null!=this.linked.scope.models?(this.watchIdKey(this.linked.scope),a?this.createAllNew(this.linked.scope,!1):this.pieceMeal(this.linked.scope,!1)):(this.parentScope=this.markersScope,this.watchIdKey(this.parentScope),a?this.createAllNew(this.markersScope,!0,\"plurals\",!1):this.pieceMeal(this.markersScope,!0,\"plurals\",!1)):void 0:void this.$log.error(\"No models to create windows from! Need direct models or models derived from markers!\")},s.prototype.watchIdKey=function(a){return this.setIdKey(a),a.$watch(\"idKey\",function(b){return function(c,d){return c!==d&&null==c?(b.idKey=c,b.rebuildAll(a,!0,!0)):void 0}}(this))},s.prototype.createAllNew=function(a,b,c,d){var e;return null==c&&(c=\"models\"),null==d&&(d=!1),this.firstTime&&(this.watchModels(a),this.watchDestroy(a)),this.setContentKeys(a.models),this.didQueueInitPromise(this,a)?void 0:(e=null,i.promiseLock(this,p.promiseTypes.create,\"createAllNew\",function(a){return e=a},function(d){return function(){return i.each(a.models,function(f){var g,h;return g=b&&null!=(h=d.getItem(a,c,f[d.idKey]))?h.gObject:void 0,e||(!g&&d.markersScope&&j.error(\"Unable to get gMarker from markersScope!\"),d.createWindow(f,g,d.gMap)),e},i.chunkSizeFrom(a.chunk)).then(function(){return d.firstTime=!1})}}(this)))},s.prototype.pieceMeal=function(a,b,c,d){var e,f;return null==c&&(c=\"models\"),null==d&&(d=!0),a.$$destroyed?void 0:(e=null,f=null,null!=a&&this.modelsLength()&&this.plurals.length?i.promiseLock(this,p.promiseTypes.update,\"pieceMeal\",function(a){return e=a},function(b){return function(){return p.promise(function(){return b.figureOutState(b.idKey,a,b.plurals,b.modelKeyComparison)}).then(function(c){return f=c,i.each(f.removals,function(a){return null!=a?(b.plurals.remove(a.id),null!=a.destroy&&a.destroy(!0),e):void 0},i.chunkSizeFrom(a.chunk))}).then(function(){return i.each(f.adds,function(d){var f,g;if(f=null!=(g=b.getItem(a,c,d[b.idKey]))?g.gObject:void 0,!f)throw\"Gmarker undefined\";return b.createWindow(d,f,b.gMap),e})}).then(function(){return i.each(f.updates,function(a){return b.updateChild(a.child,a.model),e},i.chunkSizeFrom(a.chunk))})}}(this)):(j.debug(\"pieceMeal: rebuildAll\"),this.rebuildAll(this.scope,!0,!0)))},s.prototype.setContentKeys=function(a){return this.modelsLength(a)?this.contentKeys=Object.keys(a[0]):void 0},s.prototype.createWindow=function(a,b,c){var d,e,f,h,i,j;return e=this.linked.scope.$new(!1),this.setChildScope(e,a),e.$watch(\"model\",function(a){return function(b,c){return b!==c?a.setChildScope(e,b):void 0}}(this),!0),f={html:function(b){return function(){return b.interpolateContent(b.linked.element.html(),a)}}(this)},this.DEFAULTS=this.scopeOrModelVal(this.optionsKey,this.scope,a)||{},h=this.createWindowOptions(b,e,f.html(),this.DEFAULTS),d=new g(a,e,h,this.isIconVisibleOnClick,c,null!=(i=this.markersScope)&&null!=(j=i.plurals.get(a[this.idKey]))?j.scope:void 0,f,!1,!0),null==a[this.idKey]?void this.$log.error(\"Window model has no id to assign a child to. This is required for performance. Please assign id, or redirect id to a different key.\"):(this.plurals.put(a[this.idKey],d),d)},s.prototype.setChildScope=function(a,b){return _.each(q.scopeKeys,function(c){return function(d){var e,f;return e=d+\"Key\",f=\"self\"===c[e]?b:b[c[e]],f!==a[d]?a[d]=f:void 0}}(this)),a.model=b},s.prototype.interpolateContent=function(a,b){var c,d,e,f,g,h;if(void 0!==this.contentKeys&&0!==this.contentKeys.length){for(c=o(a),e={},h=this.contentKeys,d=0,g=h.length;g>d;d++)f=h[d],e[f]=b[f];return c(e)}},s.prototype.modelKeyComparison=function(a,b){var c,d;if(d=null!=this.scope.coords?this.scope:this.parentScope,null==d)throw\"No scope or parentScope set!\";return(c=r.equalCoords(this.evalModelHandle(a,d.coords),this.evalModelHandle(b,d.coords)))?c=_.every(_.without(this[\"interface\"].scopeKeys,\"coords\"),function(c){return function(e){return c.evalModelHandle(a,d[e])===c.evalModelHandle(b,d[e])}}(this)):c},s}(d)}])}.call(this),function(){b.module(\"uiGmapgoogle-maps.directives.api\").factory(\"uiGmapCircle\",[\"uiGmapICircle\",\"uiGmapCircleParentModel\",function(a,b){return _.extend(a,{link:function(a,c,d,e){return e.getScope().deferred.promise.then(function(){return function(e){return new b(a,c,d,e)}}(this))}})}])}.call(this),function(){var a=function(a,b){return function(){return a.apply(b,arguments)}},c=function(a,b){function c(){this.constructor=a}for(var e in b)d.call(b,e)&&(a[e]=b[e]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},d={}.hasOwnProperty;b.module(\"uiGmapgoogle-maps.directives.api\").factory(\"uiGmapControl\",[\"uiGmapIControl\",\"$http\",\"$templateCache\",\"$compile\",\"$controller\",\"uiGmapGoogleMapApi\",function(d,e,f,g,h,i){var j;return j=function(j){function k(){this.link=a(this.link,this),k.__super__.constructor.call(this)}return c(k,j),k.prototype.link=function(a,c,j,k){return i.then(function(c){return function(i){var j,l;return b.isUndefined(a.template)?void c.$log.error(\"mapControl: could not find a valid template property\"):(j=b.isDefined(a.index&&!isNaN(parseInt(a.index)))?parseInt(a.index):void 0,l=b.isDefined(a.position)?a.position.toUpperCase().replace(/-/g,\"_\"):\"TOP_CENTER\",i.ControlPosition[l]?d.mapPromise(a,k).then(function(d){var i,k;return i=void 0,k=b.element(\"<div></div>\"),e.get(a.template,{cache:f}).success(function(c){var d,e;return e=a.$new(),k.append(c),b.isDefined(a.controller)&&(d=h(a.controller,{$scope:e}),k.children().data(\"$ngControllerController\",d)),i=g(k.children())(e),j?i[0].index=j:void 0}).error(function(){return c.$log.error(\"mapControl: template could not be found\")}).then(function(){return d.controls[google.maps.ControlPosition[l]].push(i[0])})}):void c.$log.error(\"mapControl: invalid position property\"))}}(this))},k}(d)}])}.call(this),function(){b.module(\"uiGmapgoogle-maps.directives.api\").service(\"uiGmapDragZoom\",[\"uiGmapCtrlHandle\",\"uiGmapPropertyAction\",function(a,b){return{restrict:\"EMA\",transclude:!0,template:'<div class=\"angular-google-map-dragzoom\" ng-transclude style=\"display: none\"></div>',require:\"^uiGmapGoogleMap\",scope:{keyboardkey:\"=\",options:\"=\",spec:\"=\"},controller:[\"$scope\",\"$element\",function(b,c){return b.ctrlType=\"uiGmapDragZoom\",_.extend(this,a.handle(b,c))}],link:function(c,d,e,f){return a.mapPromise(c,f).then(function(a){var d,e,f;return d=function(b){return a.enableKeyDragZoom(b),c.spec?c.spec.enableKeyDragZoom(b):void 0},e=new b(function(a,b){return b?d({key:b}):d()}),f=new b(function(a,b){return b?d(b):void 0}),c.$watch(\"keyboardkey\",e.sic),e.sic(c.keyboardkey),c.$watch(\"options\",f.sic),f.sic(c.options)})}}}])}.call(this),function(){b.module(\"uiGmapgoogle-maps.directives.api\").factory(\"uiGmapDrawingManager\",[\"uiGmapIDrawingManager\",\"uiGmapDrawingManagerParentModel\",function(a,b){return _.extend(a,{link:function(a,c,d,e){return e.getScope().deferred.promise.then(function(e){\nreturn new b(a,c,d,e)})}})}])}.call(this),function(){var a=function(a,b){return function(){return a.apply(b,arguments)}},c=function(a,b){function c(){this.constructor=a}for(var e in b)d.call(b,e)&&(a[e]=b[e]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},d={}.hasOwnProperty;b.module(\"uiGmapgoogle-maps.directives.api\").factory(\"uiGmapApiFreeDrawPolygons\",[\"uiGmapLogger\",\"uiGmapBaseObject\",\"uiGmapCtrlHandle\",\"uiGmapDrawFreeHandChildModel\",\"uiGmapLodash\",function(b,d,e,f,g){var h;return h=function(d){function h(){return this.link=a(this.link,this),h.__super__.constructor.apply(this,arguments)}return c(h,d),h.include(e),h.prototype.restrict=\"EMA\",h.prototype.replace=!0,h.prototype.require=\"^uiGmapGoogleMap\",h.prototype.scope={polygons:\"=\",draw:\"=\",revertmapoptions:\"=\"},h.prototype.link=function(a,c,d,e){return this.mapPromise(a,e).then(function(){return function(c){var d,e;return a.polygons?_.isArray(a.polygons)?(d=new f(c,a.revertmapoptions),e=void 0,a.draw=function(){return\"function\"==typeof e&&e(),d.engage(a.polygons).then(function(){var b;return b=!0,e=a.$watchCollection(\"polygons\",function(a,c){var d;return b||a===c?void(b=!1):(d=g.differenceObjects(c,a),d.forEach(function(a){return a.setMap(null)}))})})}):b.error(\"Free Draw Polygons must be of type Array!\"):b.error(\"No polygons to bind to!\")}}(this))},h}(d)}])}.call(this),function(){b.module(\"uiGmapgoogle-maps.directives.api\").service(\"uiGmapICircle\",[function(){var a;return a={},{restrict:\"EA\",replace:!0,require:\"^uiGmapGoogleMap\",scope:{center:\"=center\",radius:\"=radius\",stroke:\"=stroke\",fill:\"=fill\",clickable:\"=\",draggable:\"=\",editable:\"=\",geodesic:\"=\",icons:\"=icons\",visible:\"=\",events:\"=\",zIndex:\"=zindex\"}}}])}.call(this),function(){var a=function(a,b){function d(){this.constructor=a}for(var e in b)c.call(b,e)&&(a[e]=b[e]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a},c={}.hasOwnProperty;b.module(\"uiGmapgoogle-maps.directives.api\").factory(\"uiGmapIControl\",[\"uiGmapBaseObject\",\"uiGmapLogger\",\"uiGmapCtrlHandle\",function(b,c,d){var e;return e=function(b){function e(){this.restrict=\"EA\",this.replace=!0,this.require=\"^uiGmapGoogleMap\",this.scope={template:\"@template\",position:\"@position\",controller:\"@controller\",index:\"@index\"},this.$log=c}return a(e,b),e.extend(d),e.prototype.link=function(){throw new Exception(\"Not implemented!!\")},e}(b)}])}.call(this),function(){b.module(\"uiGmapgoogle-maps.directives.api\").service(\"uiGmapIDrawingManager\",[function(){return{restrict:\"EA\",replace:!0,require:\"^uiGmapGoogleMap\",scope:{\"static\":\"@\",control:\"=\",options:\"=\",events:\"=\"}}}])}.call(this),function(){var a=function(a,b){function d(){this.constructor=a}for(var e in b)c.call(b,e)&&(a[e]=b[e]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a},c={}.hasOwnProperty;b.module(\"uiGmapgoogle-maps.directives.api\").factory(\"uiGmapIMarker\",[\"uiGmapBaseObject\",\"uiGmapCtrlHandle\",function(b,c){var d;return d=function(b){function d(){this.restrict=\"EMA\",this.require=\"^uiGmapGoogleMap\",this.priority=-1,this.transclude=!0,this.replace=!0,this.scope=_.extend(this.scope||{},d.scope)}return a(d,b),d.scope={coords:\"=coords\",icon:\"=icon\",click:\"&click\",options:\"=options\",events:\"=events\",fit:\"=fit\",idKey:\"=idkey\",control:\"=control\"},d.scopeKeys=_.keys(d.scope),d.keys=d.scopeKeys,d.extend(c),d}(b)}])}.call(this),function(){var a=function(a,b){function d(){this.constructor=a}for(var e in b)c.call(b,e)&&(a[e]=b[e]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a},c={}.hasOwnProperty;b.module(\"uiGmapgoogle-maps.directives.api\").factory(\"uiGmapIPolygon\",[\"uiGmapGmapUtil\",\"uiGmapBaseObject\",\"uiGmapLogger\",\"uiGmapCtrlHandle\",function(b,c,d,e){var f;return f=function(c){function f(){}return a(f,c),f.scope={path:\"=path\",stroke:\"=stroke\",clickable:\"=\",draggable:\"=\",editable:\"=\",geodesic:\"=\",fill:\"=\",icons:\"=icons\",visible:\"=\",\"static\":\"=\",events:\"=\",zIndex:\"=zindex\",fit:\"=\",control:\"=control\"},f.scopeKeys=_.keys(f.scope),f.include(b),f.extend(e),f.prototype.restrict=\"EMA\",f.prototype.replace=!0,f.prototype.require=\"^uiGmapGoogleMap\",f.prototype.scope=f.scope,f.prototype.DEFAULTS={},f.prototype.$log=d,f}(c)}])}.call(this),function(){var a=function(a,b){function d(){this.constructor=a}for(var e in b)c.call(b,e)&&(a[e]=b[e]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a},c={}.hasOwnProperty;b.module(\"uiGmapgoogle-maps.directives.api\").factory(\"uiGmapIPolyline\",[\"uiGmapGmapUtil\",\"uiGmapBaseObject\",\"uiGmapLogger\",\"uiGmapCtrlHandle\",function(b,c,d,e){var f;return f=function(c){function f(){}return a(f,c),f.scope={path:\"=\",stroke:\"=\",clickable:\"=\",draggable:\"=\",editable:\"=\",geodesic:\"=\",icons:\"=\",visible:\"=\",\"static\":\"=\",fit:\"=\",events:\"=\",zIndex:\"=zindex\"},f.scopeKeys=_.keys(f.scope),f.include(b),f.extend(e),f.prototype.restrict=\"EMA\",f.prototype.replace=!0,f.prototype.require=\"^uiGmapGoogleMap\",f.prototype.scope=f.scope,f.prototype.DEFAULTS={},f.prototype.$log=d,f}(c)}])}.call(this),function(){b.module(\"uiGmapgoogle-maps.directives.api\").service(\"uiGmapIRectangle\",[function(){var a;return a={},{restrict:\"EMA\",require:\"^uiGmapGoogleMap\",replace:!0,scope:{bounds:\"=\",stroke:\"=\",clickable:\"=\",draggable:\"=\",editable:\"=\",fill:\"=\",visible:\"=\",events:\"=\"}}}])}.call(this),function(){var a=function(a,b){function d(){this.constructor=a}for(var e in b)c.call(b,e)&&(a[e]=b[e]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a},c={}.hasOwnProperty;b.module(\"uiGmapgoogle-maps.directives.api\").factory(\"uiGmapIWindow\",[\"uiGmapBaseObject\",\"uiGmapChildEvents\",\"uiGmapCtrlHandle\",function(b,c,d){var e;return e=function(b){function e(){this.restrict=\"EMA\",this.template=void 0,this.transclude=!0,this.priority=-100,this.require=\"^uiGmapGoogleMap\",this.replace=!0,this.scope=_.extend(this.scope||{},e.scope)}return a(e,b),e.scope={coords:\"=coords\",template:\"=template\",templateUrl:\"=templateurl\",templateParameter:\"=templateparameter\",isIconVisibleOnClick:\"=isiconvisibleonclick\",closeClick:\"&closeclick\",options:\"=options\",control:\"=control\",show:\"=show\"},e.scopeKeys=_.keys(e.scope),e.include(c),e.extend(d),e}(b)}])}.call(this),function(){var a=function(a,b){return function(){return a.apply(b,arguments)}},d=function(a,b){function c(){this.constructor=a}for(var d in b)e.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},e={}.hasOwnProperty;b.module(\"uiGmapgoogle-maps.directives.api\").factory(\"uiGmapMap\",[\"$timeout\",\"$q\",\"uiGmapLogger\",\"uiGmapGmapUtil\",\"uiGmapBaseObject\",\"uiGmapCtrlHandle\",\"uiGmapIsReady\",\"uiGmapuuid\",\"uiGmapExtendGWin\",\"uiGmapExtendMarkerClusterer\",\"uiGmapGoogleMapsUtilV3\",\"uiGmapGoogleMapApi\",\"uiGmapEventsHelper\",function(e,f,g,h,i,j,k,l,m,n,o,p,q){var r,s,t;return r=void 0,t=[o,m,n],s=function(f){function i(){this.link=a(this.link,this);var b,c;b=function(a){var b,c;return c=void 0,a.$on(\"$destroy\",function(){return k.reset()}),b=j.handle(a),a.ctrlType=\"Map\",a.deferred.promise.then(function(){return t.forEach(function(a){return a.init()})}),b.getMap=function(){return a.map},c=_.extend(this,b)},this.controller=[\"$scope\",b],c=this}return d(i,f),i.include(h),i.prototype.restrict=\"EMA\",i.prototype.transclude=!0,i.prototype.replace=!1,i.prototype.template='<div class=\"angular-google-map\"><div class=\"angular-google-map-container\"></div><div ng-transclude style=\"display: none\"></div></div>',i.prototype.scope={center:\"=\",zoom:\"=\",dragging:\"=\",control:\"=\",options:\"=\",events:\"=\",eventOpts:\"=\",styles:\"=\",bounds:\"=\",update:\"=\"},i.prototype.link=function(a,d,f){var h,i;return h=[],a.$on(\"$destroy\",function(){return q.removeEvents(h)}),a.idleAndZoomChanged=!1,null==a.center?void(i=a.$watch(\"center\",function(b){return function(){return a.center?(i(),b.link(a,d,f)):void 0}}(this))):p.then(function(i){return function(j){var m,n,o,p,s,t,u,v,w,x,y,z,A,B,C,D,E;if(r={mapTypeId:j.MapTypeId.ROADMAP},B=k.spawn(),z=function(){return B.deferred.resolve({instance:B.instance,map:m})},!i.validateCoords(a.center))return void g.error(\"angular-google-maps: could not find a valid center property\");if(!b.isDefined(a.zoom))return void g.error(\"angular-google-maps: map zoom property not set\");if(s=b.element(d),s.addClass(\"angular-google-map\"),x={options:{}},f.options&&(x.options=a.options),f.styles&&(x.styles=a.styles),f.type&&(C=f.type.toUpperCase(),google.maps.MapTypeId.hasOwnProperty(C)?x.mapTypeId=google.maps.MapTypeId[f.type.toUpperCase()]:g.error(\"angular-google-maps: invalid map type '\"+f.type+\"'\")),v=b.extend({},r,x,{center:i.getCoords(a.center),zoom:a.zoom,bounds:a.bounds}),m=new google.maps.Map(s.find(\"div\")[1],v),m.uiGmap_id=l.generate(),p=!1,h.push(google.maps.event.addListenerOnce(m,\"idle\",function(){return a.deferred.resolve(m),z()})),o=f.events&&null!=(null!=(y=a.events)?y.blacklist:void 0)?a.events.blacklist:[],_.isString(o)&&(o=[o]),w=function(b,c,d){return _.contains(o,b)?void 0:(d&&d(),h.push(google.maps.event.addListener(m,b,function(){var b;return(null!=(b=a.update)?b.lazy:void 0)?void 0:c()})))},_.contains(o,\"all\")||(w(\"dragstart\",function(){return p=!0,a.$evalAsync(function(a){return null!=a.dragging?a.dragging=p:void 0})}),w(\"dragend\",function(){return p=!1,a.$evalAsync(function(a){return null!=a.dragging?a.dragging=p:void 0})}),D=function(c,d){if(null==c&&(c=m.center),null==d&&(d=a),!_.contains(o,\"center\"))if(b.isDefined(d.center.type)){if(d.center.coordinates[1]!==c.lat()&&(d.center.coordinates[1]=c.lat()),d.center.coordinates[0]!==c.lng())return d.center.coordinates[0]=c.lng()}else if(d.center.latitude!==c.lat()&&(d.center.latitude=c.lat()),d.center.longitude!==c.lng())return d.center.longitude=c.lng()},A=!1,w(\"idle\",function(){var b,d,e;return b=m.getBounds(),d=b.getNorthEast(),e=b.getSouthWest(),A=!0,a.$evalAsync(function(b){return D(),null===b.bounds||b.bounds===c||void 0===b.bounds||_.contains(o,\"bounds\")||(b.bounds.northeast={latitude:d.lat(),longitude:d.lng()},b.bounds.southwest={latitude:e.lat(),longitude:e.lng()}),_.contains(o,\"zoom\")||(b.zoom=m.zoom,a.idleAndZoomChanged=!a.idleAndZoomChanged),A=!1})})),b.isDefined(a.events)&&null!==a.events&&b.isObject(a.events)){u=function(b){return function(){return a.events[b].apply(a,[m,b,arguments])}},n=[];for(t in a.events)a.events.hasOwnProperty(t)&&b.isFunction(a.events[t])&&n.push(google.maps.event.addListener(m,t,u(t)));h.concat(n)}return m.getOptions=function(){return v},a.map=m,null!=f.control&&null!=a.control&&(a.control.refresh=function(a){var b,c,d;if(null!=m)return null!=(\"undefined\"!=typeof google&&null!==google&&null!=(c=google.maps)&&null!=(d=c.event)?d.trigger:void 0)&&null!=m&&google.maps.event.trigger(m,\"resize\"),null!=(null!=a?a.latitude:void 0)&&null!=(null!=a?a.longitude:void 0)?(b=i.getCoords(a),i.isTrue(f.pan)?m.panTo(b):m.setCenter(b)):void 0},a.control.getGMap=function(){return m},a.control.getMapOptions=function(){return v},a.control.getCustomEventListeners=function(){return n},a.control.removeEvents=function(a){return q.removeEvents(a)}),a.$watch(\"center\",function(b,c){var d,e;if(b!==c&&!A&&(d=i.getCoords(a.center),d.lat()!==m.center.lat()||d.lng()!==m.center.lng()))return e=!0,p||(i.validateCoords(b)||g.error(\"Invalid center for newValue: \"+JSON.stringify(b)),i.isTrue(f.pan)&&a.zoom===m.zoom?m.panTo(d):m.setCenter(d)),e=!1},!0),E=null,a.$watch(\"zoom\",function(b,c){var d,f,g;if(null!=b&&!_.isEqual(b,c)&&(null!=m?m.getZoom():void 0)!==(null!=a?a.zoom:void 0)&&!A)return g=!0,null!=E&&e.cancel(E),E=e(function(){return m.setZoom(b),g=!1},(null!=(d=a.eventOpts)&&null!=(f=d.debounce)?f.zoomMs:void 0)+20,!1)}),a.$watch(\"bounds\",function(a,b){var c,d,e,f,h,i,j;if(a!==b)return null==(null!=a&&null!=(e=a.northeast)?e.latitude:void 0)||null==(null!=a&&null!=(f=a.northeast)?f.longitude:void 0)||null==(null!=a&&null!=(h=a.southwest)?h.latitude:void 0)||null==(null!=a&&null!=(i=a.southwest)?i.longitude:void 0)?void g.error(\"Invalid map bounds for new value: \"+JSON.stringify(a)):(d=new google.maps.LatLng(a.northeast.latitude,a.northeast.longitude),j=new google.maps.LatLng(a.southwest.latitude,a.southwest.longitude),c=new google.maps.LatLngBounds(j,d),m.fitBounds(c))}),[\"options\",\"styles\"].forEach(function(b){return a.$watch(b,function(a,b){var c;return c=this.exp,_.isEqual(a,b)?void 0:(\"options\"===c?x.options=a:x.options[c]=a,null!=m?m.setOptions(x):void 0)},!0)})}}(this))},i}(i)}])}.call(this),function(){var a=function(a,b){return function(){return a.apply(b,arguments)}},c=function(a,b){function c(){this.constructor=a}for(var e in b)d.call(b,e)&&(a[e]=b[e]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},d={}.hasOwnProperty;b.module(\"uiGmapgoogle-maps.directives.api\").factory(\"uiGmapMarker\",[\"uiGmapIMarker\",\"uiGmapMarkerChildModel\",\"uiGmapMarkerManager\",\"uiGmapLogger\",function(b,d,e,f){var g;return g=function(g){function h(){this.link=a(this.link,this),h.__super__.constructor.call(this),this.template='<span class=\"angular-google-map-marker\" ng-transclude></span>',f.info(this)}return c(h,g),h.prototype.controller=[\"$scope\",\"$element\",function(a,c){return a.ctrlType=\"Marker\",_.extend(this,b.handle(a,c))}],h.prototype.link=function(a,c,f,g){var h;return h=b.mapPromise(a,g),h.then(function(){return function(c){var f,g,h,i,j,k;return h=new e(c),i=_.object(b.keys,b.keys),j=new d(a,a,i,c,{},f=!0,h,g=!1,k=!1),j.deferred.promise.then(function(b){return a.deferred.resolve(b)}),null!=a.control?a.control.getGMarkers=h.getGMarkers:void 0}}(this)),a.$on(\"$destroy\",function(){return function(){var a;return\"undefined\"!=typeof a&&null!==a&&a.clear(),a=null}}(this))},h}(b)}])}.call(this),function(){var a=function(a,b){function d(){this.constructor=a}for(var e in b)c.call(b,e)&&(a[e]=b[e]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a},c={}.hasOwnProperty;b.module(\"uiGmapgoogle-maps.directives.api\").factory(\"uiGmapMarkers\",[\"uiGmapIMarker\",\"uiGmapPlural\",\"uiGmapMarkersParentModel\",\"uiGmap_sync\",\"uiGmapLogger\",function(b,c,d,e,f){var g;return g=function(e){function g(){g.__super__.constructor.call(this),this.template='<span class=\"angular-google-map-markers\" ng-transclude></span>',c.extend(this,{doCluster:\"=docluster\",clusterOptions:\"=clusteroptions\",clusterEvents:\"=clusterevents\",modelsByRef:\"=modelsbyref\"}),f.info(this)}return a(g,e),g.prototype.controller=[\"$scope\",\"$element\",function(a,c){return a.ctrlType=\"Markers\",_.extend(this,b.handle(a,c))}],g.prototype.link=function(a,e,f,g){var h,i;return h=void 0,i=function(){return a.deferred.resolve()},b.mapPromise(a,g).then(function(b){var j;return j=g.getScope(),j.$watch(\"idleAndZoomChanged\",function(){return _.defer(h.gManager.draw)}),h=new d(a,e,f,b),c.link(a,h),null!=a.control&&(a.control.getGMarkers=function(){var a;return null!=(a=h.gManager)?a.getGMarkers():void 0},a.control.getChildMarkers=function(){return h.plurals}),_.last(h.existingPieces._content).then(function(){return i()})})},g}(b)}])}.call(this),function(){b.module(\"uiGmapgoogle-maps.directives.api\").service(\"uiGmapPlural\",[function(){var a;return a=function(a,b){return null!=a.control?(a.control.updateModels=function(c){return a.models=c,b.createChildScopes(!1)},a.control.newModels=function(c){return a.models=c,b.rebuildAll(a,!0,!0)},a.control.clean=function(){return b.rebuildAll(a,!1,!0)},a.control.getPlurals=function(){return b.plurals},a.control.getManager=function(){return b.gManager},a.control.hasManager=function(){return null!=b.gManager==!0},a.control.managerDraw=function(){var b;return a.control.hasManager()&&null!=(b=a.control.getManager())?b.draw():void 0}):void 0},{extend:function(a,b){return _.extend(a.scope||{},b||{},{idKey:\"=idkey\",doRebuildAll:\"=dorebuildall\",models:\"=models\",chunk:\"=chunk\",cleanchunk:\"=cleanchunk\",control:\"=control\"})},link:function(b,c){return a(b,c)}}}])}.call(this),function(){var a=function(a,b){return function(){return a.apply(b,arguments)}},c=function(a,b){function c(){this.constructor=a}for(var e in b)d.call(b,e)&&(a[e]=b[e]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},d={}.hasOwnProperty;b.module(\"uiGmapgoogle-maps.directives.api\").factory(\"uiGmapPolygon\",[\"uiGmapIPolygon\",\"$timeout\",\"uiGmaparray-sync\",\"uiGmapPolygonChildModel\",function(b,d,e,f){var g;return g=function(d){function e(){return this.link=a(this.link,this),e.__super__.constructor.apply(this,arguments)}return c(e,d),e.prototype.link=function(a,c,d,e){var g,h;return g=[],h=b.mapPromise(a,e),null!=a.control&&(a.control.getInstance=this,a.control.polygons=g,a.control.promise=h),h.then(function(b){return function(c){return g.push(new f(a,d,c,b.DEFAULTS))}}(this))},e}(b)}])}.call(this),function(){var a=function(a,b){return function(){return a.apply(b,arguments)}},c=function(a,b){function c(){this.constructor=a}for(var e in b)d.call(b,e)&&(a[e]=b[e]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},d={}.hasOwnProperty;b.module(\"uiGmapgoogle-maps.directives.api\").factory(\"uiGmapPolygons\",[\"uiGmapIPolygon\",\"$timeout\",\"uiGmaparray-sync\",\"uiGmapPolygonsParentModel\",\"uiGmapPlural\",function(d,e,f,g,h){var i;return i=function(d){function e(){this.link=a(this.link,this),e.__super__.constructor.call(this),h.extend(this),this.$log.info(this)}return c(e,d),e.prototype.link=function(a,c,d,e){return e.getScope().deferred.promise.then(function(e){return function(f){return(b.isUndefined(a.path)||null===a.path)&&e.$log.warn(\"polygons: no valid path attribute found\"),a.models||e.$log.warn(\"polygons: no models found to create from\"),h.link(a,new g(a,c,d,f,e.DEFAULTS))}}(this))},e}(d)}])}.call(this),function(){var a=function(a,b){return function(){return a.apply(b,arguments)}},c=function(a,b){function c(){this.constructor=a}for(var e in b)d.call(b,e)&&(a[e]=b[e]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},d={}.hasOwnProperty;b.module(\"uiGmapgoogle-maps.directives.api\").factory(\"uiGmapPolyline\",[\"uiGmapIPolyline\",\"$timeout\",\"uiGmaparray-sync\",\"uiGmapPolylineChildModel\",function(d,e,f,g){var h;return h=function(e){function f(){return this.link=a(this.link,this),f.__super__.constructor.apply(this,arguments)}return c(f,e),f.prototype.link=function(a,c,e,f){return d.mapPromise(a,f).then(function(c){return function(d){return(b.isUndefined(a.path)||null===a.path||!c.validatePath(a.path))&&c.$log.warn(\"polyline: no valid path attribute found\"),new g(a,e,d,c.DEFAULTS)}}(this))},f}(d)}])}.call(this),function(){var a=function(a,b){return function(){return a.apply(b,arguments)}},c=function(a,b){function c(){this.constructor=a}for(var e in b)d.call(b,e)&&(a[e]=b[e]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},d={}.hasOwnProperty;b.module(\"uiGmapgoogle-maps.directives.api\").factory(\"uiGmapPolylines\",[\"uiGmapIPolyline\",\"$timeout\",\"uiGmaparray-sync\",\"uiGmapPolylinesParentModel\",\"uiGmapPlural\",function(d,e,f,g,h){var i;return i=function(d){function e(){this.link=a(this.link,this),e.__super__.constructor.call(this),h.extend(this),this.$log.info(this)}return c(e,d),e.prototype.link=function(a,c,d,e){return e.getScope().deferred.promise.then(function(e){return function(f){return(b.isUndefined(a.path)||null===a.path)&&e.$log.warn(\"polylines: no valid path attribute found\"),a.models||e.$log.warn(\"polylines: no models found to create from\"),h.link(a,new g(a,c,d,f,e.DEFAULTS))}}(this))},e}(d)}])}.call(this),function(){b.module(\"uiGmapgoogle-maps.directives.api\").factory(\"uiGmapRectangle\",[\"uiGmapLogger\",\"uiGmapGmapUtil\",\"uiGmapIRectangle\",\"uiGmapRectangleParentModel\",function(a,b,c,d){return _.extend(c,{link:function(a,b,c,e){return e.getScope().deferred.promise.then(function(){return function(e){return new d(a,b,c,e)}}(this))}})}])}.call(this),function(){var a=function(a,b){return function(){return a.apply(b,arguments)}},c=function(a,b){function c(){this.constructor=a}for(var e in b)d.call(b,e)&&(a[e]=b[e]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},d={}.hasOwnProperty;b.module(\"uiGmapgoogle-maps.directives.api\").factory(\"uiGmapWindow\",[\"uiGmapIWindow\",\"uiGmapGmapUtil\",\"uiGmapWindowChildModel\",\"uiGmapLodash\",\"uiGmapLogger\",function(d,e,f,g,h){var i;return i=function(i){function j(){this.link=a(this.link,this),j.__super__.constructor.call(this),this.require=[\"^uiGmapGoogleMap\",\"^?uiGmapMarker\"],this.template='<span class=\"angular-google-maps-window\" ng-transclude></span>',h.debug(this),this.childWindows=[]}return c(j,i),j.include(e),j.prototype.link=function(a,c,e,f){var g,h;return g=f.length>1&&null!=f[1]?f[1]:void 0,h=null!=g?g.getScope():void 0,this.mapPromise=d.mapPromise(a,f[0]),this.mapPromise.then(function(d){return function(f){var i;return i=!0,b.isDefined(e.isiconvisibleonclick)&&(i=a.isIconVisibleOnClick),g?h.deferred.promise.then(function(){return d.init(a,c,i,f,h)}):void d.init(a,c,i,f)}}(this))},j.prototype.init=function(a,b,c,d,e){var h,i,j,k,l;return i=null!=a.options?a.options:{},k=null!=a&&this.validateCoords(a.coords),null!=(null!=e?e.getGMarker:void 0)&&(j=e.getGMarker()),l=k?this.createWindowOptions(j,a,b.html(),i):i,null!=d&&(h=new f({},a,l,c,d,e,b),this.childWindows.push(h),a.$on(\"$destroy\",function(a){return function(){return a.childWindows=g.withoutObjects(a.childWindows,[h],function(a,b){return a.scope.$id===b.scope.$id}),a.childWindows.length=0}}(this))),null!=a.control&&(a.control.getGWindows=function(a){return function(){return a.childWindows.map(function(a){return a.gObject})}}(this),a.control.getChildWindows=function(a){return function(){return a.childWindows}}(this),a.control.getPlurals=a.control.getChildWindows,a.control.showWindow=function(a){return function(){return a.childWindows.map(function(a){return a.showWindow()})}}(this),a.control.hideWindow=function(a){return function(){return a.childWindows.map(function(a){return a.hideWindow()})}}(this)),null!=this.onChildCreation&&null!=h?this.onChildCreation(h):void 0},j}(d)}])}.call(this),function(){var a=function(a,b){return function(){return a.apply(b,arguments)}},c=function(a,b){function c(){this.constructor=a}for(var e in b)d.call(b,e)&&(a[e]=b[e]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},d={}.hasOwnProperty;b.module(\"uiGmapgoogle-maps.directives.api\").factory(\"uiGmapWindows\",[\"uiGmapIWindow\",\"uiGmapPlural\",\"uiGmapWindowsParentModel\",\"uiGmapPromise\",\"uiGmapLogger\",function(b,d,e,f,g){var h;return h=function(b){function h(){this.init=a(this.init,this),this.link=a(this.link,this),h.__super__.constructor.call(this),this.require=[\"^uiGmapGoogleMap\",\"^?uiGmapMarkers\"],this.template='<span class=\"angular-google-maps-windows\" ng-transclude></span>',d.extend(this),g.debug(this)}return c(h,b),h.prototype.link=function(a,b,c,d){var e,g,h;return e=d[0].getScope(),g=d.length>1&&null!=d[1]?d[1]:void 0,h=null!=g?g.getScope():void 0,e.deferred.promise.then(function(e){return function(g){var i,j;return i=(null!=h&&null!=(j=h.deferred)?j.promise:void 0)||f.resolve(),i.then(function(){var f,i;return f=null!=(i=e.parentModel)?i.existingPieces:void 0,f?f.then(function(){return e.init(a,b,c,d,g,h)}):e.init(a,b,c,d,g,h)})}}(this))},h.prototype.init=function(a,b,c,f,g,h){var i;return i=new e(a,b,c,f,g,h),d.link(a,i),null!=a.control?(a.control.getGWindows=function(){return function(){return i.plurals.map(function(a){return a.gObject})}}(this),a.control.getChildWindows=function(){return function(){return i.plurals}}(this)):void 0},h}(b)}])}.call(this),function(){b.module(\"uiGmapgoogle-maps\").directive(\"uiGmapGoogleMap\",[\"uiGmapMap\",function(a){return new a}])}.call(this),function(){b.module(\"uiGmapgoogle-maps\").directive(\"uiGmapMarker\",[\"$timeout\",\"uiGmapMarker\",function(a,b){return new b(a)}])}.call(this),function(){b.module(\"uiGmapgoogle-maps\").directive(\"uiGmapMarkers\",[\"$timeout\",\"uiGmapMarkers\",function(a,b){return new b(a)}])}.call(this),function(){b.module(\"uiGmapgoogle-maps\").directive(\"uiGmapPolygon\",[\"uiGmapPolygon\",function(a){return new a}])}.call(this),function(){b.module(\"uiGmapgoogle-maps\").directive(\"uiGmapCircle\",[\"uiGmapCircle\",function(a){return a}])}.call(this),function(){b.module(\"uiGmapgoogle-maps\").directive(\"uiGmapPolyline\",[\"uiGmapPolyline\",function(a){return new a}])}.call(this),function(){b.module(\"uiGmapgoogle-maps\").directive(\"uiGmapPolylines\",[\"uiGmapPolylines\",function(a){return new a}])}.call(this),function(){b.module(\"uiGmapgoogle-maps\").directive(\"uiGmapRectangle\",[\"uiGmapLogger\",\"uiGmapRectangle\",function(a,b){return b}])}.call(this),function(){b.module(\"uiGmapgoogle-maps\").directive(\"uiGmapWindow\",[\"$timeout\",\"$compile\",\"$http\",\"$templateCache\",\"uiGmapWindow\",function(a,b,c,d,e){return new e(a,b,c,d)}])}.call(this),function(){b.module(\"uiGmapgoogle-maps\").directive(\"uiGmapWindows\",[\"$timeout\",\"$compile\",\"$http\",\"$templateCache\",\"$interpolate\",\"uiGmapWindows\",function(a,b,c,d,e,f){return new f(a,b,c,d,e)}])}.call(this),function(){var a=function(a,b){return function(){return a.apply(b,arguments)}};b.module(\"uiGmapgoogle-maps\").directive(\"uiGmapLayer\",[\"$timeout\",\"uiGmapLogger\",\"uiGmapLayerParentModel\",function(b,c,d){var e;return new(e=function(){function b(){this.link=a(this.link,this),this.$log=c,this.restrict=\"EMA\",this.require=\"^uiGmapGoogleMap\",this.priority=-1,this.transclude=!0,this.template=\"<span class='angular-google-map-layer' ng-transclude></span>\",this.replace=!0,this.scope={show:\"=show\",type:\"=type\",namespace:\"=namespace\",options:\"=options\",onCreated:\"&oncreated\"}}return b.prototype.link=function(a,b,c,e){return e.getScope().deferred.promise.then(function(){return function(e){return null!=a.onCreated?new d(a,b,c,e,a.onCreated):new d(a,b,c,e)}}(this))},b}())}])}.call(this),function(){b.module(\"uiGmapgoogle-maps\").directive(\"uiGmapMapControl\",[\"uiGmapControl\",function(a){return new a}])}.call(this),function(){b.module(\"uiGmapgoogle-maps\").directive(\"uiGmapDragZoom\",[\"uiGmapDragZoom\",function(a){return a}])}.call(this),function(){b.module(\"uiGmapgoogle-maps\").directive(\"uiGmapDrawingManager\",[\"uiGmapDrawingManager\",function(a){return a}])}.call(this),function(){b.module(\"uiGmapgoogle-maps\").directive(\"uiGmapFreeDrawPolygons\",[\"uiGmapApiFreeDrawPolygons\",function(a){return new a}])}.call(this),function(){var a=function(a,b){return function(){return a.apply(b,arguments)}};b.module(\"uiGmapgoogle-maps\").directive(\"uiGmapMapType\",[\"$timeout\",\"uiGmapLogger\",\"uiGmapMapTypeParentModel\",function(b,c,d){var e;return new(e=function(){function b(){this.link=a(this.link,this),this.$log=c,this.restrict=\"EMA\",this.require=\"^uiGmapGoogleMap\",this.priority=-1,this.transclude=!0,this.template='<span class=\"angular-google-map-layer\" ng-transclude></span>',this.replace=!0,this.scope={show:\"=show\",options:\"=options\",refresh:\"=refresh\",id:\"@\"}}return b.prototype.link=function(a,b,c,e){return e.getScope().deferred.promise.then(function(){return function(e){return new d(a,b,c,e)}}(this))},b}())}])}.call(this),function(){b.module(\"uiGmapgoogle-maps\").directive(\"uiGmapPolygons\",[\"uiGmapPolygons\",function(a){return new a}])}.call(this),function(){var a=function(a,b){return function(){return a.apply(b,arguments)}};b.module(\"uiGmapgoogle-maps\").directive(\"uiGmapSearchBox\",[\"uiGmapGoogleMapApi\",\"uiGmapLogger\",\"uiGmapSearchBoxParentModel\",\"$http\",\"$templateCache\",\"$compile\",function(c,d,e,f,g,h){var i;return new(i=function(){function i(){this.link=a(this.link,this),this.$log=d,this.restrict=\"EMA\",this.require=\"^uiGmapGoogleMap\",this.priority=-1,this.transclude=!0,this.template=\"<span class='angular-google-map-search' ng-transclude></span>\",this.replace=!0,this.scope={template:\"=template\",events:\"=events\",position:\"=?position\",options:\"=?options\",parentdiv:\"=?parentdiv\",ngModel:\"=?\"}}return i.prototype.require=\"ngModel\",i.prototype.link=function(a,d,i,j){return c.then(function(c){return function(k){return f.get(a.template,{cache:g}).success(function(f){return b.isUndefined(a.events)?void c.$log.error(\"searchBox: the events property is required\"):j.getScope().deferred.promise.then(function(g){var j;return j=b.isDefined(a.position)?a.position.toUpperCase().replace(/-/g,\"_\"):\"TOP_LEFT\",k.ControlPosition[j]?new e(a,d,i,g,j,h(f)(a)):void c.$log.error(\"searchBox: invalid position property\")})})}}(this))},i}())}])}.call(this),function(){b.module(\"uiGmapgoogle-maps\").directive(\"uiGmapShow\",[\"$animate\",\"uiGmapLogger\",function(a,c){return{scope:{uiGmapShow:\"=\",uiGmapAfterShow:\"&\",uiGmapAfterHide:\"&\"},link:function(d,e){var f,g,h;return f=function(b,c){return a[b](e,\"ng-hide\").then(function(){return c()})},g=function(b,c){return a[b](e,\"ng-hide\",c)},h=function(a,d){return b.version.major>1?c.error(\"uiGmapShow is not supported for Angular Major greater than 1.\\nYour Major is \"+b.version.major+'\"'):1===b.version.major&&b.version.minor<3?g(a,d):f(a,d)},d.$watch(\"uiGmapShow\",function(a){return a&&h(\"removeClass\",d.uiGmapAfterShow),a?void 0:h(\"addClass\",d.uiGmapAfterHide)})}}}])}.call(this),b.module(\"uiGmapgoogle-maps.wrapped\").service(\"uiGmapuuid\",function(){function a(){}return a.generate=function(){var b=a._gri,c=a._ha;return c(b(32),8)+\"-\"+c(b(16),4)+\"-\"+c(16384|b(12),4)+\"-\"+c(32768|b(14),4)+\"-\"+c(b(48),12)},a._gri=function(a){return 0>a?0/0:30>=a?0|Math.random()*(1<<a):53>=a?(0|1073741824*Math.random())+1073741824*(0|Math.random()*(1<<a-30)):0/0},a._ha=function(a,b){for(var c=a.toString(16),d=b-c.length,e=\"0\";d>0;d>>>=1,e+=e)1&d&&(c=e+c);return c},a}),b.module(\"uiGmapgoogle-maps.wrapped\").service(\"uiGmapGoogleMapsUtilV3\",function(){return{init:_.once(function(){function b(a){a=a||{},google.maps.OverlayView.apply(this,arguments),this.content_=a.content||\"\",this.disableAutoPan_=a.disableAutoPan||!1,this.maxWidth_=a.maxWidth||0,this.pixelOffset_=a.pixelOffset||new google.maps.Size(0,0),this.position_=a.position||new google.maps.LatLng(0,0),this.zIndex_=a.zIndex||null,this.boxClass_=a.boxClass||\"infoBox\",this.boxStyle_=a.boxStyle||{},this.closeBoxMargin_=a.closeBoxMargin||\"2px\",this.closeBoxURL_=a.closeBoxURL||\"http://www.google.com/intl/en_us/mapfiles/close.gif\",\"\"===a.closeBoxURL&&(this.closeBoxURL_=\"\"),this.infoBoxClearance_=a.infoBoxClearance||new google.maps.Size(1,1),\"undefined\"==typeof a.visible&&(a.visible=\"undefined\"==typeof a.isHidden?!0:!a.isHidden),this.isHidden_=!a.visible,this.alignBottom_=a.alignBottom||!1,this.pane_=a.pane||\"floatPane\",this.enableEventPropagation_=a.enableEventPropagation||!1,this.div_=null,this.closeListener_=null,this.moveListener_=null,this.contextListener_=null,this.eventListeners_=null,this.fixedWidthSet_=null}function d(a,b){a.getMarkerClusterer().extend(d,google.maps.OverlayView),this.cluster_=a,this.className_=a.getMarkerClusterer().getClusterClass(),this.styles_=b,this.center_=null,this.div_=null,this.sums_=null,this.visible_=!1,this.setMap(a.getMap())}function e(a){this.markerClusterer_=a,this.map_=a.getMap(),this.gridSize_=a.getGridSize(),this.minClusterSize_=a.getMinimumClusterSize(),this.averageCenter_=a.getAverageCenter(),this.markers_=[],this.center_=null,this.bounds_=null,this.clusterIcon_=new d(this,a.getStyles())}function f(a,b,d){this.extend(f,google.maps.OverlayView),b=b||[],d=d||{},this.markers_=[],this.clusters_=[],this.listeners_=[],this.activeMap_=null,this.ready_=!1,this.gridSize_=d.gridSize||60,this.minClusterSize_=d.minimumClusterSize||2,this.maxZoom_=d.maxZoom||null,this.styles_=d.styles||[],this.title_=d.title||\"\",this.zoomOnClick_=!0,d.zoomOnClick!==c&&(this.zoomOnClick_=d.zoomOnClick),this.averageCenter_=!1,d.averageCenter!==c&&(this.averageCenter_=d.averageCenter),this.ignoreHidden_=!1,d.ignoreHidden!==c&&(this.ignoreHidden_=d.ignoreHidden),this.enableRetinaIcons_=!1,d.enableRetinaIcons!==c&&(this.enableRetinaIcons_=d.enableRetinaIcons),this.imagePath_=d.imagePath||f.IMAGE_PATH,this.imageExtension_=d.imageExtension||f.IMAGE_EXTENSION,this.imageSizes_=d.imageSizes||f.IMAGE_SIZES,this.calculator_=d.calculator||f.CALCULATOR,this.batchSize_=d.batchSize||f.BATCH_SIZE,this.batchSizeIE_=d.batchSizeIE||f.BATCH_SIZE_IE,this.clusterClass_=d.clusterClass||\"cluster\",-1!==navigator.userAgent.toLowerCase().indexOf(\"msie\")&&(this.batchSize_=this.batchSizeIE_),\nthis.setupStyles_(),this.addMarkers(b,!0),this.setMap(a)}function g(a,b){function c(){}c.prototype=b.prototype,a.superClass_=b.prototype,a.prototype=new c,a.prototype.constructor=a}function h(a,b){this.marker_=a,this.handCursorURL_=a.handCursorURL,this.labelDiv_=document.createElement(\"div\"),this.labelDiv_.style.cssText=\"position: absolute; overflow: hidden;\",this.eventDiv_=document.createElement(\"div\"),this.eventDiv_.style.cssText=this.labelDiv_.style.cssText,this.eventDiv_.setAttribute(\"onselectstart\",\"return false;\"),this.eventDiv_.setAttribute(\"ondragstart\",\"return false;\"),this.crossDiv_=h.getSharedCross(b)}function i(a){a=a||{},a.labelContent=a.labelContent||\"\",a.labelAnchor=a.labelAnchor||new google.maps.Point(0,0),a.labelClass=a.labelClass||\"markerLabels\",a.labelStyle=a.labelStyle||{},a.labelInBackground=a.labelInBackground||!1,\"undefined\"==typeof a.labelVisible&&(a.labelVisible=!0),\"undefined\"==typeof a.raiseOnDrag&&(a.raiseOnDrag=!0),\"undefined\"==typeof a.clickable&&(a.clickable=!0),\"undefined\"==typeof a.draggable&&(a.draggable=!1),\"undefined\"==typeof a.optimized&&(a.optimized=!1),a.crossImage=a.crossImage||\"http\"+(\"https:\"===document.location.protocol?\"s\":\"\")+\"://maps.gstatic.com/intl/en_us/mapfiles/drag_cross_67_16.png\",a.handCursor=a.handCursor||\"http\"+(\"https:\"===document.location.protocol?\"s\":\"\")+\"://maps.gstatic.com/intl/en_us/mapfiles/closedhand_8_8.cur\",a.optimized=!1,this.label=new h(this,a.crossImage,a.handCursor),google.maps.Marker.apply(this,arguments)}b.prototype=new google.maps.OverlayView,b.prototype.createInfoBoxDiv_=function(){var a,b,c,d=this,e=function(a){a.cancelBubble=!0,a.stopPropagation&&a.stopPropagation()},f=function(a){a.returnValue=!1,a.preventDefault&&a.preventDefault(),d.enableEventPropagation_||e(a)};if(!this.div_){if(this.div_=document.createElement(\"div\"),this.setBoxStyle_(),\"undefined\"==typeof this.content_.nodeType?this.div_.innerHTML=this.getCloseBoxImg_()+this.content_:(this.div_.innerHTML=this.getCloseBoxImg_(),this.div_.appendChild(this.content_)),this.getPanes()[this.pane_].appendChild(this.div_),this.addClickHandler_(),this.div_.style.width?this.fixedWidthSet_=!0:0!==this.maxWidth_&&this.div_.offsetWidth>this.maxWidth_?(this.div_.style.width=this.maxWidth_,this.div_.style.overflow=\"auto\",this.fixedWidthSet_=!0):(c=this.getBoxWidths_(),this.div_.style.width=this.div_.offsetWidth-c.left-c.right+\"px\",this.fixedWidthSet_=!1),this.panBox_(this.disableAutoPan_),!this.enableEventPropagation_){for(this.eventListeners_=[],b=[\"mousedown\",\"mouseover\",\"mouseout\",\"mouseup\",\"click\",\"dblclick\",\"touchstart\",\"touchend\",\"touchmove\"],a=0;a<b.length;a++)this.eventListeners_.push(google.maps.event.addDomListener(this.div_,b[a],e));this.eventListeners_.push(google.maps.event.addDomListener(this.div_,\"mouseover\",function(){this.style.cursor=\"default\"}))}this.contextListener_=google.maps.event.addDomListener(this.div_,\"contextmenu\",f),google.maps.event.trigger(this,\"domready\")}},b.prototype.getCloseBoxImg_=function(){var a=\"\";return\"\"!==this.closeBoxURL_&&(a=\"<img\",a+=\" src='\"+this.closeBoxURL_+\"'\",a+=\" align=right\",a+=\" style='\",a+=\" position: relative;\",a+=\" cursor: pointer;\",a+=\" margin: \"+this.closeBoxMargin_+\";\",a+=\"'>\"),a},b.prototype.addClickHandler_=function(){var a;\"\"!==this.closeBoxURL_?(a=this.div_.firstChild,this.closeListener_=google.maps.event.addDomListener(a,\"click\",this.getCloseClickHandler_())):this.closeListener_=null},b.prototype.getCloseClickHandler_=function(){var a=this;return function(b){b.cancelBubble=!0,b.stopPropagation&&b.stopPropagation(),google.maps.event.trigger(a,\"closeclick\"),a.close()}},b.prototype.panBox_=function(a){var b,c,d=0,e=0;if(!a&&(b=this.getMap(),b instanceof google.maps.Map)){b.getBounds().contains(this.position_)||b.setCenter(this.position_),c=b.getBounds();var f=b.getDiv(),g=f.offsetWidth,h=f.offsetHeight,i=this.pixelOffset_.width,j=this.pixelOffset_.height,k=this.div_.offsetWidth,l=this.div_.offsetHeight,m=this.infoBoxClearance_.width,n=this.infoBoxClearance_.height,o=this.getProjection().fromLatLngToContainerPixel(this.position_);if(o.x<-i+m?d=o.x+i-m:o.x+k+i+m>g&&(d=o.x+k+i+m-g),this.alignBottom_?o.y<-j+n+l?e=o.y+j-n-l:o.y+j+n>h&&(e=o.y+j+n-h):o.y<-j+n?e=o.y+j-n:o.y+l+j+n>h&&(e=o.y+l+j+n-h),0!==d||0!==e){{b.getCenter()}b.panBy(d,e)}}},b.prototype.setBoxStyle_=function(){var a,b;if(this.div_){this.div_.className=this.boxClass_,this.div_.style.cssText=\"\",b=this.boxStyle_;for(a in b)b.hasOwnProperty(a)&&(this.div_.style[a]=b[a]);this.div_.style.WebkitTransform=\"translateZ(0)\",\"undefined\"!=typeof this.div_.style.opacity&&\"\"!==this.div_.style.opacity&&(this.div_.style.MsFilter='\"progid:DXImageTransform.Microsoft.Alpha(Opacity='+100*this.div_.style.opacity+')\"',this.div_.style.filter=\"alpha(opacity=\"+100*this.div_.style.opacity+\")\"),this.div_.style.position=\"absolute\",this.div_.style.visibility=\"hidden\",null!==this.zIndex_&&(this.div_.style.zIndex=this.zIndex_)}},b.prototype.getBoxWidths_=function(){var a,b={top:0,bottom:0,left:0,right:0},c=this.div_;return document.defaultView&&document.defaultView.getComputedStyle?(a=c.ownerDocument.defaultView.getComputedStyle(c,\"\"),a&&(b.top=parseInt(a.borderTopWidth,10)||0,b.bottom=parseInt(a.borderBottomWidth,10)||0,b.left=parseInt(a.borderLeftWidth,10)||0,b.right=parseInt(a.borderRightWidth,10)||0)):document.documentElement.currentStyle&&c.currentStyle&&(b.top=parseInt(c.currentStyle.borderTopWidth,10)||0,b.bottom=parseInt(c.currentStyle.borderBottomWidth,10)||0,b.left=parseInt(c.currentStyle.borderLeftWidth,10)||0,b.right=parseInt(c.currentStyle.borderRightWidth,10)||0),b},b.prototype.onRemove=function(){this.div_&&(this.div_.parentNode.removeChild(this.div_),this.div_=null)},b.prototype.draw=function(){this.createInfoBoxDiv_();var a=this.getProjection().fromLatLngToDivPixel(this.position_);this.div_.style.left=a.x+this.pixelOffset_.width+\"px\",this.alignBottom_?this.div_.style.bottom=-(a.y+this.pixelOffset_.height)+\"px\":this.div_.style.top=a.y+this.pixelOffset_.height+\"px\",this.div_.style.visibility=this.isHidden_?\"hidden\":\"visible\"},b.prototype.setOptions=function(a){\"undefined\"!=typeof a.boxClass&&(this.boxClass_=a.boxClass,this.setBoxStyle_()),\"undefined\"!=typeof a.boxStyle&&(this.boxStyle_=a.boxStyle,this.setBoxStyle_()),\"undefined\"!=typeof a.content&&this.setContent(a.content),\"undefined\"!=typeof a.disableAutoPan&&(this.disableAutoPan_=a.disableAutoPan),\"undefined\"!=typeof a.maxWidth&&(this.maxWidth_=a.maxWidth),\"undefined\"!=typeof a.pixelOffset&&(this.pixelOffset_=a.pixelOffset),\"undefined\"!=typeof a.alignBottom&&(this.alignBottom_=a.alignBottom),\"undefined\"!=typeof a.position&&this.setPosition(a.position),\"undefined\"!=typeof a.zIndex&&this.setZIndex(a.zIndex),\"undefined\"!=typeof a.closeBoxMargin&&(this.closeBoxMargin_=a.closeBoxMargin),\"undefined\"!=typeof a.closeBoxURL&&(this.closeBoxURL_=a.closeBoxURL),\"undefined\"!=typeof a.infoBoxClearance&&(this.infoBoxClearance_=a.infoBoxClearance),\"undefined\"!=typeof a.isHidden&&(this.isHidden_=a.isHidden),\"undefined\"!=typeof a.visible&&(this.isHidden_=!a.visible),\"undefined\"!=typeof a.enableEventPropagation&&(this.enableEventPropagation_=a.enableEventPropagation),this.div_&&this.draw()},b.prototype.setContent=function(a){this.content_=a,this.div_&&(this.closeListener_&&(google.maps.event.removeListener(this.closeListener_),this.closeListener_=null),this.fixedWidthSet_||(this.div_.style.width=\"\"),\"undefined\"==typeof a.nodeType?this.div_.innerHTML=this.getCloseBoxImg_()+a:(this.div_.innerHTML=this.getCloseBoxImg_(),this.div_.appendChild(a)),this.fixedWidthSet_||(this.div_.style.width=this.div_.offsetWidth+\"px\",\"undefined\"==typeof a.nodeType?this.div_.innerHTML=this.getCloseBoxImg_()+a:(this.div_.innerHTML=this.getCloseBoxImg_(),this.div_.appendChild(a))),this.addClickHandler_()),google.maps.event.trigger(this,\"content_changed\")},b.prototype.setPosition=function(a){this.position_=a,this.div_&&this.draw(),google.maps.event.trigger(this,\"position_changed\")},b.prototype.setZIndex=function(a){this.zIndex_=a,this.div_&&(this.div_.style.zIndex=a),google.maps.event.trigger(this,\"zindex_changed\")},b.prototype.setVisible=function(a){this.isHidden_=!a,this.div_&&(this.div_.style.visibility=this.isHidden_?\"hidden\":\"visible\")},b.prototype.getContent=function(){return this.content_},b.prototype.getPosition=function(){return this.position_},b.prototype.getZIndex=function(){return this.zIndex_},b.prototype.getVisible=function(){var a;return a=\"undefined\"==typeof this.getMap()||null===this.getMap()?!1:!this.isHidden_},b.prototype.show=function(){this.isHidden_=!1,this.div_&&(this.div_.style.visibility=\"visible\")},b.prototype.hide=function(){this.isHidden_=!0,this.div_&&(this.div_.style.visibility=\"hidden\")},b.prototype.open=function(a,b){var c=this;b&&(this.position_=b.getPosition(),this.moveListener_=google.maps.event.addListener(b,\"position_changed\",function(){c.setPosition(this.getPosition())})),this.setMap(a),this.div_&&this.panBox_()},b.prototype.close=function(){var a;if(this.closeListener_&&(google.maps.event.removeListener(this.closeListener_),this.closeListener_=null),this.eventListeners_){for(a=0;a<this.eventListeners_.length;a++)google.maps.event.removeListener(this.eventListeners_[a]);this.eventListeners_=null}this.moveListener_&&(google.maps.event.removeListener(this.moveListener_),this.moveListener_=null),this.contextListener_&&(google.maps.event.removeListener(this.contextListener_),this.contextListener_=null),this.setMap(null)},function(){function b(a,b){var c=this,d=new google.maps.OverlayView;d.onAdd=function(){c.init_(a,b)},d.draw=function(){},d.onRemove=function(){},d.setMap(a),this.prjov_=d}var c=function(a){var b;switch(a){case\"thin\":b=\"2px\";break;case\"medium\":b=\"4px\";break;case\"thick\":b=\"6px\";break;default:b=a}return b},d=function(a){var b,d={};if(document.defaultView&&document.defaultView.getComputedStyle){if(b=a.ownerDocument.defaultView.getComputedStyle(a,\"\"))return d.top=parseInt(b.borderTopWidth,10)||0,d.bottom=parseInt(b.borderBottomWidth,10)||0,d.left=parseInt(b.borderLeftWidth,10)||0,d.right=parseInt(b.borderRightWidth,10)||0,d}else if(document.documentElement.currentStyle&&a.currentStyle)return d.top=parseInt(c(a.currentStyle.borderTopWidth),10)||0,d.bottom=parseInt(c(a.currentStyle.borderBottomWidth),10)||0,d.left=parseInt(c(a.currentStyle.borderLeftWidth),10)||0,d.right=parseInt(c(a.currentStyle.borderRightWidth),10)||0,d;return d.top=parseInt(a.style[\"border-top-width\"],10)||0,d.bottom=parseInt(a.style[\"border-bottom-width\"],10)||0,d.left=parseInt(a.style[\"border-left-width\"],10)||0,d.right=parseInt(a.style[\"border-right-width\"],10)||0,d},e={x:0,y:0},f=function(){e.x=\"undefined\"!=typeof document.documentElement.scrollLeft?document.documentElement.scrollLeft:document.body.scrollLeft,e.y=\"undefined\"!=typeof document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop};f();var g=function(b){var c=0,d=0;return b=b||a.event,\"undefined\"!=typeof b.pageX?(c=b.pageX,d=b.pageY):\"undefined\"!=typeof b.clientX&&(c=b.clientX+e.x,d=b.clientY+e.y),{left:c,top:d}},h=function(b){for(var c=b.offsetLeft,d=b.offsetTop,e=b.offsetParent;null!==e;){e!==document.body&&e!==document.documentElement&&(c-=e.scrollLeft,d-=e.scrollTop);var f=e,g=f.offsetLeft,h=f.offsetTop;if(!g&&!h&&a.getComputedStyle){var i=document.defaultView.getComputedStyle(f,null).MozTransform||document.defaultView.getComputedStyle(f,null).WebkitTransform;if(i&&\"string\"==typeof i){var j=i.split(\",\");g+=parseInt(j[4],10)||0,h+=parseInt(j[5],10)||0}}c+=g,d+=h,e=e.offsetParent}return{left:c,top:d}},i=function(a,b){if(a&&b)for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a},j=function(a,b){\"undefined\"!=typeof b&&(a.style.opacity=b),\"undefined\"!=typeof a.style.opacity&&\"\"!==a.style.opacity&&(a.style.filter=\"alpha(opacity=\"+100*a.style.opacity+\")\")};b.prototype.init_=function(b,c){var e,g=this;for(this.map_=b,c=c||{},this.key_=c.key||\"shift\",this.key_=this.key_.toLowerCase(),this.borderWidths_=d(this.map_.getDiv()),this.veilDiv_=[],e=0;4>e;e++)this.veilDiv_[e]=document.createElement(\"div\"),this.veilDiv_[e].onselectstart=function(){return!1},i(this.veilDiv_[e].style,{backgroundColor:\"gray\",opacity:.25,cursor:\"crosshair\"}),i(this.veilDiv_[e].style,c.paneStyle),i(this.veilDiv_[e].style,c.veilStyle),i(this.veilDiv_[e].style,{position:\"absolute\",overflow:\"hidden\",display:\"none\"}),\"shift\"===this.key_&&(this.veilDiv_[e].style.MozUserSelect=\"none\"),j(this.veilDiv_[e]),\"transparent\"===this.veilDiv_[e].style.backgroundColor&&(this.veilDiv_[e].style.backgroundColor=\"white\",j(this.veilDiv_[e],0)),this.map_.getDiv().appendChild(this.veilDiv_[e]);this.noZoom_=c.noZoom||!1,this.visualEnabled_=c.visualEnabled||!1,this.visualClass_=c.visualClass||\"\",this.visualPosition_=c.visualPosition||google.maps.ControlPosition.LEFT_TOP,this.visualPositionOffset_=c.visualPositionOffset||new google.maps.Size(35,0),this.visualPositionIndex_=c.visualPositionIndex||null,this.visualSprite_=c.visualSprite||\"http\"+(\"https:\"===document.location.protocol?\"s\":\"\")+\"://maps.gstatic.com/mapfiles/ftr/controls/dragzoom_btn.png\",this.visualSize_=c.visualSize||new google.maps.Size(20,20),this.visualTips_=c.visualTips||{},this.visualTips_.off=this.visualTips_.off||\"Turn on drag zoom mode\",this.visualTips_.on=this.visualTips_.on||\"Turn off drag zoom mode\",this.boxDiv_=document.createElement(\"div\"),i(this.boxDiv_.style,{border:\"4px solid #736AFF\"}),i(this.boxDiv_.style,c.boxStyle),i(this.boxDiv_.style,{position:\"absolute\",display:\"none\"}),j(this.boxDiv_),this.map_.getDiv().appendChild(this.boxDiv_),this.boxBorderWidths_=d(this.boxDiv_),this.listeners_=[google.maps.event.addDomListener(document,\"keydown\",function(a){g.onKeyDown_(a)}),google.maps.event.addDomListener(document,\"keyup\",function(a){g.onKeyUp_(a)}),google.maps.event.addDomListener(this.veilDiv_[0],\"mousedown\",function(a){g.onMouseDown_(a)}),google.maps.event.addDomListener(this.veilDiv_[1],\"mousedown\",function(a){g.onMouseDown_(a)}),google.maps.event.addDomListener(this.veilDiv_[2],\"mousedown\",function(a){g.onMouseDown_(a)}),google.maps.event.addDomListener(this.veilDiv_[3],\"mousedown\",function(a){g.onMouseDown_(a)}),google.maps.event.addDomListener(document,\"mousedown\",function(a){g.onMouseDownDocument_(a)}),google.maps.event.addDomListener(document,\"mousemove\",function(a){g.onMouseMove_(a)}),google.maps.event.addDomListener(document,\"mouseup\",function(a){g.onMouseUp_(a)}),google.maps.event.addDomListener(a,\"scroll\",f)],this.hotKeyDown_=!1,this.mouseDown_=!1,this.dragging_=!1,this.startPt_=null,this.endPt_=null,this.mapWidth_=null,this.mapHeight_=null,this.mousePosn_=null,this.mapPosn_=null,this.visualEnabled_&&(this.buttonDiv_=this.initControl_(this.visualPositionOffset_),null!==this.visualPositionIndex_&&(this.buttonDiv_.index=this.visualPositionIndex_),this.map_.controls[this.visualPosition_].push(this.buttonDiv_),this.controlIndex_=this.map_.controls[this.visualPosition_].length-1)},b.prototype.initControl_=function(a){var b,c,d=this;return b=document.createElement(\"div\"),b.className=this.visualClass_,b.style.position=\"relative\",b.style.overflow=\"hidden\",b.style.height=this.visualSize_.height+\"px\",b.style.width=this.visualSize_.width+\"px\",b.title=this.visualTips_.off,c=document.createElement(\"img\"),c.src=this.visualSprite_,c.style.position=\"absolute\",c.style.left=-(2*this.visualSize_.width)+\"px\",c.style.top=\"0px\",b.appendChild(c),b.onclick=function(a){d.hotKeyDown_=!d.hotKeyDown_,d.hotKeyDown_?(d.buttonDiv_.firstChild.style.left=-(0*d.visualSize_.width)+\"px\",d.buttonDiv_.title=d.visualTips_.on,d.activatedByControl_=!0,google.maps.event.trigger(d,\"activate\")):(d.buttonDiv_.firstChild.style.left=-(2*d.visualSize_.width)+\"px\",d.buttonDiv_.title=d.visualTips_.off,google.maps.event.trigger(d,\"deactivate\")),d.onMouseMove_(a)},b.onmouseover=function(){d.buttonDiv_.firstChild.style.left=-(1*d.visualSize_.width)+\"px\"},b.onmouseout=function(){d.hotKeyDown_?(d.buttonDiv_.firstChild.style.left=-(0*d.visualSize_.width)+\"px\",d.buttonDiv_.title=d.visualTips_.on):(d.buttonDiv_.firstChild.style.left=-(2*d.visualSize_.width)+\"px\",d.buttonDiv_.title=d.visualTips_.off)},b.ondragstart=function(){return!1},i(b.style,{cursor:\"pointer\",marginTop:a.height+\"px\",marginLeft:a.width+\"px\"}),b},b.prototype.isHotKeyDown_=function(b){var c;if(b=b||a.event,c=b.shiftKey&&\"shift\"===this.key_||b.altKey&&\"alt\"===this.key_||b.ctrlKey&&\"ctrl\"===this.key_,!c)switch(b.keyCode){case 16:\"shift\"===this.key_&&(c=!0);break;case 17:\"ctrl\"===this.key_&&(c=!0);break;case 18:\"alt\"===this.key_&&(c=!0)}return c},b.prototype.isMouseOnMap_=function(){var a=this.mousePosn_;if(a){var b=this.mapPosn_,c=this.map_.getDiv();return a.left>b.left&&a.left<b.left+c.offsetWidth&&a.top>b.top&&a.top<b.top+c.offsetHeight}return!1},b.prototype.setVeilVisibility_=function(){var a;if(this.map_&&this.hotKeyDown_&&this.isMouseOnMap_()){var b=this.map_.getDiv();if(this.mapWidth_=b.offsetWidth-(this.borderWidths_.left+this.borderWidths_.right),this.mapHeight_=b.offsetHeight-(this.borderWidths_.top+this.borderWidths_.bottom),this.activatedByControl_){var c=parseInt(this.buttonDiv_.style.left,10)+this.visualPositionOffset_.width,d=parseInt(this.buttonDiv_.style.top,10)+this.visualPositionOffset_.height,e=this.visualSize_.width,f=this.visualSize_.height;for(this.veilDiv_[0].style.top=\"0px\",this.veilDiv_[0].style.left=\"0px\",this.veilDiv_[0].style.width=c+\"px\",this.veilDiv_[0].style.height=this.mapHeight_+\"px\",this.veilDiv_[1].style.top=\"0px\",this.veilDiv_[1].style.left=c+e+\"px\",this.veilDiv_[1].style.width=this.mapWidth_-(c+e)+\"px\",this.veilDiv_[1].style.height=this.mapHeight_+\"px\",this.veilDiv_[2].style.top=\"0px\",this.veilDiv_[2].style.left=c+\"px\",this.veilDiv_[2].style.width=e+\"px\",this.veilDiv_[2].style.height=d+\"px\",this.veilDiv_[3].style.top=d+f+\"px\",this.veilDiv_[3].style.left=c+\"px\",this.veilDiv_[3].style.width=e+\"px\",this.veilDiv_[3].style.height=this.mapHeight_-(d+f)+\"px\",a=0;a<this.veilDiv_.length;a++)this.veilDiv_[a].style.display=\"block\"}else{for(this.veilDiv_[0].style.left=\"0px\",this.veilDiv_[0].style.top=\"0px\",this.veilDiv_[0].style.width=this.mapWidth_+\"px\",this.veilDiv_[0].style.height=this.mapHeight_+\"px\",a=1;a<this.veilDiv_.length;a++)this.veilDiv_[a].style.width=\"0px\",this.veilDiv_[a].style.height=\"0px\";for(a=0;a<this.veilDiv_.length;a++)this.veilDiv_[a].style.display=\"block\"}}else for(a=0;a<this.veilDiv_.length;a++)this.veilDiv_[a].style.display=\"none\"},b.prototype.onKeyDown_=function(a){this.map_&&!this.hotKeyDown_&&this.isHotKeyDown_(a)&&(this.mapPosn_=h(this.map_.getDiv()),this.hotKeyDown_=!0,this.activatedByControl_=!1,this.setVeilVisibility_(),google.maps.event.trigger(this,\"activate\"))},b.prototype.getMousePoint_=function(a){var b=g(a),c=new google.maps.Point;return c.x=b.left-this.mapPosn_.left-this.borderWidths_.left,c.y=b.top-this.mapPosn_.top-this.borderWidths_.top,c.x=Math.min(c.x,this.mapWidth_),c.y=Math.min(c.y,this.mapHeight_),c.x=Math.max(c.x,0),c.y=Math.max(c.y,0),c},b.prototype.onMouseDown_=function(a){if(this.map_&&this.hotKeyDown_){this.mapPosn_=h(this.map_.getDiv()),this.dragging_=!0,this.startPt_=this.endPt_=this.getMousePoint_(a),this.boxDiv_.style.width=this.boxDiv_.style.height=\"0px\";var b=this.prjov_.getProjection(),c=b.fromContainerPixelToLatLng(this.startPt_);google.maps.event.trigger(this,\"dragstart\",c)}},b.prototype.onMouseDownDocument_=function(){this.mouseDown_=!0},b.prototype.onMouseMove_=function(a){if(this.mousePosn_=g(a),this.dragging_){this.endPt_=this.getMousePoint_(a);var b=Math.min(this.startPt_.x,this.endPt_.x),c=Math.min(this.startPt_.y,this.endPt_.y),d=Math.abs(this.startPt_.x-this.endPt_.x),e=Math.abs(this.startPt_.y-this.endPt_.y),f=Math.max(0,d-(this.boxBorderWidths_.left+this.boxBorderWidths_.right)),i=Math.max(0,e-(this.boxBorderWidths_.top+this.boxBorderWidths_.bottom));this.veilDiv_[0].style.top=\"0px\",this.veilDiv_[0].style.left=\"0px\",this.veilDiv_[0].style.width=b+\"px\",this.veilDiv_[0].style.height=this.mapHeight_+\"px\",this.veilDiv_[1].style.top=\"0px\",this.veilDiv_[1].style.left=b+d+\"px\",this.veilDiv_[1].style.width=this.mapWidth_-(b+d)+\"px\",this.veilDiv_[1].style.height=this.mapHeight_+\"px\",this.veilDiv_[2].style.top=\"0px\",this.veilDiv_[2].style.left=b+\"px\",this.veilDiv_[2].style.width=d+\"px\",this.veilDiv_[2].style.height=c+\"px\",this.veilDiv_[3].style.top=c+e+\"px\",this.veilDiv_[3].style.left=b+\"px\",this.veilDiv_[3].style.width=d+\"px\",this.veilDiv_[3].style.height=this.mapHeight_-(c+e)+\"px\",this.boxDiv_.style.top=c+\"px\",this.boxDiv_.style.left=b+\"px\",this.boxDiv_.style.width=f+\"px\",this.boxDiv_.style.height=i+\"px\",this.boxDiv_.style.display=\"block\",google.maps.event.trigger(this,\"drag\",new google.maps.Point(b,c+e),new google.maps.Point(b+d,c),this.prjov_.getProjection())}else this.mouseDown_||(this.mapPosn_=h(this.map_.getDiv()),this.setVeilVisibility_())},b.prototype.onMouseUp_=function(a){var b,c=this;if(this.mouseDown_=!1,this.dragging_){if(this.getMousePoint_(a).x===this.startPt_.x&&this.getMousePoint_(a).y===this.startPt_.y)return void this.onKeyUp_(a);var d=Math.min(this.startPt_.x,this.endPt_.x),e=Math.min(this.startPt_.y,this.endPt_.y),f=Math.abs(this.startPt_.x-this.endPt_.x),g=Math.abs(this.startPt_.y-this.endPt_.y),h=!0;h&&(d+=this.borderWidths_.left,e+=this.borderWidths_.top);var i=this.prjov_.getProjection(),j=i.fromContainerPixelToLatLng(new google.maps.Point(d,e+g)),k=i.fromContainerPixelToLatLng(new google.maps.Point(d+f,e)),l=new google.maps.LatLngBounds(j,k);if(this.noZoom_)this.boxDiv_.style.display=\"none\";else{b=this.map_.getZoom(),this.map_.fitBounds(l),this.map_.getZoom()<b&&this.map_.setZoom(b);var m=i.fromLatLngToContainerPixel(j),n=i.fromLatLngToContainerPixel(k);h&&(m.x-=this.borderWidths_.left,m.y-=this.borderWidths_.top,n.x-=this.borderWidths_.left,n.y-=this.borderWidths_.top),this.boxDiv_.style.left=m.x+\"px\",this.boxDiv_.style.top=n.y+\"px\",this.boxDiv_.style.width=Math.abs(n.x-m.x)-(this.boxBorderWidths_.left+this.boxBorderWidths_.right)+\"px\",this.boxDiv_.style.height=Math.abs(n.y-m.y)-(this.boxBorderWidths_.top+this.boxBorderWidths_.bottom)+\"px\",setTimeout(function(){c.boxDiv_.style.display=\"none\"},1e3)}this.dragging_=!1,this.onMouseMove_(a),google.maps.event.trigger(this,\"dragend\",l),this.isHotKeyDown_(a)||this.onKeyUp_(a)}},b.prototype.onKeyUp_=function(){var a,b,c,d,e,f,g,h,i=null;if(this.map_&&this.hotKeyDown_){for(this.hotKeyDown_=!1,this.dragging_&&(this.boxDiv_.style.display=\"none\",this.dragging_=!1,b=Math.min(this.startPt_.x,this.endPt_.x),c=Math.min(this.startPt_.y,this.endPt_.y),d=Math.abs(this.startPt_.x-this.endPt_.x),e=Math.abs(this.startPt_.y-this.endPt_.y),f=this.prjov_.getProjection(),g=f.fromContainerPixelToLatLng(new google.maps.Point(b,c+e)),h=f.fromContainerPixelToLatLng(new google.maps.Point(b+d,c)),i=new google.maps.LatLngBounds(g,h)),a=0;a<this.veilDiv_.length;a++)this.veilDiv_[a].style.display=\"none\";this.visualEnabled_&&(this.buttonDiv_.firstChild.style.left=-(2*this.visualSize_.width)+\"px\",this.buttonDiv_.title=this.visualTips_.off,this.buttonDiv_.style.display=\"\"),google.maps.event.trigger(this,\"deactivate\",i)}},google.maps.Map.prototype.enableKeyDragZoom=function(a){this.dragZoom_=new b(this,a)},google.maps.Map.prototype.disableKeyDragZoom=function(){var a,b=this.dragZoom_;if(b){for(a=0;a<b.listeners_.length;++a)google.maps.event.removeListener(b.listeners_[a]);for(this.getDiv().removeChild(b.boxDiv_),a=0;a<b.veilDiv_.length;a++)this.getDiv().removeChild(b.veilDiv_[a]);b.visualEnabled_&&this.controls[b.visualPosition_].removeAt(b.controlIndex_),b.prjov_.setMap(null),this.dragZoom_=null}},google.maps.Map.prototype.keyDragZoomEnabled=function(){return null!==this.dragZoom_},google.maps.Map.prototype.getDragZoomObject=function(){return this.dragZoom_}}(),d.prototype.onAdd=function(){var a,b,c=this;this.div_=document.createElement(\"div\"),this.div_.className=this.className_,this.visible_&&this.show(),this.getPanes().overlayMouseTarget.appendChild(this.div_),this.boundsChangedListener_=google.maps.event.addListener(this.getMap(),\"bounds_changed\",function(){b=a}),google.maps.event.addDomListener(this.div_,\"mousedown\",function(){a=!0,b=!1}),google.maps.event.addDomListener(this.div_,\"click\",function(d){if(a=!1,!b){var e,f,g=c.cluster_.getMarkerClusterer();google.maps.event.trigger(g,\"click\",c.cluster_),google.maps.event.trigger(g,\"clusterclick\",c.cluster_),g.getZoomOnClick()&&(f=g.getMaxZoom(),e=c.cluster_.getBounds(),g.getMap().fitBounds(e),setTimeout(function(){g.getMap().fitBounds(e),null!==f&&g.getMap().getZoom()>f&&g.getMap().setZoom(f+1)},100)),d.cancelBubble=!0,d.stopPropagation&&d.stopPropagation()}}),google.maps.event.addDomListener(this.div_,\"mouseover\",function(){var a=c.cluster_.getMarkerClusterer();google.maps.event.trigger(a,\"mouseover\",c.cluster_)}),google.maps.event.addDomListener(this.div_,\"mouseout\",function(){var a=c.cluster_.getMarkerClusterer();google.maps.event.trigger(a,\"mouseout\",c.cluster_)})},d.prototype.onRemove=function(){this.div_&&this.div_.parentNode&&(this.hide(),google.maps.event.removeListener(this.boundsChangedListener_),google.maps.event.clearInstanceListeners(this.div_),this.div_.parentNode.removeChild(this.div_),this.div_=null)},d.prototype.draw=function(){if(this.visible_){var a=this.getPosFromLatLng_(this.center_);this.div_.style.top=a.y+\"px\",this.div_.style.left=a.x+\"px\"}},d.prototype.hide=function(){this.div_&&(this.div_.style.display=\"none\"),this.visible_=!1},d.prototype.show=function(){if(this.div_){var a=\"\",b=this.backgroundPosition_.split(\" \"),c=parseInt(b[0].trim(),10),d=parseInt(b[1].trim(),10),e=this.getPosFromLatLng_(this.center_);this.div_.style.cssText=this.createCss(e),a=\"<img src='\"+this.url_+\"' style='position: absolute; top: \"+d+\"px; left: \"+c+\"px; \",this.cluster_.getMarkerClusterer().enableRetinaIcons_||(a+=\"clip: rect(\"+-1*d+\"px, \"+(-1*c+this.width_)+\"px, \"+(-1*d+this.height_)+\"px, \"+-1*c+\"px);\"),a+=\"'>\",this.div_.innerHTML=a+\"<div style='position: absolute;top: \"+this.anchorText_[0]+\"px;left: \"+this.anchorText_[1]+\"px;color: \"+this.textColor_+\";font-size: \"+this.textSize_+\"px;font-family: \"+this.fontFamily_+\";font-weight: \"+this.fontWeight_+\";font-style: \"+this.fontStyle_+\";text-decoration: \"+this.textDecoration_+\";text-align: center;width: \"+this.width_+\"px;line-height:\"+this.height_+\"px;'>\"+this.sums_.text+\"</div>\",this.div_.title=\"undefined\"==typeof this.sums_.title||\"\"===this.sums_.title?this.cluster_.getMarkerClusterer().getTitle():this.sums_.title,this.div_.style.display=\"\"}this.visible_=!0},d.prototype.useStyle=function(a){this.sums_=a;var b=Math.max(0,a.index-1);b=Math.min(this.styles_.length-1,b);var c=this.styles_[b];this.url_=c.url,this.height_=c.height,this.width_=c.width,this.anchorText_=c.anchorText||[0,0],this.anchorIcon_=c.anchorIcon||[parseInt(this.height_/2,10),parseInt(this.width_/2,10)],this.textColor_=c.textColor||\"black\",this.textSize_=c.textSize||11,this.textDecoration_=c.textDecoration||\"none\",this.fontWeight_=c.fontWeight||\"bold\",this.fontStyle_=c.fontStyle||\"normal\",this.fontFamily_=c.fontFamily||\"Arial,sans-serif\",this.backgroundPosition_=c.backgroundPosition||\"0 0\"},d.prototype.setCenter=function(a){this.center_=a},d.prototype.createCss=function(a){var b=[];return b.push(\"cursor: pointer;\"),b.push(\"position: absolute; top: \"+a.y+\"px; left: \"+a.x+\"px;\"),b.push(\"width: \"+this.width_+\"px; height: \"+this.height_+\"px;\"),b.join(\"\")},d.prototype.getPosFromLatLng_=function(a){var b=this.getProjection().fromLatLngToDivPixel(a);return b.x-=this.anchorIcon_[1],b.y-=this.anchorIcon_[0],b.x=parseInt(b.x,10),b.y=parseInt(b.y,10),b},e.prototype.getSize=function(){return this.markers_.length},e.prototype.getMarkers=function(){return this.markers_},e.prototype.getCenter=function(){return this.center_},e.prototype.getMap=function(){return this.map_},e.prototype.getMarkerClusterer=function(){return this.markerClusterer_},e.prototype.getBounds=function(){var a,b=new google.maps.LatLngBounds(this.center_,this.center_),c=this.getMarkers();for(a=0;a<c.length;a++)b.extend(c[a].getPosition());return b},e.prototype.remove=function(){this.clusterIcon_.setMap(null),this.markers_=[],delete this.markers_},e.prototype.addMarker=function(a){var b,c,d;if(this.isMarkerAlreadyAdded_(a))return!1;if(this.center_){if(this.averageCenter_){var e=this.markers_.length+1,f=(this.center_.lat()*(e-1)+a.getPosition().lat())/e,g=(this.center_.lng()*(e-1)+a.getPosition().lng())/e;this.center_=new google.maps.LatLng(f,g),this.calculateBounds_()}}else this.center_=a.getPosition(),this.calculateBounds_();if(a.isAdded=!0,this.markers_.push(a),c=this.markers_.length,d=this.markerClusterer_.getMaxZoom(),null!==d&&this.map_.getZoom()>d)a.getMap()!==this.map_&&a.setMap(this.map_);else if(c<this.minClusterSize_)a.getMap()!==this.map_&&a.setMap(this.map_);else if(c===this.minClusterSize_)for(b=0;c>b;b++)this.markers_[b].setMap(null);else a.setMap(null);return this.updateIcon_(),!0},e.prototype.isMarkerInClusterBounds=function(a){return this.bounds_.contains(a.getPosition())},e.prototype.calculateBounds_=function(){var a=new google.maps.LatLngBounds(this.center_,this.center_);this.bounds_=this.markerClusterer_.getExtendedBounds(a)},e.prototype.updateIcon_=function(){var a=this.markers_.length,b=this.markerClusterer_.getMaxZoom();if(null!==b&&this.map_.getZoom()>b)return void this.clusterIcon_.hide();if(a<this.minClusterSize_)return void this.clusterIcon_.hide();var c=this.markerClusterer_.getStyles().length,d=this.markerClusterer_.getCalculator()(this.markers_,c);this.clusterIcon_.setCenter(this.center_),this.clusterIcon_.useStyle(d),this.clusterIcon_.show()},e.prototype.isMarkerAlreadyAdded_=function(a){var b;if(this.markers_.indexOf)return-1!==this.markers_.indexOf(a);for(b=0;b<this.markers_.length;b++)if(a===this.markers_[b])return!0;return!1},f.prototype.onAdd=function(){var a=this;this.activeMap_=this.getMap(),this.ready_=!0,this.repaint(),this.listeners_=[google.maps.event.addListener(this.getMap(),\"zoom_changed\",function(){a.resetViewport_(!1),(this.getZoom()===(this.get(\"minZoom\")||0)||this.getZoom()===this.get(\"maxZoom\"))&&google.maps.event.trigger(this,\"idle\")}),google.maps.event.addListener(this.getMap(),\"idle\",function(){a.redraw_()})]},f.prototype.onRemove=function(){var a;for(a=0;a<this.markers_.length;a++)this.markers_[a].getMap()!==this.activeMap_&&this.markers_[a].setMap(this.activeMap_);for(a=0;a<this.clusters_.length;a++)this.clusters_[a].remove();for(this.clusters_=[],a=0;a<this.listeners_.length;a++)google.maps.event.removeListener(this.listeners_[a]);this.listeners_=[],this.activeMap_=null,this.ready_=!1},f.prototype.draw=function(){},f.prototype.setupStyles_=function(){var a,b;if(!(this.styles_.length>0))for(a=0;a<this.imageSizes_.length;a++)b=this.imageSizes_[a],this.styles_.push({url:this.imagePath_+(a+1)+\".\"+this.imageExtension_,height:b,width:b})},f.prototype.fitMapToMarkers=function(){var a,b=this.getMarkers(),c=new google.maps.LatLngBounds;for(a=0;a<b.length;a++)c.extend(b[a].getPosition());this.getMap().fitBounds(c)},f.prototype.getGridSize=function(){return this.gridSize_},f.prototype.setGridSize=function(a){this.gridSize_=a},f.prototype.getMinimumClusterSize=function(){return this.minClusterSize_},f.prototype.setMinimumClusterSize=function(a){this.minClusterSize_=a},f.prototype.getMaxZoom=function(){return this.maxZoom_},f.prototype.setMaxZoom=function(a){this.maxZoom_=a},f.prototype.getStyles=function(){return this.styles_},f.prototype.setStyles=function(a){this.styles_=a},f.prototype.getTitle=function(){return this.title_},f.prototype.setTitle=function(a){this.title_=a},f.prototype.getZoomOnClick=function(){return this.zoomOnClick_},f.prototype.setZoomOnClick=function(a){this.zoomOnClick_=a},f.prototype.getAverageCenter=function(){return this.averageCenter_},f.prototype.setAverageCenter=function(a){this.averageCenter_=a},f.prototype.getIgnoreHidden=function(){return this.ignoreHidden_},f.prototype.setIgnoreHidden=function(a){this.ignoreHidden_=a},f.prototype.getEnableRetinaIcons=function(){return this.enableRetinaIcons_;\n\n},f.prototype.setEnableRetinaIcons=function(a){this.enableRetinaIcons_=a},f.prototype.getImageExtension=function(){return this.imageExtension_},f.prototype.setImageExtension=function(a){this.imageExtension_=a},f.prototype.getImagePath=function(){return this.imagePath_},f.prototype.setImagePath=function(a){this.imagePath_=a},f.prototype.getImageSizes=function(){return this.imageSizes_},f.prototype.setImageSizes=function(a){this.imageSizes_=a},f.prototype.getCalculator=function(){return this.calculator_},f.prototype.setCalculator=function(a){this.calculator_=a},f.prototype.getBatchSizeIE=function(){return this.batchSizeIE_},f.prototype.setBatchSizeIE=function(a){this.batchSizeIE_=a},f.prototype.getClusterClass=function(){return this.clusterClass_},f.prototype.setClusterClass=function(a){this.clusterClass_=a},f.prototype.getMarkers=function(){return this.markers_},f.prototype.getTotalMarkers=function(){return this.markers_.length},f.prototype.getClusters=function(){return this.clusters_},f.prototype.getTotalClusters=function(){return this.clusters_.length},f.prototype.addMarker=function(a,b){this.pushMarkerTo_(a),b||this.redraw_()},f.prototype.addMarkers=function(a,b){var c;for(c in a)a.hasOwnProperty(c)&&this.pushMarkerTo_(a[c]);b||this.redraw_()},f.prototype.pushMarkerTo_=function(a){if(a.getDraggable()){var b=this;google.maps.event.addListener(a,\"dragend\",function(){b.ready_&&(this.isAdded=!1,b.repaint())})}a.isAdded=!1,this.markers_.push(a)},f.prototype.removeMarker=function(a,b){var c=this.removeMarker_(a);return!b&&c&&this.repaint(),c},f.prototype.removeMarkers=function(a,b){var c,d,e=!1;for(c=0;c<a.length;c++)d=this.removeMarker_(a[c]),e=e||d;return!b&&e&&this.repaint(),e},f.prototype.removeMarker_=function(a){var b,c=-1;if(this.markers_.indexOf)c=this.markers_.indexOf(a);else for(b=0;b<this.markers_.length;b++)if(a===this.markers_[b]){c=b;break}return-1===c?!1:(a.setMap(null),this.markers_.splice(c,1),!0)},f.prototype.clearMarkers=function(){this.resetViewport_(!0),this.markers_=[]},f.prototype.repaint=function(){var a=this.clusters_.slice();this.clusters_=[],this.resetViewport_(!1),this.redraw_(),setTimeout(function(){var b;for(b=0;b<a.length;b++)a[b].remove()},0)},f.prototype.getExtendedBounds=function(a){var b=this.getProjection(),c=new google.maps.LatLng(a.getNorthEast().lat(),a.getNorthEast().lng()),d=new google.maps.LatLng(a.getSouthWest().lat(),a.getSouthWest().lng()),e=b.fromLatLngToDivPixel(c);e.x+=this.gridSize_,e.y-=this.gridSize_;var f=b.fromLatLngToDivPixel(d);f.x-=this.gridSize_,f.y+=this.gridSize_;var g=b.fromDivPixelToLatLng(e),h=b.fromDivPixelToLatLng(f);return a.extend(g),a.extend(h),a},f.prototype.redraw_=function(){this.createClusters_(0)},f.prototype.resetViewport_=function(a){var b,c;for(b=0;b<this.clusters_.length;b++)this.clusters_[b].remove();for(this.clusters_=[],b=0;b<this.markers_.length;b++)c=this.markers_[b],c.isAdded=!1,a&&c.setMap(null)},f.prototype.distanceBetweenPoints_=function(a,b){var c=6371,d=(b.lat()-a.lat())*Math.PI/180,e=(b.lng()-a.lng())*Math.PI/180,f=Math.sin(d/2)*Math.sin(d/2)+Math.cos(a.lat()*Math.PI/180)*Math.cos(b.lat()*Math.PI/180)*Math.sin(e/2)*Math.sin(e/2),g=2*Math.atan2(Math.sqrt(f),Math.sqrt(1-f)),h=c*g;return h},f.prototype.isMarkerInBounds_=function(a,b){return b.contains(a.getPosition())},f.prototype.addToClosestCluster_=function(a){var b,c,d,f,g=4e4,h=null;for(b=0;b<this.clusters_.length;b++)d=this.clusters_[b],f=d.getCenter(),f&&(c=this.distanceBetweenPoints_(f,a.getPosition()),g>c&&(g=c,h=d));h&&h.isMarkerInClusterBounds(a)?h.addMarker(a):(d=new e(this),d.addMarker(a),this.clusters_.push(d))},f.prototype.createClusters_=function(a){var b,c,d,e=this;if(this.ready_){0===a&&(google.maps.event.trigger(this,\"clusteringbegin\",this),\"undefined\"!=typeof this.timerRefStatic&&(clearTimeout(this.timerRefStatic),delete this.timerRefStatic)),d=this.getMap().getZoom()>3?new google.maps.LatLngBounds(this.getMap().getBounds().getSouthWest(),this.getMap().getBounds().getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625));var f=this.getExtendedBounds(d),g=Math.min(a+this.batchSize_,this.markers_.length);for(b=a;g>b;b++)c=this.markers_[b],!c.isAdded&&this.isMarkerInBounds_(c,f)&&(!this.ignoreHidden_||this.ignoreHidden_&&c.getVisible())&&this.addToClosestCluster_(c);g<this.markers_.length?this.timerRefStatic=setTimeout(function(){e.createClusters_(g)},0):(delete this.timerRefStatic,google.maps.event.trigger(this,\"clusteringend\",this))}},f.prototype.extend=function(a,b){return function(a){var b;for(b in a.prototype)this.prototype[b]=a.prototype[b];return this}.apply(a,[b])},f.CALCULATOR=function(a,b){for(var c=0,d=\"\",e=a.length.toString(),f=e;0!==f;)f=parseInt(f/10,10),c++;return c=Math.min(c,b),{text:e,index:c,title:d}},f.BATCH_SIZE=2e3,f.BATCH_SIZE_IE=500,f.IMAGE_PATH=\"http://google-maps-utility-library-v3.googlecode.com/svn/trunk/markerclustererplus/images/m\",f.IMAGE_EXTENSION=\"png\",f.IMAGE_SIZES=[53,56,66,78,90],g(h,google.maps.OverlayView),h.getSharedCross=function(a){var b;return\"undefined\"==typeof h.getSharedCross.crossDiv&&(b=document.createElement(\"img\"),b.style.cssText=\"position: absolute; z-index: 1000002; display: none;\",b.style.marginLeft=\"-8px\",b.style.marginTop=\"-9px\",b.src=a,h.getSharedCross.crossDiv=b),h.getSharedCross.crossDiv},h.prototype.onAdd=function(){var a,b,c,d,e,f,g,i=this,j=!1,k=!1,l=20,m=\"url(\"+this.handCursorURL_+\")\",n=function(a){a.preventDefault&&a.preventDefault(),a.cancelBubble=!0,a.stopPropagation&&a.stopPropagation()},o=function(){i.marker_.setAnimation(null)};this.getPanes().overlayImage.appendChild(this.labelDiv_),this.getPanes().overlayMouseTarget.appendChild(this.eventDiv_),\"undefined\"==typeof h.getSharedCross.processed&&(this.getPanes().overlayImage.appendChild(this.crossDiv_),h.getSharedCross.processed=!0),this.listeners_=[google.maps.event.addDomListener(this.eventDiv_,\"mouseover\",function(a){(i.marker_.getDraggable()||i.marker_.getClickable())&&(this.style.cursor=\"pointer\",google.maps.event.trigger(i.marker_,\"mouseover\",a))}),google.maps.event.addDomListener(this.eventDiv_,\"mouseout\",function(a){!i.marker_.getDraggable()&&!i.marker_.getClickable()||k||(this.style.cursor=i.marker_.getCursor(),google.maps.event.trigger(i.marker_,\"mouseout\",a))}),google.maps.event.addDomListener(this.eventDiv_,\"mousedown\",function(a){k=!1,i.marker_.getDraggable()&&(j=!0,this.style.cursor=m),(i.marker_.getDraggable()||i.marker_.getClickable())&&(google.maps.event.trigger(i.marker_,\"mousedown\",a),n(a))}),google.maps.event.addDomListener(document,\"mouseup\",function(b){var c;if(j&&(j=!1,i.eventDiv_.style.cursor=\"pointer\",google.maps.event.trigger(i.marker_,\"mouseup\",b)),k){if(e){c=i.getProjection().fromLatLngToDivPixel(i.marker_.getPosition()),c.y+=l,i.marker_.setPosition(i.getProjection().fromDivPixelToLatLng(c));try{i.marker_.setAnimation(google.maps.Animation.BOUNCE),setTimeout(o,1406)}catch(f){}}i.crossDiv_.style.display=\"none\",i.marker_.setZIndex(a),d=!0,k=!1,b.latLng=i.marker_.getPosition(),google.maps.event.trigger(i.marker_,\"dragend\",b)}}),google.maps.event.addListener(i.marker_.getMap(),\"mousemove\",function(d){var h;j&&(k?(d.latLng=new google.maps.LatLng(d.latLng.lat()-b,d.latLng.lng()-c),h=i.getProjection().fromLatLngToDivPixel(d.latLng),e&&(i.crossDiv_.style.left=h.x+\"px\",i.crossDiv_.style.top=h.y+\"px\",i.crossDiv_.style.display=\"\",h.y-=l),i.marker_.setPosition(i.getProjection().fromDivPixelToLatLng(h)),e&&(i.eventDiv_.style.top=h.y+l+\"px\"),google.maps.event.trigger(i.marker_,\"drag\",d)):(b=d.latLng.lat()-i.marker_.getPosition().lat(),c=d.latLng.lng()-i.marker_.getPosition().lng(),a=i.marker_.getZIndex(),f=i.marker_.getPosition(),g=i.marker_.getMap().getCenter(),e=i.marker_.get(\"raiseOnDrag\"),k=!0,i.marker_.setZIndex(1e6),d.latLng=i.marker_.getPosition(),google.maps.event.trigger(i.marker_,\"dragstart\",d)))}),google.maps.event.addDomListener(document,\"keydown\",function(a){k&&27===a.keyCode&&(e=!1,i.marker_.setPosition(f),i.marker_.getMap().setCenter(g),google.maps.event.trigger(document,\"mouseup\",a))}),google.maps.event.addDomListener(this.eventDiv_,\"click\",function(a){(i.marker_.getDraggable()||i.marker_.getClickable())&&(d?d=!1:(google.maps.event.trigger(i.marker_,\"click\",a),n(a)))}),google.maps.event.addDomListener(this.eventDiv_,\"dblclick\",function(a){(i.marker_.getDraggable()||i.marker_.getClickable())&&(google.maps.event.trigger(i.marker_,\"dblclick\",a),n(a))}),google.maps.event.addListener(this.marker_,\"dragstart\",function(){k||(e=this.get(\"raiseOnDrag\"))}),google.maps.event.addListener(this.marker_,\"drag\",function(){k||e&&(i.setPosition(l),i.labelDiv_.style.zIndex=1e6+(this.get(\"labelInBackground\")?-1:1))}),google.maps.event.addListener(this.marker_,\"dragend\",function(){k||e&&i.setPosition(0)}),google.maps.event.addListener(this.marker_,\"position_changed\",function(){i.setPosition()}),google.maps.event.addListener(this.marker_,\"zindex_changed\",function(){i.setZIndex()}),google.maps.event.addListener(this.marker_,\"visible_changed\",function(){i.setVisible()}),google.maps.event.addListener(this.marker_,\"labelvisible_changed\",function(){i.setVisible()}),google.maps.event.addListener(this.marker_,\"title_changed\",function(){i.setTitle()}),google.maps.event.addListener(this.marker_,\"labelcontent_changed\",function(){i.setContent()}),google.maps.event.addListener(this.marker_,\"labelanchor_changed\",function(){i.setAnchor()}),google.maps.event.addListener(this.marker_,\"labelclass_changed\",function(){i.setStyles()}),google.maps.event.addListener(this.marker_,\"labelstyle_changed\",function(){i.setStyles()})]},h.prototype.onRemove=function(){var a;for(this.labelDiv_.parentNode.removeChild(this.labelDiv_),this.eventDiv_.parentNode.removeChild(this.eventDiv_),a=0;a<this.listeners_.length;a++)google.maps.event.removeListener(this.listeners_[a])},h.prototype.draw=function(){this.setContent(),this.setTitle(),this.setStyles()},h.prototype.setContent=function(){var a=this.marker_.get(\"labelContent\");\"undefined\"==typeof a.nodeType?(this.labelDiv_.innerHTML=a,this.eventDiv_.innerHTML=this.labelDiv_.innerHTML):(this.labelDiv_.innerHTML=\"\",this.labelDiv_.appendChild(a),a=a.cloneNode(!0),this.eventDiv_.innerHTML=\"\",this.eventDiv_.appendChild(a))},h.prototype.setTitle=function(){this.eventDiv_.title=this.marker_.getTitle()||\"\"},h.prototype.setStyles=function(){var a,b;this.labelDiv_.className=this.marker_.get(\"labelClass\"),this.eventDiv_.className=this.labelDiv_.className,this.labelDiv_.style.cssText=\"\",this.eventDiv_.style.cssText=\"\",b=this.marker_.get(\"labelStyle\");for(a in b)b.hasOwnProperty(a)&&(this.labelDiv_.style[a]=b[a],this.eventDiv_.style[a]=b[a]);this.setMandatoryStyles()},h.prototype.setMandatoryStyles=function(){this.labelDiv_.style.position=\"absolute\",this.labelDiv_.style.overflow=\"hidden\",\"undefined\"!=typeof this.labelDiv_.style.opacity&&\"\"!==this.labelDiv_.style.opacity&&(this.labelDiv_.style.MsFilter='\"progid:DXImageTransform.Microsoft.Alpha(opacity='+100*this.labelDiv_.style.opacity+')\"',this.labelDiv_.style.filter=\"alpha(opacity=\"+100*this.labelDiv_.style.opacity+\")\"),this.eventDiv_.style.position=this.labelDiv_.style.position,this.eventDiv_.style.overflow=this.labelDiv_.style.overflow,this.eventDiv_.style.opacity=.01,this.eventDiv_.style.MsFilter='\"progid:DXImageTransform.Microsoft.Alpha(opacity=1)\"',this.eventDiv_.style.filter=\"alpha(opacity=1)\",this.setAnchor(),this.setPosition(),this.setVisible()},h.prototype.setAnchor=function(){var a=this.marker_.get(\"labelAnchor\");this.labelDiv_.style.marginLeft=-a.x+\"px\",this.labelDiv_.style.marginTop=-a.y+\"px\",this.eventDiv_.style.marginLeft=-a.x+\"px\",this.eventDiv_.style.marginTop=-a.y+\"px\"},h.prototype.setPosition=function(a){var b=this.getProjection().fromLatLngToDivPixel(this.marker_.getPosition());\"undefined\"==typeof a&&(a=0),this.labelDiv_.style.left=Math.round(b.x)+\"px\",this.labelDiv_.style.top=Math.round(b.y-a)+\"px\",this.eventDiv_.style.left=this.labelDiv_.style.left,this.eventDiv_.style.top=this.labelDiv_.style.top,this.setZIndex()},h.prototype.setZIndex=function(){var a=this.marker_.get(\"labelInBackground\")?-1:1;\"undefined\"==typeof this.marker_.getZIndex()?(this.labelDiv_.style.zIndex=parseInt(this.labelDiv_.style.top,10)+a,this.eventDiv_.style.zIndex=this.labelDiv_.style.zIndex):(this.labelDiv_.style.zIndex=this.marker_.getZIndex()+a,this.eventDiv_.style.zIndex=this.labelDiv_.style.zIndex)},h.prototype.setVisible=function(){this.labelDiv_.style.display=this.marker_.get(\"labelVisible\")&&this.marker_.getVisible()?\"block\":\"none\",this.eventDiv_.style.display=this.labelDiv_.style.display},g(i,google.maps.Marker),i.prototype.setMap=function(a){google.maps.Marker.prototype.setMap.apply(this,arguments),this.label.setMap(a)},a.InfoBox=b,a.Cluster=e,a.ClusterIcon=d,a.MarkerClusterer=f,a.MarkerLabel_=h,a.MarkerWithLabel=i})}}),function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={exports:{},id:d,loaded:!1};return a[d].call(e.exports,e,e.exports,b),e.loaded=!0,e.exports}var c={};return b.m=a,b.c=c,b.p=\"\",b(0)}([function(a,c,d){b.module(\"uiGmapgoogle-maps.wrapped\").service(\"uiGmapDataStructures\",function(){return{Graph:d(1).Graph,Queue:d(1).Queue}})},function(a,b,c){(function(){a.exports={Graph:c(2),Heap:c(3),LinkedList:c(4),Map:c(5),Queue:c(6),RedBlackTree:c(7),Trie:c(8)}}).call(this)},function(a){(function(){var b,c={}.hasOwnProperty;b=function(){function a(){this._nodes={},this.nodeSize=0,this.edgeSize=0}return a.prototype.addNode=function(a){return this._nodes[a]?void 0:(this.nodeSize++,this._nodes[a]={_outEdges:{},_inEdges:{}})},a.prototype.getNode=function(a){return this._nodes[a]},a.prototype.removeNode=function(a){var b,d,e,f,g;if(d=this._nodes[a]){f=d._outEdges;for(e in f)c.call(f,e)&&this.removeEdge(a,e);g=d._inEdges;for(b in g)c.call(g,b)&&this.removeEdge(b,a);return this.nodeSize--,delete this._nodes[a],d}},a.prototype.addEdge=function(a,b,c){var d,e,f;return null==c&&(c=1),!this.getEdge(a,b)&&(e=this._nodes[a],f=this._nodes[b],e&&f)?(d={weight:c},e._outEdges[b]=d,f._inEdges[a]=d,this.edgeSize++,d):void 0},a.prototype.getEdge=function(a,b){var c,d;return c=this._nodes[a],d=this._nodes[b],c&&d?c._outEdges[b]:void 0},a.prototype.removeEdge=function(a,b){var c,d,e;return d=this._nodes[a],e=this._nodes[b],(c=this.getEdge(a,b))?(delete d._outEdges[b],delete e._inEdges[a],this.edgeSize--,c):void 0},a.prototype.getInEdgesOf=function(a){var b,d,e,f;e=this._nodes[a],d=[],f=null!=e?e._inEdges:void 0;for(b in f)c.call(f,b)&&d.push(this.getEdge(b,a));return d},a.prototype.getOutEdgesOf=function(a){var b,d,e,f;b=this._nodes[a],d=[],f=null!=b?b._outEdges:void 0;for(e in f)c.call(f,e)&&d.push(this.getEdge(a,e));return d},a.prototype.getAllEdgesOf=function(a){var b,c,d,e,f,g,h;if(c=this.getInEdgesOf(a),d=this.getOutEdgesOf(a),0===c.length)return d;for(e=this.getEdge(a,a),b=f=0,g=c.length;g>=0?g>f:f>g;b=g>=0?++f:--f)if(c[b]===e){h=[c[c.length-1],c[b]],c[b]=h[0],c[c.length-1]=h[1],c.pop();break}return c.concat(d)},a.prototype.forEachNode=function(a){var b,d,e;e=this._nodes;for(b in e)c.call(e,b)&&(d=e[b],a(d,b))},a.prototype.forEachEdge=function(a){var b,d,e,f,g,h;g=this._nodes;for(d in g)if(c.call(g,d)){e=g[d],h=e._outEdges;for(f in h)c.call(h,f)&&(b=h[f],a(b))}},a}(),a.exports=b}).call(this)},function(a){(function(){var b,c,d,e;b=function(){function a(a){var b,c,d,e,f,g;for(null==a&&(a=[]),this._data=[void 0],d=0,f=a.length;f>d;d++)c=a[d],null!=c&&this._data.push(c);if(this._data.length>1)for(b=e=2,g=this._data.length;g>=2?g>e:e>g;b=g>=2?++e:--e)this._upHeap(b);this.size=this._data.length-1}return a.prototype.add=function(a){return null!=a?(this._data.push(a),this._upHeap(this._data.length-1),this.size++,a):void 0},a.prototype.removeMin=function(){var a;if(1!==this._data.length)return this.size--,2===this._data.length?this._data.pop():(a=this._data[1],this._data[1]=this._data.pop(),this._downHeap(),a)},a.prototype.peekMin=function(){return this._data[1]},a.prototype._upHeap=function(a){var b,c;for(b=this._data[a];this._data[a]<this._data[d(a)]&&a>1;)c=[this._data[d(a)],this._data[a]],this._data[a]=c[0],this._data[d(a)]=c[1],a=d(a)},a.prototype._downHeap=function(){var a,b,d;for(a=1;c(a<this._data.length)&&(b=c(a),b<this._data.length-1&&this._data[e(a)]<this._data[b]&&(b=e(a)),this._data[b]<this._data[a]);)d=[this._data[a],this._data[b]],this._data[b]=d[0],this._data[a]=d[1],a=b},a}(),d=function(a){return a>>1},c=function(a){return a<<1},e=function(a){return(a<<1)+1},a.exports=b}).call(this)},function(a){(function(){var b;b=function(){function a(a){var b,c,d;for(null==a&&(a=[]),this.head={prev:void 0,value:void 0,next:void 0},this.tail={prev:void 0,value:void 0,next:void 0},this.size=0,c=0,d=a.length;d>c;c++)b=a[c],this.add(b)}return a.prototype.at=function(a){var b,c,d,e,f;if(-this.size<=a&&a<this.size){if(a=this._adjust(a),2*a<this.size)for(b=this.head,c=d=1;a>=d;c=d+=1)b=b.next;else for(b=this.tail,c=e=1,f=this.size-a-1;f>=e;c=e+=1)b=b.prev;return b}},a.prototype.add=function(a,b){var c,d,e,f,g;return null==b&&(b=this.size),-this.size<=b&&b<=this.size?(d={value:a},b=this._adjust(b),0===this.size?this.head=d:0===b?(e=[d,this.head,d],this.head.prev=e[0],d.next=e[1],this.head=e[2]):(c=this.at(b-1),f=[c.next,d,d,c],d.next=f[0],null!=(g=c.next)?g.prev=f[1]:void 0,c.next=f[2],d.prev=f[3]),b===this.size&&(this.tail=d),this.size++,a):void 0},a.prototype.removeAt=function(a){var b,c,d;return null==a&&(a=this.size-1),-this.size<=a&&a<this.size&&0!==this.size?(a=this._adjust(a),1===this.size?(c=this.head.value,this.head.value=this.tail.value=void 0):0===a?(c=this.head.value,this.head=this.head.next,this.head.prev=void 0):(b=this.at(a),c=b.value,b.prev.next=b.next,null!=(d=b.next)&&(d.prev=b.prev),a===this.size-1&&(this.tail=b.prev)),this.size--,c):void 0},a.prototype.remove=function(a){var b;if(null!=a){for(b=this.head;b&&b.value!==a;)b=b.next;if(b)return 1===this.size?this.head.value=this.tail.value=void 0:b===this.head?(this.head=this.head.next,this.head.prev=void 0):b===this.tail?(this.tail=this.tail.prev,this.tail.next=void 0):(b.prev.next=b.next,b.next.prev=b.prev),this.size--,a}},a.prototype.indexOf=function(a,b){var c,d;if(null==b&&(b=0),null==this.head.value&&!this.head.next||b>=this.size)return-1;for(b=Math.max(0,this._adjust(b)),c=this.at(b),d=b;c&&c.value!==a;)c=c.next,d++;return d===this.size?-1:d},a.prototype._adjust=function(a){return 0>a?this.size+a:a},a}(),a.exports=b}).call(this)},function(a){(function(){var b,c,d,e,f={}.hasOwnProperty;c=\"_mapId_\",b=function(){function a(b){var c,d;this._content={},this._itemId=0,this._id=a._newMapId(),this.size=0;for(c in b)f.call(b,c)&&(d=b[c],this.set(c,d))}return a._mapIdTracker=0,a._newMapId=function(){return this._mapIdTracker++},a.prototype.hash=function(a,b){var f,g;return null==b&&(b=!1),g=d(a),e(a)?(f=c+this._id,b&&!a[f]&&(a[f]=this._itemId++),f+\"_\"+a[f]):g+\"_\"+a},a.prototype.set=function(a,b){return this.has(a)||this.size++,this._content[this.hash(a,!0)]=[b,a],b},a.prototype.get=function(a){var b;return null!=(b=this._content[this.hash(a)])?b[0]:void 0},a.prototype.has=function(a){return this.hash(a)in this._content},a.prototype[\"delete\"]=function(a){var b;return b=this.hash(a),b in this._content?(delete this._content[b],e(a)&&delete a[c+this._id],this.size--,!0):!1},a.prototype.forEach=function(a){var b,c,d;d=this._content;for(b in d)f.call(d,b)&&(c=d[b],a(c[1],c[0]))},a}(),e=function(a){var b,c,e,f,g;for(b=[\"Boolean\",\"Number\",\"String\",\"Undefined\",\"Null\",\"RegExp\",\"Function\"],e=d(a),f=0,g=b.length;g>f;f++)if(c=b[f],e===c)return!1;return!0},d=function(a){return Object.prototype.toString.apply(a).match(/\\[object (.+)\\]/)[1]},a.exports=b}).call(this)},function(a){(function(){var b;b=function(){function a(a){null==a&&(a=[]),this._content=a,this._dequeueIndex=0,this.size=this._content.length}return a.prototype.enqueue=function(a){return this.size++,this._content.push(a),a},a.prototype.dequeue=function(){var a;if(0!==this.size)return this.size--,a=this._content[this._dequeueIndex],this._dequeueIndex++,2*this._dequeueIndex>this._content.length&&(this._content=this._content.slice(this._dequeueIndex),this._dequeueIndex=0),a},a.prototype.peek=function(){return this._content[this._dequeueIndex]},a}(),a.exports=b}).call(this)},function(a){(function(){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p;c=0,d=1,e=2,h=3,f=1,b=2,g=function(){function a(a){var b,c,d;for(null==a&&(a=[]),this._root,this.size=0,c=0,d=a.length;d>c;c++)b=a[c],null!=b&&this.add(b)}return a.prototype.add=function(a){var g,l,m,n;if(null!=a){if(this.size++,m={value:a,_color:f},this._root){if(l=i(this._root,function(b){return a===b.value?c:a<b.value?b._left?d:(m._parent=b,b._left=m,h):b._right?e:(m._parent=b,b._right=m,h)}),null!=l)return}else this._root=m;for(g=m;;){if(g===this._root){g._color=b;break}if(g._parent._color===b)break;{if((null!=(n=p(g))?n._color:void 0)!==f){!k(g)&&k(g._parent)?(this._rotateLeft(g._parent),g=g._left):k(g)&&!k(g._parent)&&(this._rotateRight(g._parent),g=g._right),g._parent._color=b,j(g)._color=f,k(g)?this._rotateRight(j(g)):this._rotateLeft(j(g));break}g._parent._color=b,p(g)._color=b,j(g)._color=f,g=j(g)}}return a}},a.prototype.has=function(a){var b;return b=i(this._root,function(b){return a===b.value?c:a<b.value?d:e}),b?!0:!1},a.prototype.peekMin=function(){var a;return null!=(a=n(this._root))?a.value:void 0},a.prototype.peekMax=function(){var a;return null!=(a=m(this._root))?a.value:void 0},a.prototype.remove=function(a){var b;return(b=i(this._root,function(b){return a===b.value?c:a<b.value?d:e}))?(this._removeNode(this._root,b),this.size--,a):void 0},a.prototype.removeMin=function(){var a,b;return(a=n(this._root))?(b=a.value,this._removeNode(this._root,a),b):void 0},a.prototype.removeMax=function(){var a,b;return(a=m(this._root))?(b=a.value,this._removeNode(this._root,a),b):void 0},a.prototype._removeNode=function(a,c){var d,e,g,h,i,j,m,p,q,r;if(c._left&&c._right&&(e=n(c._right),c.value=e.value,c=e),e=c._left||c._right,e||(e={color:b,_right:void 0,_left:void 0,isLeaf:!0}),e._parent=c._parent,null!=(g=c._parent)&&(g[l(c)]=e),c._color===b)if(e._color===f)e._color=b,e._parent||(this._root=e);else for(;;){if(!e._parent){this._root=e.isLeaf?void 0:e;break}if(d=o(e),(null!=d?d._color:void 0)===f&&(e._parent._color=f,d._color=b,k(e)?this._rotateLeft(e._parent):this._rotateRight(e._parent)),d=o(e),e._parent._color!==b||d&&(d._color!==b||d._left&&d._left._color!==b||d._right&&d._right._color!==b)){if(!(e._parent._color!==f||d&&(d._color!==b||d._left&&(null!=(h=d._left)?h._color:void 0)!==b||d._right&&(null!=(i=d._right)?i._color:void 0)!==b))){null!=d&&(d._color=f),e._parent._color=b;break}if((null!=d?d._color:void 0)===b){!k(e)||d._right&&d._right._color!==b||(null!=(j=d._left)?j._color:void 0)!==f?k(e)||d._left&&d._left._color!==b||(null!=(p=d._right)?p._color:void 0)!==f||(d._color=f,null!=(q=d._right)&&(q._color=b),this._rotateLeft(d)):(d._color=f,null!=(m=d._left)&&(m._color=b),this._rotateRight(d));break}d=o(e),d._color=e._parent._color,k(e)?(d._right._color=b,this._rotateRight(e._parent)):(d._left._color=b,this._rotateLeft(e._parent))}else null!=d&&(d._color=f),e.isLeaf&&(e._parent[l(e)]=void 0),e=e._parent}return e.isLeaf&&null!=(r=e._parent)?r[l(e)]=void 0:void 0},a.prototype._rotateLeft=function(a){var b,c;return null!=(b=a._parent)&&(b[l(a)]=a._right),a._right._parent=a._parent,a._parent=a._right,a._right=a._right._left,a._parent._left=a,null!=(c=a._right)&&(c._parent=a),null==a._parent._parent?this._root=a._parent:void 0},a.prototype._rotateRight=function(a){var b,c;return null!=(b=a._parent)&&(b[l(a)]=a._left),a._left._parent=a._parent,a._parent=a._left,a._left=a._left._right,a._parent._right=a,null!=(c=a._left)&&(c._parent=a),null==a._parent._parent?this._root=a._parent:void 0},a}(),k=function(a){return a===a._parent._left},l=function(a){return k(a)?\"_left\":\"_right\"},i=function(a,b){var f,g,i;for(g=a,i=void 0;g;){if(f=b(g),f===c){i=g;break}if(f===d)g=g._left;else if(f===e)g=g._right;else if(f===h)break}return i},n=function(a){return i(a,function(a){return a._left?d:c})},m=function(a){return i(a,function(a){return a._right?e:c})},j=function(a){var b;return null!=(b=a._parent)?b._parent:void 0},p=function(a){return j(a)?k(a._parent)?j(a)._right:j(a)._left:void 0},o=function(a){return k(a)?a._parent._right:a._parent._left},a.exports=g}).call(this)},function(a,b,c){(function(){var b,d,e,f,g={}.hasOwnProperty;b=c(6),e=\"end\",d=function(){function a(a){var b,c,d;for(null==a&&(a=[]),this._root={},this.size=0,c=0,d=a.length;d>c;c++)b=a[c],this.add(b)}return a.prototype.add=function(a){var b,c,d,f;if(null!=a){for(this.size++,b=this._root,d=0,f=a.length;f>d;d++)c=a[d],null==b[c]&&(b[c]={}),b=b[c];return b[e]=!0,a}},a.prototype.has=function(a){var b,c,d,f;if(null==a)return!1;for(b=this._root,d=0,f=a.length;f>d;d++){if(c=a[d],null==b[c])return!1;b=b[c]}return b[e]?!0:!1},a.prototype.longestPrefixOf=function(a){var b,c,d,e,f;if(null==a)return\"\";for(b=this._root,d=\"\",e=0,f=a.length;f>e&&(c=a[e],null!=b[c]);e++)d+=c,b=b[c];return d},a.prototype.wordsWithPrefix=function(a){var c,d,f,h,i,j,k,l,m,n;if(null==a)return[];for(null!=a||(a=\"\"),k=[],d=this._root,l=0,m=a.length;m>l;l++)if(f=a[l],d=d[f],null==d)return[];for(i=new b,i.enqueue([d,\"\"]);0!==i.size;){n=i.dequeue(),h=n[0],c=n[1],h[e]&&k.push(a+c);for(f in h)g.call(h,f)&&(j=h[f],i.enqueue([j,c+f]))}return k},a.prototype.remove=function(a){var b,c,d,g,h,i,j,k;if(null!=a){for(b=this._root,g=[],h=0,j=a.length;j>h;h++){if(d=a[h],null==b[d])return;b=b[d],g.push([d,b])}if(b[e]){if(this.size--,delete b[e],f(b,1))return a;for(c=i=k=g.length-1;(1>=k?1>=i:i>=1)&&!f(g[c][1],1);c=1>=k?++i:--i)delete g[c-1][1][g[c][0]];return f(this._root[g[0][0]],1)||delete this._root[g[0][0]],a}}},a}(),f=function(a,b){var c,d;if(0===b)return!0;d=0;for(c in a)if(g.call(a,c)&&(d++,d>=b))return!0;return!1},a.exports=d}).call(this)}]),b.module(\"uiGmapgoogle-maps.extensions\").service(\"uiGmapExtendMarkerClusterer\",[\"uiGmapLodash\",\"uiGmapPropMap\",function(b,c){return{init:_.once(function(){(function(){var d={}.hasOwnProperty,e=function(a,b){function c(){this.constructor=a}for(var e in b)d.call(b,e)&&(a[e]=b[e]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};a.NgMapCluster=function(a){function d(a){d.__super__.constructor.call(this,a),this.markers_=new c}return e(d,a),d.prototype.addMarker=function(a){var b,c;if(this.isMarkerAlreadyAdded_(a)){var d=this.markers_.get(a.key);if(d.getPosition().lat()==a.getPosition().lat()&&d.getPosition().lon()==a.getPosition().lon())return!1}if(this.center_){if(this.averageCenter_){var e=this.markers_.length+1,f=(this.center_.lat()*(e-1)+a.getPosition().lat())/e,g=(this.center_.lng()*(e-1)+a.getPosition().lng())/e;this.center_=new google.maps.LatLng(f,g),this.calculateBounds_()}}else this.center_=a.getPosition(),this.calculateBounds_();return a.isAdded=!0,this.markers_.push(a),b=this.markers_.length,c=this.markerClusterer_.getMaxZoom(),null!==c&&this.map_.getZoom()>c?a.getMap()!==this.map_&&a.setMap(this.map_):b<this.minClusterSize_?a.getMap()!==this.map_&&a.setMap(this.map_):b===this.minClusterSize_?this.markers_.each(function(a){a.setMap(null)}):a.setMap(null),!0},d.prototype.isMarkerAlreadyAdded_=function(a){return b.isNullOrUndefined(this.markers_.get(a.key))},d.prototype.getBounds=function(){var a=new google.maps.LatLngBounds(this.center_,this.center_);return this.getMarkers().each(function(b){a.extend(b.getPosition())}),a},d.prototype.remove=function(){this.clusterIcon_.setMap(null),this.markers_=new c,delete this.markers_},d}(Cluster),a.NgMapMarkerClusterer=function(a){function b(a,d,e){b.__super__.constructor.call(this,a,d,e),this.markers_=new c}return e(b,a),b.prototype.clearMarkers=function(){this.resetViewport_(!0),this.markers_=new c},b.prototype.removeMarker_=function(a){return this.markers_.get(a.key)?(a.setMap(null),this.markers_.remove(a.key),!0):!1},b.prototype.createClusters_=function(a){var b,c,d,e=this;if(this.ready_){0===a&&(google.maps.event.trigger(this,\"clusteringbegin\",this),\"undefined\"!=typeof this.timerRefStatic&&(clearTimeout(this.timerRefStatic),delete this.timerRefStatic)),d=this.getMap().getZoom()>3?new google.maps.LatLngBounds(this.getMap().getBounds().getSouthWest(),this.getMap().getBounds().getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625));var f=this.getExtendedBounds(d),g=Math.min(a+this.batchSize_,this.markers_.length),h=this.markers_.values();for(b=a;g>b;b++)c=h[b],!c.isAdded&&this.isMarkerInBounds_(c,f)&&(!this.ignoreHidden_||this.ignoreHidden_&&c.getVisible())&&this.addToClosestCluster_(c);if(g<this.markers_.length)this.timerRefStatic=setTimeout(function(){e.createClusters_(g)},0);else{for(b=0;b<this.clusters_.length;b++)this.clusters_[b].updateIcon_();delete this.timerRefStatic,google.maps.event.trigger(this,\"clusteringend\",this)}}},b.prototype.addToClosestCluster_=function(a){var b,c,d,e,f=4e4,g=null;for(b=0;b<this.clusters_.length;b++)d=this.clusters_[b],e=d.getCenter(),e&&(c=this.distanceBetweenPoints_(e,a.getPosition()),f>c&&(f=c,g=d));g&&g.isMarkerInClusterBounds(a)?g.addMarker(a):(d=new NgMapCluster(this),d.addMarker(a),this.clusters_.push(d))},b.prototype.redraw_=function(){this.createClusters_(0)},b.prototype.resetViewport_=function(a){var b;for(b=0;b<this.clusters_.length;b++)this.clusters_[b].remove();this.clusters_=[],this.markers_.each(function(b){b.isAdded=!1,a&&b.setMap(null)})},b.prototype.extend=function(a,b){return function(a){var b;for(b in a.prototype)\"constructor\"!==b&&(this.prototype[b]=a.prototype[b]);return this}.apply(a,[b])},ClusterIcon.prototype.show=function(){if(this.div_){var a=\"\",b=this.backgroundPosition_.split(\" \"),c=parseInt(b[0].trim(),10),d=parseInt(b[1].trim(),10),e=this.getPosFromLatLng_(this.center_);this.div_.style.cssText=this.createCss(e),a=\"<img src='\"+this.url_+\"' style='position: absolute; top: \"+d+\"px; left: \"+c+\"px; \",a+=this.cluster_.getMarkerClusterer().enableRetinaIcons_?\"width: \"+this.width_+\"px;height: \"+this.height_+\"px;\":\"clip: rect(\"+-1*d+\"px, \"+(-1*c+this.width_)+\"px, \"+(-1*d+this.height_)+\"px, \"+-1*c+\"px);\",a+=\"'>\",this.div_.innerHTML=a+\"<div style='position: absolute;top: \"+this.anchorText_[0]+\"px;left: \"+this.anchorText_[1]+\"px;color: \"+this.textColor_+\";font-size: \"+this.textSize_+\"px;font-family: \"+this.fontFamily_+\";font-weight: \"+this.fontWeight_+\";font-style: \"+this.fontStyle_+\";text-decoration: \"+this.textDecoration_+\";text-align: center;width: \"+this.width_+\"px;line-height:\"+this.height_+\"px;'>\"+this.sums_.text+\"</div>\",this.div_.title=\"undefined\"==typeof this.sums_.title||\"\"===this.sums_.title?this.cluster_.getMarkerClusterer().getTitle():this.sums_.title,this.div_.style.display=\"\"}this.visible_=!0},b}(MarkerClusterer)}).call(this)})}}])}(window,angular);","/*! \n * angular-loading-bar v0.7.1\n * https://chieffancypants.github.io/angular-loading-bar\n * Copyright (c) 2015 Wes Cruver\n * License: MIT\n */\n!function(){\"use strict\";angular.module(\"angular-loading-bar\",[\"cfp.loadingBarInterceptor\"]),angular.module(\"chieffancypants.loadingBar\",[\"cfp.loadingBarInterceptor\"]),angular.module(\"cfp.loadingBarInterceptor\",[\"cfp.loadingBar\"]).config([\"$httpProvider\",function(a){var b=[\"$q\",\"$cacheFactory\",\"$timeout\",\"$rootScope\",\"$log\",\"cfpLoadingBar\",function(b,c,d,e,f,g){function h(){d.cancel(j),g.complete(),l=0,k=0}function i(b){var d,e=c.get(\"$http\"),f=a.defaults;!b.cache&&!f.cache||b.cache===!1||\"GET\"!==b.method&&\"JSONP\"!==b.method||(d=angular.isObject(b.cache)?b.cache:angular.isObject(f.cache)?f.cache:e);var g=void 0!==d?void 0!==d.get(b.url):!1;return void 0!==b.cached&&g!==b.cached?b.cached:(b.cached=g,g)}var j,k=0,l=0,m=g.latencyThreshold;return{request:function(a){return a.ignoreLoadingBar||i(a)||(e.$broadcast(\"cfpLoadingBar:loading\",{url:a.url}),0===k&&(j=d(function(){g.start()},m)),k++,g.set(l/k)),a},response:function(a){return a&&a.config?(a.config.ignoreLoadingBar||i(a.config)||(l++,e.$broadcast(\"cfpLoadingBar:loaded\",{url:a.config.url,result:a}),l>=k?h():g.set(l/k)),a):(f.error(\"Broken interceptor detected: Config object not supplied in response:\\n https://github.com/chieffancypants/angular-loading-bar/pull/50\"),a)},responseError:function(a){return a&&a.config?(a.config.ignoreLoadingBar||i(a.config)||(l++,e.$broadcast(\"cfpLoadingBar:loaded\",{url:a.config.url,result:a}),l>=k?h():g.set(l/k)),b.reject(a)):(f.error(\"Broken interceptor detected: Config object not supplied in rejection:\\n https://github.com/chieffancypants/angular-loading-bar/pull/50\"),b.reject(a))}}}];a.interceptors.push(b)}]),angular.module(\"cfp.loadingBar\",[]).provider(\"cfpLoadingBar\",function(){this.includeSpinner=!0,this.includeBar=!0,this.latencyThreshold=100,this.startSize=.02,this.parentSelector=\"body\",this.spinnerTemplate='<div id=\"loading-bar-spinner\"><div class=\"spinner-icon\"></div></div>',this.loadingBarTemplate='<div id=\"loading-bar\"><div class=\"bar\"><div class=\"peg\"></div></div></div>',this.$get=[\"$injector\",\"$document\",\"$timeout\",\"$rootScope\",function(a,b,c,d){function e(){k||(k=a.get(\"$animate\"));var e=b.find(n).eq(0);c.cancel(m),r||(d.$broadcast(\"cfpLoadingBar:started\"),r=!0,u&&k.enter(o,e,angular.element(e[0].lastChild)),t&&k.enter(q,e,angular.element(e[0].lastChild)),f(v))}function f(a){if(r){var b=100*a+\"%\";p.css(\"width\",b),s=a,c.cancel(l),l=c(function(){g()},250)}}function g(){if(!(h()>=1)){var a=0,b=h();a=b>=0&&.25>b?(3*Math.random()+3)/100:b>=.25&&.65>b?3*Math.random()/100:b>=.65&&.9>b?2*Math.random()/100:b>=.9&&.99>b?.005:0;var c=h()+a;f(c)}}function h(){return s}function i(){s=0,r=!1}function j(){k||(k=a.get(\"$animate\")),d.$broadcast(\"cfpLoadingBar:completed\"),f(1),c.cancel(m),m=c(function(){var a=k.leave(o,i);a&&a.then&&a.then(i),k.leave(q)},500)}var k,l,m,n=this.parentSelector,o=angular.element(this.loadingBarTemplate),p=o.find(\"div\").eq(0),q=angular.element(this.spinnerTemplate),r=!1,s=0,t=this.includeSpinner,u=this.includeBar,v=this.startSize;return{start:e,set:f,status:h,inc:g,complete:j,includeSpinner:this.includeSpinner,latencyThreshold:this.latencyThreshold,parentSelector:this.parentSelector,startSize:this.startSize}}]})}();","!function(e){\"use strict\";var t=e.module(\"ngDroplet\",[]).directive(\"droplet\",[\"$rootScope\",\"$window\",\"$timeout\",\"$q\",function(t,n,s,r){return{restrict:\"EA\",require:\"?ngModel\",scope:{\"interface\":\"=ngModel\"},controller:[\"$scope\",function(i){i.FILE_TYPES={VALID:1,INVALID:2,DELETED:4,UPLOADED:8},i.FILE_TYPES.ALL=Object.keys(i.FILE_TYPES).reduce(function(e,t){return e|=i.FILE_TYPES[t]},0),i.files=[],i.isUploading=!1,i.isError=!1;var o=function(e,t){var s=function(e){return\"string\"==typeof e?e.toLowerCase():e};return t.some(function(t){var r=t instanceof n.RegExp;return r?t.test(s(e)):s(t)===s(e)})};i.getEvent=function(e){return\"originalEvent\"in e?e.originalEvent:e},i.isValidHTTPStatus=function(e){return o(e,i.options.statuses.success)},i.isValidExtension=function(e){return o(e,i.options.extensions)},i.options={requestUrl:\"\",disableXFileSize:!1,parserFn:function(e){return n.JSON.parse(e)},useArray:!0,requestHeaders:{},requestPostData:{},extensions:[],statuses:{success:[/2.{2}/]}},i.requestProgress={percent:0,total:0,loaded:0},i.listeners={files:[],deferred:null,httpRequest:null,success:function(){this.httpRequest.onreadystatechange=function(){if(4===this.httpRequest.readyState){if(i.isValidHTTPStatus(this.httpRequest.status))return void i.$apply(function(){var n=i.options.parserFn(this.httpRequest.responseText);t.$broadcast(\"$dropletSuccess\",n,this.files),this.deferred.resolve(n,this.files),i.finishedUploading(),e.forEach(this.files,function(e){e.setType(i.FILE_TYPES.UPLOADED)})}.bind(this));this.httpRequest.upload.onerror()}}.bind(this)},error:function(){this.httpRequest.upload.onerror=function(){i.$apply(function(){i.finishedUploading(),i.isError=!0;var e=i.options.parserFn(this.httpRequest.responseText);t.$broadcast(\"$dropletError\",e),this.deferred.reject(e)}.bind(this))}.bind(this)},progress:function(){var e=i.getRequestLength(this.files);this.httpRequest.upload.onprogress=function(t){i.$apply(function(){t.lengthComputable&&(i.requestProgress.percent=Math.round(t.loaded/e*100),i.requestProgress.loaded=t.loaded,i.requestProgress.total=e)})}}},function(){i.DropletModel=function(){},i.DropletModel.prototype={load:function(e){e instanceof n.File||i.throwException('Loaded files must be an instance of the \"File\" object'),this.file=e,this.date=new n.Date,this.mimeType=e.type,this.extension=i.getExtension(e),t.$broadcast(\"$dropletFileAdded\",this)},deleteFile:function(){this.setType(i.FILE_TYPES.DELETED),t.$broadcast(\"$dropletFileDeleted\",this)},setType:function(e){this.type=e},isImage:function(){return!!this.file.type.match(/^image\\//i)}}}(),i.finishedUploading=function(){i.progress={percent:0,total:0,loaded:0},i.isUploading=!1},i.forEachFile=function(t,n){e.forEach(i.filterFiles(t||i.FILE_TYPES.VALID),function(e){n(e)})},i.addFile=function(e,t){t=t||i.FILE_TYPES.VALID;var n=new i.DropletModel;return n.load(e),n.setType(t),i.files.push(n),n},i.filterFiles=function(e){return i.files.filter(function(t){return e&t.type})},i.getExtension=function(e){return-1===e.name.indexOf(\".\")?\"\":e.name.split(\".\").pop().trim().toLowerCase()},i.traverseFiles=function(e){for(var t=0,n=e.length;n>t;t++){var s=e[t],r=i.getExtension(s),o=i.FILE_TYPES.VALID;i.isValidExtension(r)||(o=i.FILE_TYPES.INVALID),i.addFile(s,o)}},i.uploadFiles=function(){i.isError=!1;var t=new n.XMLHttpRequest,s=new n.FormData,o=i.filterFiles(i.FILE_TYPES.VALID),a=i.options.useArray?\"file[]\":\"file\",l=i.getRequestLength(o),u=r.defer();return t.open(\"post\",i.options.requestUrl,!0),function(){i.options.disableXFileSize||t.setRequestHeader(\"X-File-Size\",l),i.addRequestHeaders(t),i.addPostData(s)}(),function(){i.listeners.files=o,i.listeners.deferred=u,i.listeners.httpRequest=t,i.listeners.progress(),i.listeners.success(),i.listeners.error()}(),e.forEach(o,function(e){s.append(a,e.file)}),i.isUploading=!0,t.send(s),u.promise},i.addRequestHeaders=function(e){for(var t in i.options.requestHeaders)i.options.requestHeaders.hasOwnProperty(t)&&e.setRequestHeader(t,i.options.requestHeaders[t]);return Object.keys(i.options.requestHeaders)},i.addPostData=function(e){for(var t in i.options.requestPostData)i.options.requestPostData.hasOwnProperty(t)&&e.append(t,i.options.requestPostData[t]);return Object.keys(i.options.requestPostData)},i.getRequestLength=function(e){var t=e||i.filterFiles(i.FILE_TYPES.VALID);return t.reduce(function(e,t){return e+t.file.size},0)},i.throwException=function(e){throw\"ngDroplet: \"+e+\".\"},function(){i.interface={FILE_TYPES:i.FILE_TYPES,uploadFiles:i.uploadFiles,progress:i.requestProgress,useParser:function(e){\"function\"!=typeof e&&i.throwException('Parser function must be typeof \"function\"'),i.options.parserFn=e},isUploading:function(){return i.isUploading},isError:function(){return i.isError},isReady:function(){return!!i.filterFiles(i.FILE_TYPES.VALID).length},addFile:i.addFile,traverseFiles:i.traverseFiles,disableXFileSize:function(){i.options.disableXFileSize=!0},useArray:function(e){i.options.useArray=!!e},setRequestUrl:function(e){i.options.requestUrl=e},setRequestHeaders:function(e){i.options.requestHeaders=e},setPostData:function(e){i.options.requestPostData=e},getFiles:function(e){return e?i.filterFiles(e):i.files},allowedExtensions:function(t){e.isArray(t)||i.throwException(\"Extensions must be an array\"),i.options.extensions=t},defineHTTPSuccess:function(t){e.isArray(t)||i.throwException(\"Status list must be an array\"),i.options.statuses.success=t}},s(function(){t.$broadcast(\"$dropletReady\")})}()}],link:function(e,t){var n=function(n){n=e.getEvent(n),t.removeClass(\"event-dragleave\"),t.removeClass(\"event-dragenter\"),t.removeClass(\"event-dragover\"),t.removeClass(\"event-drop\"),t.addClass(\"event-\"+n.type),n.preventDefault(),n.stopPropagation()};t.bind(\"dragover dragenter dragleave\",n),t.bind(\"drop\",function(t){n(t),e.$apply(function(){t=e.getEvent(t),e.traverseFiles(t.dataTransfer.files)})})}}}]).directive(\"dropletPreview\",[\"$window\",function(e){return{scope:{model:\"=ngModel\"},restrict:\"EA\",replace:!0,template:'<img ng-show=\"model.isImage()\" style=\"background-image: url({{imageData}})\" class=\"droplet-preview\" />',link:function(t){t.imageData=\"\";var n=new e.FileReader;n.onload=function(e){t.$apply(function(){t.imageData=e.target.result})},t.model.isImage()&&n.readAsDataURL(t.model.file)}}}]);!function(){var e=function(e,n){t.directive(e,function(){return{restrict:\"EA\",require:\"ngModel\",replace:!0,template:n,scope:{\"interface\":\"=ngModel\"},link:function(e,t){t.bind(\"change\",function(){e.$apply(function(){e.interface.traverseFiles(t[0].files)})})}}})};e(\"dropletUploadSingle\",'<input class=\"droplet-upload droplet-single\" type=\"file\" />'),e(\"dropletUploadMultiple\",'<input class=\"droplet-upload droplet-multiple\" type=\"file\" multiple=\"multiple\" />')}()}(window.angular);","!function(a,b){\"function\"==typeof define&&define.amd?define(\"progressbar\",[],function(){return b()}):a.ProgressBar=b()}(this,function(){function a(){}function b(a,b){a=a||{},b=b||{};for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a}function c(a){return\"string\"==typeof a||a instanceof String}function d(a){return\"function\"==typeof a}!function(a){var b=function(){\"use strict\";function b(){}function c(a,b){var c;for(c in a)Object.hasOwnProperty.call(a,c)&&b(c)}function d(a,b){return c(b,function(c){a[c]=b[c]}),a}function e(a,b){c(b,function(c){void 0===a[c]&&(a[c]=b[c])})}function f(a,b,c,d,e,f,h){var i,j=(a-f)/e;for(i in b)b.hasOwnProperty(i)&&(b[i]=g(c[i],d[i],l[h[i]],j));return b}function g(a,b,c,d){return a+(b-a)*c(d)}function h(a,b){var d=k.prototype.filter,e=a._filterArgs;c(d,function(c){void 0!==d[c][b]&&d[c][b].apply(a,e)})}function i(a,b,c,d,e,g,i,j,k){s=b+c,t=Math.min(r(),s),u=t>=s,a.isPlaying()&&!u?(k(a._timeoutHandler,p),h(a,\"beforeTween\"),f(t,d,e,g,c,b,i),h(a,\"afterTween\"),j(d)):u&&(j(g),a.stop(!0))}function j(a,b){var d={};return\"string\"==typeof b?c(a,function(a){d[a]=b}):c(a,function(a){d[a]||(d[a]=b[a]||n)}),d}function k(a,b){this._currentState=a||{},this._configured=!1,this._scheduleFunction=m,void 0!==b&&this.setConfig(b)}var l,m,n=\"linear\",o=500,p=1e3/60,q=Date.now?Date.now:function(){return+new Date},r=q;m=\"undefined\"!=typeof window?window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||window.mozCancelRequestAnimationFrame&&window.mozRequestAnimationFrame||setTimeout:setTimeout;var s,t,u;return k.prototype.tween=function(a){return this._isTweening?this:(void 0===a&&this._configured||this.setConfig(a),this._start(this.get()),this.resume())},k.prototype.setConfig=function(a){a=a||{},this._configured=!0,this._pausedAtTime=null,this._start=a.start||b,this._step=a.step||b,this._finish=a.finish||b,this._duration=a.duration||o,this._currentState=a.from||this.get(),this._originalState=this.get(),this._targetState=a.to||this.get(),this._timestamp=r();var c=this._currentState,d=this._targetState;return e(d,c),this._easing=j(c,a.easing||n),this._filterArgs=[c,this._originalState,d,this._easing],h(this,\"tweenCreated\"),this},k.prototype.get=function(){return d({},this._currentState)},k.prototype.set=function(a){this._currentState=a},k.prototype.pause=function(){return this._pausedAtTime=r(),this._isPaused=!0,this},k.prototype.resume=function(){this._isPaused&&(this._timestamp+=r()-this._pausedAtTime),this._isPaused=!1,this._isTweening=!0;var a=this;return this._timeoutHandler=function(){i(a,a._timestamp,a._duration,a._currentState,a._originalState,a._targetState,a._easing,a._step,a._scheduleFunction)},this._timeoutHandler(),this},k.prototype.stop=function(a){return this._isTweening=!1,this._isPaused=!1,this._timeoutHandler=b,a&&(d(this._currentState,this._targetState),h(this,\"afterTweenEnd\"),this._finish.call(this,this._currentState)),this},k.prototype.isPlaying=function(){return this._isTweening&&!this._isPaused},k.prototype.setScheduleFunction=function(a){this._scheduleFunction=a},k.prototype.dispose=function(){var a;for(a in this)this.hasOwnProperty(a)&&delete this[a]},k.prototype.filter={},k.prototype.formula={linear:function(a){return a}},l=k.prototype.formula,d(k,{now:r,each:c,tweenProps:f,tweenProp:g,applyFilter:h,shallowCopy:d,defaults:e,composeEasingObject:j}),\"object\"==typeof exports?module.exports=k:\"function\"==typeof define&&define.amd?define(function(){return k}):void 0===a.Tweenable&&(a.Tweenable=k),k}();!function(){b.shallowCopy(b.prototype.formula,{easeInQuad:function(a){return Math.pow(a,2)},easeOutQuad:function(a){return-(Math.pow(a-1,2)-1)},easeInOutQuad:function(a){return 1>(a/=.5)?.5*Math.pow(a,2):-.5*((a-=2)*a-2)},easeInCubic:function(a){return Math.pow(a,3)},easeOutCubic:function(a){return Math.pow(a-1,3)+1},easeInOutCubic:function(a){return 1>(a/=.5)?.5*Math.pow(a,3):.5*(Math.pow(a-2,3)+2)},easeInQuart:function(a){return Math.pow(a,4)},easeOutQuart:function(a){return-(Math.pow(a-1,4)-1)},easeInOutQuart:function(a){return 1>(a/=.5)?.5*Math.pow(a,4):-.5*((a-=2)*Math.pow(a,3)-2)},easeInQuint:function(a){return Math.pow(a,5)},easeOutQuint:function(a){return Math.pow(a-1,5)+1},easeInOutQuint:function(a){return 1>(a/=.5)?.5*Math.pow(a,5):.5*(Math.pow(a-2,5)+2)},easeInSine:function(a){return-Math.cos(a*(Math.PI/2))+1},easeOutSine:function(a){return Math.sin(a*(Math.PI/2))},easeInOutSine:function(a){return-.5*(Math.cos(Math.PI*a)-1)},easeInExpo:function(a){return 0===a?0:Math.pow(2,10*(a-1))},easeOutExpo:function(a){return 1===a?1:-Math.pow(2,-10*a)+1},easeInOutExpo:function(a){return 0===a?0:1===a?1:1>(a/=.5)?.5*Math.pow(2,10*(a-1)):.5*(-Math.pow(2,-10*--a)+2)},easeInCirc:function(a){return-(Math.sqrt(1-a*a)-1)},easeOutCirc:function(a){return Math.sqrt(1-Math.pow(a-1,2))},easeInOutCirc:function(a){return 1>(a/=.5)?-.5*(Math.sqrt(1-a*a)-1):.5*(Math.sqrt(1-(a-=2)*a)+1)},easeOutBounce:function(a){return 1/2.75>a?7.5625*a*a:2/2.75>a?7.5625*(a-=1.5/2.75)*a+.75:2.5/2.75>a?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375},easeInBack:function(a){var b=1.70158;return a*a*((b+1)*a-b)},easeOutBack:function(a){var b=1.70158;return(a-=1)*a*((b+1)*a+b)+1},easeInOutBack:function(a){var b=1.70158;return 1>(a/=.5)?.5*a*a*(((b*=1.525)+1)*a-b):.5*((a-=2)*a*(((b*=1.525)+1)*a+b)+2)},elastic:function(a){return-1*Math.pow(4,-8*a)*Math.sin(2*(6*a-1)*Math.PI/2)+1},swingFromTo:function(a){var b=1.70158;return 1>(a/=.5)?.5*a*a*(((b*=1.525)+1)*a-b):.5*((a-=2)*a*(((b*=1.525)+1)*a+b)+2)},swingFrom:function(a){var b=1.70158;return a*a*((b+1)*a-b)},swingTo:function(a){var b=1.70158;return(a-=1)*a*((b+1)*a+b)+1},bounce:function(a){return 1/2.75>a?7.5625*a*a:2/2.75>a?7.5625*(a-=1.5/2.75)*a+.75:2.5/2.75>a?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375},bouncePast:function(a){return 1/2.75>a?7.5625*a*a:2/2.75>a?2-(7.5625*(a-=1.5/2.75)*a+.75):2.5/2.75>a?2-(7.5625*(a-=2.25/2.75)*a+.9375):2-(7.5625*(a-=2.625/2.75)*a+.984375)},easeFromTo:function(a){return 1>(a/=.5)?.5*Math.pow(a,4):-.5*((a-=2)*Math.pow(a,3)-2)},easeFrom:function(a){return Math.pow(a,4)},easeTo:function(a){return Math.pow(a,.25)}})}(),function(){function a(a,b,c,d,e,f){function g(a){return((n*a+o)*a+p)*a}function h(a){return((q*a+r)*a+s)*a}function i(a){return(3*n*a+2*o)*a+p}function j(a){return 1/(200*a)}function k(a,b){return h(m(a,b))}function l(a){return a>=0?a:0-a}function m(a,b){var c,d,e,f,h,j;for(e=a,j=0;8>j;j++){if(f=g(e)-a,b>l(f))return e;if(h=i(e),1e-6>l(h))break;e-=f/h}if(c=0,d=1,e=a,c>e)return c;if(e>d)return d;for(;d>c;){if(f=g(e),b>l(f-a))return e;a>f?c=e:d=e,e=.5*(d-c)+c}return e}var n=0,o=0,p=0,q=0,r=0,s=0;return p=3*b,o=3*(d-b)-p,n=1-p-o,s=3*c,r=3*(e-c)-s,q=1-s-r,k(a,j(f))}function c(b,c,d,e){return function(f){return a(f,b,c,d,e,1)}}b.setBezierFunction=function(a,d,e,f,g){var h=c(d,e,f,g);return h.x1=d,h.y1=e,h.x2=f,h.y2=g,b.prototype.formula[a]=h},b.unsetBezierFunction=function(a){delete b.prototype.formula[a]}}(),function(){function a(a,c,d,e,f){return b.tweenProps(e,c,a,d,1,0,f)}var c=new b;c._filterArgs=[],b.interpolate=function(d,e,f,g){var h=b.shallowCopy({},d),i=b.composeEasingObject(d,g||\"linear\");c.set({});var j=c._filterArgs;j.length=0,j[0]=h,j[1]=d,j[2]=e,j[3]=i,b.applyFilter(c,\"tweenCreated\"),b.applyFilter(c,\"beforeTween\");var k=a(d,h,e,f,i);return b.applyFilter(c,\"afterTween\"),k}}(),function(a){function b(a,b){B.length=0;var c,d=a.length;for(c=0;d>c;c++)B.push(\"_\"+b+\"_\"+c);return B}function c(a){var b=a.match(v);return b?(1===b.length||a[0].match(u))&&b.unshift(\"\"):b=[\"\",\"\"],b.join(A)}function d(b){a.each(b,function(a){var c=b[a];\"string\"==typeof c&&c.match(z)&&(b[a]=e(c))})}function e(a){return i(z,a,f)}function f(a){var b=g(a);return\"rgb(\"+b[0]+\",\"+b[1]+\",\"+b[2]+\")\"}function g(a){return a=a.replace(/#/,\"\"),3===a.length&&(a=a.split(\"\"),a=a[0]+a[0]+a[1]+a[1]+a[2]+a[2]),C[0]=h(a.substr(0,2)),C[1]=h(a.substr(2,2)),C[2]=h(a.substr(4,2)),C}function h(a){return parseInt(a,16)}function i(a,b,c){var d=b.match(a),e=b.replace(a,A);if(d)for(var f,g=d.length,h=0;g>h;h++)f=d.shift(),e=e.replace(A,c(f));return e}function j(a){return i(x,a,k)}function k(a){for(var b=a.match(w),c=b.length,d=a.match(y)[0],e=0;c>e;e++)d+=parseInt(b[e],10)+\",\";return d=d.slice(0,-1)+\")\"}function l(d){var e={};return a.each(d,function(a){var f=d[a];if(\"string\"==typeof f){var g=r(f);e[a]={formatString:c(f),chunkNames:b(g,a)}}}),e}function m(b,c){a.each(c,function(a){for(var d=b[a],e=r(d),f=e.length,g=0;f>g;g++)b[c[a].chunkNames[g]]=+e[g];delete b[a]})}function n(b,c){a.each(c,function(a){var d=b[a],e=o(b,c[a].chunkNames),f=p(e,c[a].chunkNames);d=q(c[a].formatString,f),b[a]=j(d)})}function o(a,b){for(var c,d={},e=b.length,f=0;e>f;f++)c=b[f],d[c]=a[c],delete a[c];return d}function p(a,b){D.length=0;for(var c=b.length,d=0;c>d;d++)D.push(a[b[d]]);return D}function q(a,b){for(var c=a,d=b.length,e=0;d>e;e++)c=c.replace(A,+b[e].toFixed(4));return c}function r(a){return a.match(w)}function s(b,c){a.each(c,function(a){for(var d=c[a],e=d.chunkNames,f=e.length,g=b[a].split(\" \"),h=g[g.length-1],i=0;f>i;i++)b[e[i]]=g[i]||h;delete b[a]})}function t(b,c){a.each(c,function(a){for(var d=c[a],e=d.chunkNames,f=e.length,g=\"\",h=0;f>h;h++)g+=\" \"+b[e[h]],delete b[e[h]];b[a]=g.substr(1)})}var u=/(\\d|\\-|\\.)/,v=/([^\\-0-9\\.]+)/g,w=/[0-9.\\-]+/g,x=RegExp(\"rgb\\\\(\"+w.source+/,\\s*/.source+w.source+/,\\s*/.source+w.source+\"\\\\)\",\"g\"),y=/^.*\\(/,z=/#([0-9]|[a-f]){3,6}/gi,A=\"VAL\",B=[],C=[],D=[];a.prototype.filter.token={tweenCreated:function(a,b,c){d(a),d(b),d(c),this._tokenData=l(a)},beforeTween:function(a,b,c,d){s(d,this._tokenData),m(a,this._tokenData),m(b,this._tokenData),m(c,this._tokenData)},afterTween:function(a,b,c,d){n(a,this._tokenData),n(b,this._tokenData),n(c,this._tokenData),t(d,this._tokenData)}}}(b)}(this);var e={easeIn:\"easeInCubic\",easeOut:\"easeOutCubic\",easeInOut:\"easeInOutCubic\"},f=function(a,b){if(0!==arguments.length){var d,e=this._createSvgView(b);d=c(a)?document.querySelector(a):a,d.appendChild(e.svg),this._path=new j(e.path,b),this.path=e.path,this.trail=e.trail}};f.prototype.animate=function(a,b,c){this._path.stop(),this._path.animate(a,b,c)},f.prototype.stop=function(){this._path.stop()},f.prototype.set=function(a){this._path.set(a)},f.prototype._createSvgView=function(a){a=b({color:\"#555\",strokeWidth:1,trailColor:null,fill:null},a);var c=document.createElementNS(\"http://www.w3.org/2000/svg\",\"svg\");this._initializeSvg(c,a);var d=null;if(a.trailColor){var e=b({},a);e.color=a.trailColor,a.fill=null,d=this._createPath(e),c.appendChild(d)}var f=this._createPath(a);return c.appendChild(f),{svg:c,path:f,trail:d}},f.prototype._initializeSvg=function(a){a.setAttribute(\"viewBox\",\"0 0 100 100\")},f.prototype._createPath=function(a){var b=document.createElementNS(\"http://www.w3.org/2000/svg\",\"path\");return b.setAttribute(\"d\",this._pathString(a)),b.setAttribute(\"stroke\",a.color),b.setAttribute(\"stroke-width\",a.strokeWidth),a.fill?b.setAttribute(\"fill\",a.fill):b.setAttribute(\"fill-opacity\",\"0\"),b},f.prototype._pathString=function(){throw new Error(\"Override this function for each progress bar\")};var g=function(){f.apply(this,arguments)};g.prototype=new f,g.prototype.constructor=g,g.prototype._initializeSvg=function(a,b){a.setAttribute(\"viewBox\",\"0 0 100 \"+b.strokeWidth),a.setAttribute(\"preserveAspectRatio\",\"none\")},g.prototype._pathString=function(a){var b=\"M 0,{c} L 100,{c}\",c=a.strokeWidth/2;return b=b.replace(/\\{c\\}/g,c)};var h=function(){f.apply(this,arguments)};h.prototype=new f,h.prototype.constructor=h,h.prototype._pathString=function(a){var b=\"M 50,50 m 0,-{r} a {r},{r} 0 1 1 0,{r*2} a {r},{r} 0 1 1 0,-{r*2}\",c=50-a.strokeWidth/2;return b=b.replace(/\\{r\\}/g,c),b=b.replace(/\\{r\\*2\\}/g,2*c)};var i=function(){f.apply(this,arguments)};i.prototype=new f,i.prototype.constructor=i,i.prototype._pathString=function(a){var b=\"M 0,{s/2} L {w},{s/2} L {w},{w} L {s/2},{w} L {s/2},{s}\",c=100-a.strokeWidth/2;return b=b.replace(/\\{w\\}/g,c),b=b.replace(/\\{s\\}/g,a.strokeWidth),b=b.replace(/\\{s\\/2\\}/g,a.strokeWidth/2)};var j=function(c,d){d=b({duration:800,easing:\"linear\",from:{},to:{},step:a},d),this._path=c,this._opts=d,this._tweenable=null;var e=this._path.getTotalLength();this._path.style.strokeDasharray=e+\" \"+e,this._path.style.strokeDashoffset=e};j.prototype.set=function(a){this.stop();var b=this._path.getTotalLength();this._path.style.strokeDashoffset=b-a*b},j.prototype.stop=function(){this._stopTween();var a=window.getComputedStyle(this._path,null),b=a.getPropertyValue(\"stroke-dashoffset\");this._path.style.strokeDashoffset=b},j.prototype.animate=function(a,c,e){d(c)&&(e=c,c={});var f=b({},this._opts);c=b(f,c),this.stop(),this._path.getBoundingClientRect();var g=window.getComputedStyle(this._path,null),h=g.getPropertyValue(\"stroke-dashoffset\");h=parseFloat(h,10);var i=this._path.getTotalLength(),j=i-a*i,k=this;this._tweenable=new Tweenable,this._tweenable.tween({from:b({offset:h},c.from),to:b({offset:j},c.to),duration:c.duration,easing:this._easing(c.easing),step:function(a){k._path.style.strokeDashoffset=a.offset,c.step(a,k._path)},finish:function(a){k._path.style.strokeDashoffset=a.offset,c.step(a,k._path),d(e)&&e()}})},j.prototype._stopTween=function(){null!==this._tweenable&&(this._tweenable.stop(),this._tweenable.dispose(),this._tweenable=null)},j.prototype._easing=function(a){return e.hasOwnProperty(a)?e[a]:a};var k={Line:g,Circle:h,Square:i,Path:j};return k});\n//# sourceMappingURL=progressbar.min.js.map","/**\n * nya-bootstrap-select v2.0.10\n * Copyright 2014 Nyasoft\n * Licensed under MIT license\n */\n!function(){\"use strict\";function a(){return++j}function b(a){return a&&a.window===a}function c(a){return\"string\"==typeof a}function d(a){if(null==a||b(a))return!1;var d=a.length;return 1===a.nodeType&&d?!0:c(a)||Array.isArray(a)||0===d||\"number\"==typeof d&&d>0&&d-1 in a}function e(){return Object.create(null)}function f(b,c){var d,e=typeof b;return\"function\"==e||\"object\"==e&&null!==b?\"function\"==typeof(d=b.$$hashKey)?d=b.$$hashKey():void 0===d&&(d=b.$$hashKey=(c||a)()):d=b,e+\":\"+d}function g(a,b,c){var d,e,f=[],g=[];for(d=0;d<b.length;d++)for(e=0;e<a.length;e++)a[e][c]?a[e][c]===b[d]&&g.push(a[e]):f.push(a[e]);return g=g.concat(f)}function h(a){var b=a[0],c=a[a.length-1],d=[b];do{if(b=b.nextSibling,!b)break;d.push(b)}while(b!==c);return angular.element(d)}function i(a,b){for(;(a=a[b])&&1!==a.nodeType;);return a}var j=0,k=function(a){return a.clone[0]},l=function(a){return a.clone[a.clone.length-1]},m=function(a,b,c,d,e,f,g,h){a[c]=d,e&&(a[e]=f),a.$index=b,a.$first=0===b,a.$last=b===g-1,a.$middle=!(a.$first||a.$last),a.$odd=!(a.$even=0===(1&b)),h&&(a.$group=h)},n=function(a,b){var c,d=a.length;if(0===d)return!1;for(c=0;d>c;c++)if(v(b,a[c]))return!0;return!1},o=function(a,b){var c,d=a.length;if(0===d)return-1;for(c=0;d>c;c++)if(v(b,a[c]))return c;return-1},p=function(a,b,c){var d,e=a,f=typeof c;if(a==b)return null;do if(\"string\"===f){if(d=\" \"+e.className+\" \",1===e.nodeType&&d.replace(/[\\t\\r\\n\\f]/g,\" \").indexOf(c)>=0)return e}else if(e==c)return e;while((e=e.parentNode)&&e!=b&&9!==e.nodeType);return null},q=function(a){var b,c=a.className.replace(/[\\t\\r\\n\\f]/g,\" \").trim();b=c.split(\" \");for(var d=0;d<b.length;d++)/\\s+/.test(b[d])&&(b.splice(d,1),d--);return b},r=function(a,b){var c=q(a);return-1!==c.indexOf(b)},s=function(a,b){var c,d,e,f=a.children(),g=f.length;if(g>0)for(var h=0;g>h;h++){if(c=f.eq(h),d=!0,e=q(c[0]),e.length>0)for(var i=0;i<b.length;i++)if(-1===e.indexOf(b[i])){d=!1;break}if(d)return c}return[]},t=function(a,b){var c,d,e;if(-1!==a.text().toLowerCase().indexOf(b.toLowerCase()))return!0;for(c=a.children(),e=c.length,d=0;e>d;d++)if(-1!==c.eq(d).text().toLowerCase().indexOf(b.toLowerCase()))return!0;return!1},u=angular.element,v=angular.equals,w=angular.copy,x=angular.extend,y=angular.module(\"nya.bootstrap.select\",[]);y.provider(\"nyaBsConfig\",function(){var a=null,b={\"en-us\":{defaultNoneSelection:\"Nothing selected\",noSearchResult:\"NO SEARCH RESULT\",numberItemSelected:\"%d item selected\"}},c=w(b);this.setLocalizedText=function(a,b){if(!a)throw new Error(\"localeId must be a string formatted as languageId-countryId\");c[a]||(c[a]={}),c[a]=x(c[a],b)},this.useLocale=function(b){a=b},this.$get=[\"$locale\",function(d){var e;return e=a?c[a]:c[d.id],e||(e=b[\"en-us\"]),e}]}),y.controller(\"nyaBsSelectCtrl\",function(){var a=this;a.keyIdentifier=null,a.valueIdentifier=null,a.isMultiple=!1,a.onCollectionChange=function(){},a.setId=function(b){a.id=b||\"id#\"+Math.floor(1e4*Math.random())}}),y.directive(\"nyaBsSelect\",[\"$parse\",\"$document\",\"$timeout\",\"nyaBsConfig\",function(a,b,c,d){var e=\"Nothing selected\",f='<button class=\"btn btn-default dropdown-toggle\" type=\"button\"><span class=\"pull-left filter-option\"></span>&nbsp;<span class=\"caret\"></span></button>',g='<div class=\"dropdown-menu open\"></div>',h='<div class=\"bs-searchbox\"><input type=\"text\" class=\"form-control\"></div>',j='<ul class=\"dropdown-menu inner\"></ul>',k='<li class=\"no-search-result\"><span>NO SEARCH RESULT</span></li>';return{restrict:\"ECA\",require:[\"ngModel\",\"nyaBsSelect\"],controller:\"nyaBsSelectCtrl\",compile:function(l,m){l.addClass(\"btn-group\");var x,y,z,A,B,C,D=function(){var a;return a=m.titleTpl?u(m.titleTpl):m.title?document.createTextNode(m.title):I.defaultNoneSelectionTpl?u(I.defaultNoneSelectionTpl):document.createTextNode(I.defaultNoneSelection?I.defaultNoneSelection:e)},E=l.children(),F=u(f),G=u(g),H=u(j),I=d;for(z=q(l[0]),z.forEach(function(a){/btn-(?:primary|info|success|warning|danger|inverse)/.test(a)&&(l.removeClass(a),F.removeClass(\"btn-default\"),F.addClass(a)),\"form-control\"===a&&F.addClass(a)}),H.append(E),A=E.length,B=0;A>B;B++)C=E.eq(B),(C.hasClass(\"nya-bs-option\")||C.attr(\"nya-bs-option\"))&&C.find(\"a\").attr(\"tabindex\",\"0\");return\"true\"===m.liveSearch&&(x=u(h),I.noSearchResultTpl?k=k.replace(\"NO SEARCH RESULT\",I.noSearchResultTpl):I.noSearchResult&&(k=k.replace(\"NO SEARCH RESULT\",I.noSearchResult)),y=u(k),G.append(x),H.append(y)),F.children().eq(0).append(D()),G.append(H),l.append(F),l.append(G),function(d,e,f,g){function h(){var a,b,c=M.children(),d=c.length;for(a=0;d>a;a++)if(b=c.eq(a),b.hasClass(\"active\")&&b.hasClass(\"nya-bs-option\"))return b;return null}function j(a){for(var b,c=a.childNodes,d=c.length,e=0;d>e;e++)if(b=c[e],1===b.nodeType&&\"a\"===b.tagName.toLowerCase()){b.focus();break}}function k(a){var b;b=M.children().eq(a?0:M.children().length-1);for(var c=0;c<M.children().length;c++)if(M.children().eq(c).hasClass(\"selected\"))return M.children().eq(c)[0];return!b.hasClass(\"nya-bs-option\")||b.hasClass(\"disabled\")||b.hasClass(\"not-match\")?a?l(b[0],\"nextSibling\"):l(b[0],\"previousSibling\"):b[0]}function l(a,b){if(!a||r(a,\"nya-bs-option\")){for(var c=a;(c=i(c,b))&&c.nodeType;)if(r(c,\"nya-bs-option\")&&!r(c,\"disabled\")&&!r(c,\"not-match\"))return c;return null}}function m(a){var b,c,f,g=E.$modelValue;b=q(a),\"undefined\"!=typeof b&&(J?(c=Array.isArray(g)?w(g):[],f=o(c,b),-1===f?(c.push(b),a.addClass(\"selected\")):(c.splice(f,1),a.removeClass(\"selected\"))):(M.children().removeClass(\"selected\"),c=b,a.addClass(\"selected\"))),E.$setViewValue(c),d.$digest(),J||(e.hasClass(\"open\")&&e.triggerHandler(\"blur\"),e.removeClass(\"open\")),y()}function q(a){var b;return C?(b=a.scope(),C(b)):F.valueIdentifier||F.keyIdentifier?(b=a.scope(),b[F.valueIdentifier]||b[F.keyIdentifier]):a.attr(\"value\")}function x(a){var b=a.find(\"a\");return 0===b.children().length||b.children().eq(0).hasClass(\"check-mark\")?b[0].firstChild.cloneNode(!1):b.children().eq(0)[0].cloneNode(!0)}function y(){var a=E.$modelValue;e.triggerHandler(\"change\");var b=K.children().eq(0);return\"undefined\"==typeof a?(b.empty(),void b.append(D())):void(J&&0===a.length?(b.empty(),b.append(D())):c(function(){var c,d,e,g,h,i,j=M.children(),k=j.length,l=[];if(J&&\"count\"===f.selectedTextFormat?i=1:J&&f.selectedTextFormat&&(h=f.selectedTextFormat.match(/\\s*count\\s*>\\s*(\\d+)\\s*/))&&(i=parseInt(h[1],10)),\"undefined\"!=typeof i&&a.length>i)return b.empty(),void b.append(I.numberItemSelectedTpl?u(I.numberItemSelectedTpl.replace(\"%d\",a.length)):I.numberItemSelected?document.createTextNode(I.numberItemSelected.replace(\"%d\",a.length)):document.createTextNode(a.length+\" items selected\"));for(e=0;k>e;e++)d=j.eq(e),d.hasClass(\"nya-bs-option\")&&(c=q(d),J?Array.isArray(a)&&n(a,c)&&(g=d.attr(\"title\"),l.push(g?document.createTextNode(g):x(d))):v(a,c)&&(g=d.attr(\"title\"),l.push(g?document.createTextNode(g):x(d))));if(0===l.length)b.empty(),b.append(D());else if(1===l.length)b.empty(),b.append(l[0]);else for(b.empty(),e=0;e<l.length;e++)b.append(l[e]),e<l.length-1&&b.append(document.createTextNode(\", \"))}))}function z(){var a,b,c=M.find(\"li\"),d=c.length;for(b=0;d>b;b++)if(a=c.eq(b),a.hasClass(\"nya-bs-option\")||a.attr(\"nya-bs-option\")){A=a[0].clientHeight;break}if(/\\d+/.test(f.size)){var e=parseInt(f.size,10);M.css(\"max-height\",e*A+\"px\"),M.css(\"overflow-y\",\"auto\")}}var A,B,C,E=g[0],F=g[1],G=!1,H=a(F.valueExp),J=\"undefined\"!=typeof f.multiple,K=s(e,[\"dropdown-toggle\"]),L=K.next(),M=s(L,[\"dropdown-menu\",\"inner\"]),N=s(L,[\"bs-searchbox\"]),O=s(M,[\"no-search-result\"]);F.valueExp&&(C=function(a,b){return H(a,b)}),F.setId(e.attr(\"id\")),J&&(F.isMultiple=!0,E.$isEmpty=function(a){return!a||0===a.length}),\"undefined\"!=typeof f.disabled&&d.$watch(f.disabled,function(a){a?(K.addClass(\"disabled\"),B=K.attr(\"tabindex\"),K.attr(\"tabindex\",\"-1\"),G=!0):(K.removeClass(\"disabled\"),B?K.attr(\"tabindex\",B):K.removeAttr(\"tabindex\"),G=!1)}),F.onCollectionChange=function(a){var b,c,e=[],f=E.$modelValue;if(f){if(a&&0!==a.length){if(C)for(b=0;b<a.length;b++)e.push(C(d,a[b]));else for(b=0;b<a.length;b++)F.valueIdentifier?e.push(a[b][F.valueIdentifier]):F.keyIdentifier&&e.push(a[b][F.keyIdentifier]);if(J){for(c=f.length,b=0;b<f.length;b++)n(e,f[b])||(f.splice(b,1),b--);c!==f.length&&(f=w(f))}else n(e,f)||(f=e[0])}else f=J?[]:null;E.$setViewValue(f),y()}},M.on(\"click\",function(a){if(!G&&!u(a.target).hasClass(\"dropdown-header\")){var b,c=p(a.target,M[0],\"nya-bs-option\");if(null!==c){if(b=u(c),b.hasClass(\"disabled\"))return;m(b)}}}),b.on(\"click\",function(a){null===p(a.target,e.parent()[0],e[0])&&(e.hasClass(\"open\")&&e.triggerHandler(\"blur\"),e.removeClass(\"open\"))}),K.on(\"blur\",function(){e.hasClass(\"open\")||e.triggerHandler(\"blur\")}),K.on(\"click\",function(){var a;e.toggleClass(\"open\"),e.hasClass(\"open\")&&\"undefined\"==typeof A&&z(),\"true\"===f.liveSearch&&e.hasClass(\"open\")?(N.children().eq(0)[0].focus(),a=k(!0),a&&(M.children().removeClass(\"active\"),u(a).addClass(\"active\"))):e.hasClass(\"open\")&&(a=k(!0),a&&j(a))}),\"true\"===f.liveSearch&&N.children().on(\"input\",function(){var a,b,c,d=N.children().val(),e=0,f=M.children(),g=f.length;if(d){for(a=0;g>a;a++)b=f.eq(a),b.hasClass(\"nya-bs-option\")&&(t(b.find(\"a\"),d)?(b.removeClass(\"not-match\"),e++):b.addClass(\"not-match\"));0===e?O.addClass(\"show\"):O.removeClass(\"show\")}else{for(a=0;g>a;a++)b=f.eq(a),b.hasClass(\"nya-bs-option\")&&b.removeClass(\"not-match\");O.removeClass(\"show\")}c=k(!0),c&&(f.removeClass(\"active\"),u(c).addClass(\"active\"))}),E.$render=function(){var a,b,c=E.$modelValue,d=M.children(),e=d.length;if(\"undefined\"==typeof c)for(a=0;e>a;a++)d.eq(a).hasClass(\"nya-bs-option\")&&d.eq(a).removeClass(\"selected\");else for(a=0;e>a;a++)d.eq(a).hasClass(\"nya-bs-option\")&&(b=q(d.eq(a)),J?n(c,b)?d.eq(a).addClass(\"selected\"):d.eq(a).removeClass(\"selected\"):v(c,b)?d.eq(a).addClass(\"selected\"):d.eq(a).removeClass(\"selected\"));y()},e.on(\"keydown\",function(a){var b=a.keyCode;if(27===b||13===b||38===b||40===b){if(a.preventDefault(),G)return void a.stopPropagation();var c,d,g,i,n=p(a.target,e[0],K[0]);\"true\"===f.liveSearch?d=p(a.target,e[0],N[0]):c=p(a.target,e[0],L[0]),n?13!==b&&38!==b&&40!==b||e.hasClass(\"open\")||(a.stopPropagation(),e.addClass(\"open\"),\"undefined\"==typeof A&&z(),\"true\"===f.liveSearch?(N.children().eq(0)[0].focus(),i=k(!0),i&&(M.children().removeClass(\"active\"),u(i).addClass(\"active\"))):(i=k(!0),i&&j(i))):c?27===b?(K[0].focus(),e.hasClass(\"open\")&&e.triggerHandler(\"blur\"),e.removeClass(\"open\"),a.stopPropagation()):38===b?(a.stopPropagation(),i=l(a.target.parentNode,\"previousSibling\"),i?j(i):(i=k(!1),i&&j(i))):40===b?(a.stopPropagation(),i=l(a.target.parentNode,\"nextSibling\"),i?j(i):(i=k(!0),i&&j(i))):13===b&&(a.stopPropagation(),g=u(a.target.parentNode),g.hasClass(\"nya-bs-option\")&&(m(g),J||K[0].focus())):d&&(27===b?(K[0].focus(),e.removeClass(\"open\"),a.stopPropagation()):38===b?(a.stopPropagation(),g=h(),g&&(i=l(g[0],\"previousSibling\"),i?(g.removeClass(\"active\"),u(i).addClass(\"active\")):(i=k(!1),i&&(g.removeClass(\"active\"),u(i).addClass(\"active\"))))):40===b?(a.stopPropagation(),g=h(),g&&(i=l(g[0],\"nextSibling\"),i?(g.removeClass(\"active\"),u(i).addClass(\"active\")):(i=k(!0),i&&(g.removeClass(\"active\"),u(i).addClass(\"active\"))))):13===b&&(g=h(),g&&(m(g),J||K[0].focus())))}})}}}}]),y.directive(\"nyaBsOption\",[\"$parse\",function(a){var b=/^\\s*(?:([\\$\\w][\\$\\w]*)|(?:\\(\\s*([\\$\\w][\\$\\w]*)\\s*,\\s*([\\$\\w][\\$\\w]*)\\s*\\)))\\s+in\\s+([\\s\\S]+?)(?:\\s+group\\s+by\\s+([\\s\\S]+?))?(?:\\s+track\\s+by\\s+([\\s\\S]+?))?\\s*$/;return{restrict:\"A\",transclude:\"element\",priority:1e3,terminal:!0,require:[\"^nyaBsSelect\",\"^ngModel\"],compile:function(c,i){var j=i.nyaBsOption,o=document.createComment(\" end nyaBsOption: \"+j+\" \"),p=j.match(b);if(!p)throw new Error(\"invalid expression\");var q,r,s,t,w,x=i.value,y=x?a(x):null,z=p[3]||p[1],A=p[2],B=p[4],C=p[5]?a(p[5]):null,D=p[6],E={$id:f},F={};return D?t=a(D):(q=function(a,b){return f(b)},r=function(a){return a}),function(a,b,c,f,i){function j(a){var c,f,j,t,x,y,B,C,E,F,H,J,K,L,M=b[0],N=e(),O=[];if(w&&(J=[]),d(a))y=a,x=s||q;else{x=s||r,y=[];for(var P in a)a.hasOwnProperty(P)&&\"$\"!=P.charAt(0)&&y.push(P);y.sort()}for(B=y.length,C=new Array(B),c=0;B>c;c++)if(f=a===y?c:y[c],j=a[f],t=x(f,j,c),L={},A&&(L[A]=f),L[z]=j,O.push(L),w&&(F=w(f,j),-1===J.indexOf(F)&&F&&J.push(F)),I[t])E=I[t],delete I[t],w&&(E.group=F),E.key=f,E.value=j,N[t]=E,C[c]=E;else{if(N[t])throw C.forEach(function(a){a&&a.scope&&(I[a.id]=a)}),new Error(\"Duplicates in a select are not allowed. Use 'track by' expression to specify unique keys.\");C[c]={id:t,scope:void 0,clone:void 0,key:f,value:j},N[t]=!0,F&&(C[c].group=F)}J&&J.length>0&&(C=g(C,J,\"group\"));for(var Q in I)E=I[Q],h(E.clone).remove(),E.scope.$destroy();for(c=0;B>c;c++)E=C[c],E.scope?(H=M,k(E)!=H&&u(M).after(E.clone),M=l(E),m(E.scope,c,z,E.value,A,E.key,B,E.group)):i(function(a,b){E.scope=b;var d=o.cloneNode(!1);a[a.length++]=d,u(M).after(a),a.addClass(\"nya-bs-option\"),j=p?p(E.key,E.value):E.value||E.key,D.isMultiple?Array.isArray(G.$modelValue)&&n(G.$modelValue,j)&&a.addClass(\"selected\"):v(j,G.$modelValue)&&a.addClass(\"selected\"),M=d,E.clone=a,N[E.id]=E,m(E.scope,c,z,E.value,A,E.key,B,E.group)}),J&&(K&&K===E.group?E.clone.removeClass(\"first-in-group\"):E.clone.addClass(\"first-in-group\"),K=E.group,E.clone.addClass(\"group-item\"));I=N,D.onCollectionChange(O)}var p,D=f[0],G=f[1],H={};t&&(s=function(b,c,d){return A&&(E[A]=b),E[z]=c,E.$index=d,t(a,E)}),C&&(w=function(b,c){return A&&(F[A]=b),F[z]=c,C(a,F)}),A&&(D.keyIdentifier=A),z&&(D.valueIdentifier=z),y&&(D.valueExp=x,p=function(b,c){return A&&(H[A]=b),H[z]=c,y(a,H)});var I=e();\"true\"===c.deepWatch?a.$watch(B,j,!0):a.$watchCollection(B,j)}}}}])}();","/* ng-infinite-scroll - v1.2.0 - 2014-12-02 */\nvar mod;mod=angular.module(\"infinite-scroll\",[]),mod.value(\"THROTTLE_MILLISECONDS\",null),mod.directive(\"infiniteScroll\",[\"$rootScope\",\"$window\",\"$interval\",\"THROTTLE_MILLISECONDS\",function(a,b,c,d){return{scope:{infiniteScroll:\"&\",infiniteScrollContainer:\"=\",infiniteScrollDistance:\"=\",infiniteScrollDisabled:\"=\",infiniteScrollUseDocumentBottom:\"=\"},link:function(e,f,g){var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x;return x=angular.element(b),t=null,u=null,i=null,j=null,q=!0,w=!1,p=function(a){return a=a[0]||a,isNaN(a.offsetHeight)?a.document.documentElement.clientHeight:a.offsetHeight},r=function(a){return a[0].getBoundingClientRect&&!a.css(\"none\")?a[0].getBoundingClientRect().top+s(a):void 0},s=function(a){return a=a[0]||a,isNaN(window.pageYOffset)?a.document.documentElement.scrollTop:a.ownerDocument.defaultView.pageYOffset},o=function(){var b,c,d,g,h;return j===x?(b=p(j)+s(j[0].document.documentElement),d=r(f)+p(f)):(b=p(j),c=0,void 0!==r(j)&&(c=r(j)),d=r(f)-c+p(f)),w&&(d=p((f[0].ownerDocument||f[0].document).documentElement)),g=d-b,h=g<=p(j)*t+1,h?(i=!0,u?e.$$phase||a.$$phase?e.infiniteScroll():e.$apply(e.infiniteScroll):void 0):i=!1},v=function(a,b){var d,e,f;return f=null,e=0,d=function(){var b;return e=(new Date).getTime(),c.cancel(f),f=null,a.call(),b=null},function(){var g,h;return g=(new Date).getTime(),h=b-(g-e),0>=h?(clearTimeout(f),c.cancel(f),f=null,e=g,a.call()):f?void 0:f=c(d,h,1)}},null!=d&&(o=v(o,d)),e.$on(\"$destroy\",function(){return j.unbind(\"scroll\",o)}),m=function(a){return t=parseFloat(a)||0},e.$watch(\"infiniteScrollDistance\",m),m(e.infiniteScrollDistance),l=function(a){return u=!a,u&&i?(i=!1,o()):void 0},e.$watch(\"infiniteScrollDisabled\",l),l(e.infiniteScrollDisabled),n=function(a){return w=a},e.$watch(\"infiniteScrollUseDocumentBottom\",n),n(e.infiniteScrollUseDocumentBottom),h=function(a){return null!=j&&j.unbind(\"scroll\",o),j=a,null!=a?j.bind(\"scroll\",o):void 0},h(x),k=function(a){if(null!=a&&0!==a.length){if(a instanceof HTMLElement?a=angular.element(a):\"function\"==typeof a.append?a=angular.element(a[a.length-1]):\"string\"==typeof a&&(a=angular.element(document.querySelector(a))),null!=a)return h(a);throw new Exception(\"invalid infinite-scroll-container attribute.\")}},e.$watch(\"infiniteScrollContainer\",k),k(e.infiniteScrollContainer||[]),null!=g.infiniteScrollParent&&h(angular.element(f.parent())),null!=g.infiniteScrollImmediateCheck&&(q=e.$eval(g.infiniteScrollImmediateCheck)),c(function(){return q?o():void 0},0,1)}}}]);","!function(a,b){b[\"true\"]=a,/**\n * @license Rangy, a cross-browser JavaScript range and selection library\n * http://code.google.com/p/rangy/\n *\n * Copyright 2012, Tim Down\n * Licensed under the MIT license.\n * Version: 1.2.3\n * Build date: 26 February 2012\n */\nwindow.rangy=function(){function a(a,b){var c=typeof a[b];return c==l||!(c!=k||!a[b])||\"unknown\"==c}function b(a,b){return!(typeof a[b]!=k||!a[b])}function c(a,b){return typeof a[b]!=m}function d(a){return function(b,c){for(var d=c.length;d--;)if(!a(b,c[d]))return!1;return!0}}function e(a){return a&&r(a,q)&&t(a,p)}function f(a){window.alert(\"Rangy not supported in your browser. Reason: \"+a),u.initialized=!0,u.supported=!1}function g(a){var b=\"Rangy warning: \"+a;u.config.alertOnWarn?window.alert(b):typeof window.console!=m&&typeof window.console.log!=m&&window.console.log(b)}function h(){if(!u.initialized){var c,d=!1,g=!1;a(document,\"createRange\")&&(c=document.createRange(),r(c,o)&&t(c,n)&&(d=!0),c.detach());var h=b(document,\"body\")?document.body:document.getElementsByTagName(\"body\")[0];h&&a(h,\"createTextRange\")&&(c=h.createTextRange(),e(c)&&(g=!0)),d||g||f(\"Neither Range nor TextRange are implemented\"),u.initialized=!0,u.features={implementsDomRange:d,implementsTextRange:g};for(var i=w.concat(v),j=0,k=i.length;k>j;++j)try{i[j](u)}catch(l){b(window,\"console\")&&a(window.console,\"log\")&&window.console.log(\"Init listener threw an exception. Continuing.\",l)}}}function i(a){a=a||window,h();for(var b=0,c=x.length;c>b;++b)x[b](a)}function j(a){this.name=a,this.initialized=!1,this.supported=!1}var k=\"object\",l=\"function\",m=\"undefined\",n=[\"startContainer\",\"startOffset\",\"endContainer\",\"endOffset\",\"collapsed\",\"commonAncestorContainer\",\"START_TO_START\",\"START_TO_END\",\"END_TO_START\",\"END_TO_END\"],o=[\"setStart\",\"setStartBefore\",\"setStartAfter\",\"setEnd\",\"setEndBefore\",\"setEndAfter\",\"collapse\",\"selectNode\",\"selectNodeContents\",\"compareBoundaryPoints\",\"deleteContents\",\"extractContents\",\"cloneContents\",\"insertNode\",\"surroundContents\",\"cloneRange\",\"toString\",\"detach\"],p=[\"boundingHeight\",\"boundingLeft\",\"boundingTop\",\"boundingWidth\",\"htmlText\",\"text\"],q=[\"collapse\",\"compareEndPoints\",\"duplicate\",\"getBookmark\",\"moveToBookmark\",\"moveToElementText\",\"parentElement\",\"pasteHTML\",\"select\",\"setEndPoint\",\"getBoundingClientRect\"],r=d(a),s=d(b),t=d(c),u={version:\"1.2.3\",initialized:!1,supported:!0,util:{isHostMethod:a,isHostObject:b,isHostProperty:c,areHostMethods:r,areHostObjects:s,areHostProperties:t,isTextRange:e},features:{},modules:{},config:{alertOnWarn:!1,preferTextRange:!1}};u.fail=f,u.warn=g,{}.hasOwnProperty?u.util.extend=function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])}:f(\"hasOwnProperty not supported\");var v=[],w=[];u.init=h,u.addInitListener=function(a){u.initialized?a(u):v.push(a)};var x=[];u.addCreateMissingNativeApiListener=function(a){x.push(a)},u.createMissingNativeApi=i,j.prototype.fail=function(a){throw this.initialized=!0,this.supported=!1,new Error(\"Module '\"+this.name+\"' failed to load: \"+a)},j.prototype.warn=function(a){u.warn(\"Module \"+this.name+\": \"+a)},j.prototype.createError=function(a){return new Error(\"Error in Rangy \"+this.name+\" module: \"+a)},u.createModule=function(a,b){var c=new j(a);u.modules[a]=c,w.push(function(a){b(a,c),c.initialized=!0,c.supported=!0})},u.requireModules=function(a){for(var b,c,d=0,e=a.length;e>d;++d){if(c=a[d],b=u.modules[c],!(b&&b instanceof j))throw new Error(\"Module '\"+c+\"' not found\");if(!b.supported)throw new Error(\"Module '\"+c+\"' not supported\")}};var y=!1,z=function(){y||(y=!0,u.initialized||h())};return typeof window==m?void f(\"No window found\"):typeof document==m?void f(\"No document found\"):(a(document,\"addEventListener\")&&document.addEventListener(\"DOMContentLoaded\",z,!1),a(window,\"addEventListener\")?window.addEventListener(\"load\",z,!1):a(window,\"attachEvent\")?window.attachEvent(\"onload\",z):f(\"Window does not have required addEventListener or attachEvent method\"),u)}(),rangy.createModule(\"DomUtil\",function(a,b){function c(a){var b;return typeof a.namespaceURI==z||null===(b=a.namespaceURI)||\"http://www.w3.org/1999/xhtml\"==b}function d(a){var b=a.parentNode;return 1==b.nodeType?b:null}function e(a){for(var b=0;a=a.previousSibling;)b++;return b}function f(a){var b;return j(a)?a.length:(b=a.childNodes)?b.length:0}function g(a,b){var c,d=[];for(c=a;c;c=c.parentNode)d.push(c);for(c=b;c;c=c.parentNode)if(D(d,c))return c;return null}function h(a,b,c){for(var d=c?b:b.parentNode;d;){if(d===a)return!0;d=d.parentNode}return!1}function i(a,b,c){for(var d,e=c?a:a.parentNode;e;){if(d=e.parentNode,d===b)return e;e=d}return null}function j(a){var b=a.nodeType;return 3==b||4==b||8==b}function k(a,b){var c=b.nextSibling,d=b.parentNode;return c?d.insertBefore(a,c):d.appendChild(a),a}function l(a,b){var c=a.cloneNode(!1);return c.deleteData(0,b),a.deleteData(b,a.length-b),k(c,a),c}function m(a){if(9==a.nodeType)return a;if(typeof a.ownerDocument!=z)return a.ownerDocument;if(typeof a.document!=z)return a.document;if(a.parentNode)return m(a.parentNode);throw new Error(\"getDocument: no document found for node\")}function n(a){var b=m(a);if(typeof b.defaultView!=z)return b.defaultView;if(typeof b.parentWindow!=z)return b.parentWindow;throw new Error(\"Cannot get a window object for node\")}function o(a){if(typeof a.contentDocument!=z)return a.contentDocument;if(typeof a.contentWindow!=z)return a.contentWindow.document;throw new Error(\"getIframeWindow: No Document object found for iframe element\")}function p(a){if(typeof a.contentWindow!=z)return a.contentWindow;if(typeof a.contentDocument!=z)return a.contentDocument.defaultView;throw new Error(\"getIframeWindow: No Window object found for iframe element\")}function q(a){return A.isHostObject(a,\"body\")?a.body:a.getElementsByTagName(\"body\")[0]}function r(a){for(var b;b=a.parentNode;)a=b;return a}function s(a,b,c,d){var f,h,j,k,l;if(a==c)return b===d?0:d>b?-1:1;if(f=i(c,a,!0))return b<=e(f)?-1:1;if(f=i(a,c,!0))return e(f)<d?-1:1;if(h=g(a,c),j=a===h?h:i(a,h,!0),k=c===h?h:i(c,h,!0),j===k)throw new Error(\"comparePoints got to case 4 and childA and childB are the same!\");for(l=h.firstChild;l;){if(l===j)return-1;if(l===k)return 1;l=l.nextSibling}throw new Error(\"Should not be here!\")}function t(a){for(var b,c=m(a).createDocumentFragment();b=a.firstChild;)c.appendChild(b);return c}function u(a){if(!a)return\"[No node]\";if(j(a))return'\"'+a.data+'\"';if(1==a.nodeType){var b=a.id?' id=\"'+a.id+'\"':\"\";return\"<\"+a.nodeName+b+\">[\"+a.childNodes.length+\"]\"}return a.nodeName}function v(a){this.root=a,this._next=a}function w(a){return new v(a)}function x(a,b){this.node=a,this.offset=b}function y(a){this.code=this[a],this.codeName=a,this.message=\"DOMException: \"+this.codeName}var z=\"undefined\",A=a.util;A.areHostMethods(document,[\"createDocumentFragment\",\"createElement\",\"createTextNode\"])||b.fail(\"document missing a Node creation method\"),A.isHostMethod(document,\"getElementsByTagName\")||b.fail(\"document missing getElementsByTagName method\");var B=document.createElement(\"div\");A.areHostMethods(B,[\"insertBefore\",\"appendChild\",\"cloneNode\"]||!A.areHostObjects(B,[\"previousSibling\",\"nextSibling\",\"childNodes\",\"parentNode\"]))||b.fail(\"Incomplete Element implementation\"),A.isHostProperty(B,\"innerHTML\")||b.fail(\"Element is missing innerHTML property\");var C=document.createTextNode(\"test\");A.areHostMethods(C,[\"splitText\",\"deleteData\",\"insertData\",\"appendData\",\"cloneNode\"]||!A.areHostObjects(B,[\"previousSibling\",\"nextSibling\",\"childNodes\",\"parentNode\"])||!A.areHostProperties(C,[\"data\"]))||b.fail(\"Incomplete Text Node implementation\");var D=function(a,b){for(var c=a.length;c--;)if(a[c]===b)return!0;return!1};v.prototype={_current:null,hasNext:function(){return!!this._next},next:function(){var a,b,c=this._current=this._next;if(this._current)if(a=c.firstChild)this._next=a;else{for(b=null;c!==this.root&&!(b=c.nextSibling);)c=c.parentNode;this._next=b}return this._current},detach:function(){this._current=this._next=this.root=null}},x.prototype={equals:function(a){return this.node===a.node&this.offset==a.offset},inspect:function(){return\"[DomPosition(\"+u(this.node)+\":\"+this.offset+\")]\"}},y.prototype={INDEX_SIZE_ERR:1,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INVALID_STATE_ERR:11},y.prototype.toString=function(){return this.message},a.dom={arrayContains:D,isHtmlNamespace:c,parentElement:d,getNodeIndex:e,getNodeLength:f,getCommonAncestor:g,isAncestorOf:h,getClosestAncestorIn:i,isCharacterDataNode:j,insertAfter:k,splitDataNode:l,getDocument:m,getWindow:n,getIframeWindow:p,getIframeDocument:o,getBody:q,getRootContainer:r,comparePoints:s,inspectNode:u,fragmentFromNodeChildren:t,createIterator:w,DomPosition:x},a.DOMException=y}),rangy.createModule(\"DomRange\",function(a){function b(a,b){return 3!=a.nodeType&&(L.isAncestorOf(a,b.startContainer,!0)||L.isAncestorOf(a,b.endContainer,!0))}function c(a){return L.getDocument(a.startContainer)}function d(a,b,c){var d=a._listeners[b];if(d)for(var e=0,f=d.length;f>e;++e)d[e].call(a,{target:a,args:c})}function e(a){return new M(a.parentNode,L.getNodeIndex(a))}function f(a){return new M(a.parentNode,L.getNodeIndex(a)+1)}function g(a,b,c){var d=11==a.nodeType?a.firstChild:a;return L.isCharacterDataNode(b)?c==b.length?L.insertAfter(a,b):b.parentNode.insertBefore(a,0==c?b:L.splitDataNode(b,c)):c>=b.childNodes.length?b.appendChild(a):b.insertBefore(a,b.childNodes[c]),d}function h(a){for(var b,d,e,f=c(a.range).createDocumentFragment();d=a.next();){if(b=a.isPartiallySelectedSubtree(),d=d.cloneNode(!b),b&&(e=a.getSubtreeIterator(),d.appendChild(h(e)),e.detach(!0)),10==d.nodeType)throw new N(\"HIERARCHY_REQUEST_ERR\");f.appendChild(d)}return f}function i(a,b,c){var d,e;c=c||{stop:!1};for(var f,g;f=a.next();)if(a.isPartiallySelectedSubtree()){if(b(f)===!1)return void(c.stop=!0);if(g=a.getSubtreeIterator(),i(g,b,c),g.detach(!0),c.stop)return}else for(d=L.createIterator(f);e=d.next();)if(b(e)===!1)return void(c.stop=!0)}function j(a){for(var b;a.next();)a.isPartiallySelectedSubtree()?(b=a.getSubtreeIterator(),j(b),b.detach(!0)):a.remove()}function k(a){for(var b,d,e=c(a.range).createDocumentFragment();b=a.next();){if(a.isPartiallySelectedSubtree()?(b=b.cloneNode(!1),d=a.getSubtreeIterator(),b.appendChild(k(d)),d.detach(!0)):a.remove(),10==b.nodeType)throw new N(\"HIERARCHY_REQUEST_ERR\");e.appendChild(b)}return e}function l(a,b,c){var d,e=!(!b||!b.length),f=!!c;e&&(d=new RegExp(\"^(\"+b.join(\"|\")+\")$\"));var g=[];return i(new n(a,!1),function(a){e&&!d.test(a.nodeType)||f&&!c(a)||g.push(a)}),g}function m(a){var b=\"undefined\"==typeof a.getName?\"Range\":a.getName();return\"[\"+b+\"(\"+L.inspectNode(a.startContainer)+\":\"+a.startOffset+\", \"+L.inspectNode(a.endContainer)+\":\"+a.endOffset+\")]\"}function n(a,b){if(this.range=a,this.clonePartiallySelectedTextNodes=b,!a.collapsed){this.sc=a.startContainer,this.so=a.startOffset,this.ec=a.endContainer,this.eo=a.endOffset;var c=a.commonAncestorContainer;this.sc===this.ec&&L.isCharacterDataNode(this.sc)?(this.isSingleCharacterDataNode=!0,this._first=this._last=this._next=this.sc):(this._first=this._next=this.sc!==c||L.isCharacterDataNode(this.sc)?L.getClosestAncestorIn(this.sc,c,!0):this.sc.childNodes[this.so],this._last=this.ec!==c||L.isCharacterDataNode(this.ec)?L.getClosestAncestorIn(this.ec,c,!0):this.ec.childNodes[this.eo-1])}}function o(a){this.code=this[a],this.codeName=a,this.message=\"RangeException: \"+this.codeName}function p(a,b,c){this.nodes=l(a,b,c),this._next=this.nodes[0],this._position=0}function q(a){return function(b,c){for(var d,e=c?b:b.parentNode;e;){if(d=e.nodeType,L.arrayContains(a,d))return e;e=e.parentNode}return null}}function r(a,b){if(W(a,b))throw new o(\"INVALID_NODE_TYPE_ERR\")}function s(a){if(!a.startContainer)throw new N(\"INVALID_STATE_ERR\")}function t(a,b){if(!L.arrayContains(b,a.nodeType))throw new o(\"INVALID_NODE_TYPE_ERR\")}function u(a,b){if(0>b||b>(L.isCharacterDataNode(a)?a.length:a.childNodes.length))throw new N(\"INDEX_SIZE_ERR\")}function v(a,b){if(U(a,!0)!==U(b,!0))throw new N(\"WRONG_DOCUMENT_ERR\")}function w(a){if(V(a,!0))throw new N(\"NO_MODIFICATION_ALLOWED_ERR\")}function x(a,b){if(!a)throw new N(b)}function y(a){return!L.arrayContains(P,a.nodeType)&&!U(a,!0)}function z(a,b){return b<=(L.isCharacterDataNode(a)?a.length:a.childNodes.length)}function A(a){return!!a.startContainer&&!!a.endContainer&&!y(a.startContainer)&&!y(a.endContainer)&&z(a.startContainer,a.startOffset)&&z(a.endContainer,a.endOffset)}function B(a){if(s(a),!A(a))throw new Error(\"Range error: Range is no longer valid after DOM mutation (\"+a.inspect()+\")\")}function C(){}function D(a){a.START_TO_START=ab,a.START_TO_END=bb,a.END_TO_END=cb,a.END_TO_START=db,a.NODE_BEFORE=eb,a.NODE_AFTER=fb,a.NODE_BEFORE_AND_AFTER=gb,a.NODE_INSIDE=hb}function E(a){D(a),D(a.prototype)}function F(a,b){return function(){B(this);var c,d,e=this.startContainer,g=this.startOffset,h=this.commonAncestorContainer,j=new n(this,!0);e!==h&&(c=L.getClosestAncestorIn(e,h,!0),d=f(c),e=d.node,g=d.offset),i(j,w),j.reset();var k=a(j);return j.detach(),b(this,e,g,e,g),k}}function G(c,d,g){function h(a,b){return function(c){s(this),t(c,O),t(T(c),P);var d=(a?e:f)(c);(b?i:l)(this,d.node,d.offset)}}function i(a,b,c){var e=a.endContainer,f=a.endOffset;(b!==a.startContainer||c!==a.startOffset)&&((T(b)!=T(e)||1==L.comparePoints(b,c,e,f))&&(e=b,f=c),d(a,b,c,e,f))}function l(a,b,c){var e=a.startContainer,f=a.startOffset;(b!==a.endContainer||c!==a.endOffset)&&((T(b)!=T(e)||-1==L.comparePoints(b,c,e,f))&&(e=b,f=c),d(a,e,f,b,c))}function m(a,b,c){(b!==a.startContainer||c!==a.startOffset||b!==a.endContainer||c!==a.endOffset)&&d(a,b,c,b,c)}c.prototype=new C,a.util.extend(c.prototype,{setStart:function(a,b){s(this),r(a,!0),u(a,b),i(this,a,b)},setEnd:function(a,b){s(this),r(a,!0),u(a,b),l(this,a,b)},setStartBefore:h(!0,!0),setStartAfter:h(!1,!0),setEndBefore:h(!0,!1),setEndAfter:h(!1,!1),collapse:function(a){B(this),a?d(this,this.startContainer,this.startOffset,this.startContainer,this.startOffset):d(this,this.endContainer,this.endOffset,this.endContainer,this.endOffset)},selectNodeContents:function(a){s(this),r(a,!0),d(this,a,0,a,L.getNodeLength(a))},selectNode:function(a){s(this),r(a,!1),t(a,O);var b=e(a),c=f(a);d(this,b.node,b.offset,c.node,c.offset)},extractContents:F(k,d),deleteContents:F(j,d),canSurroundContents:function(){B(this),w(this.startContainer),w(this.endContainer);var a=new n(this,!0),c=a._first&&b(a._first,this)||a._last&&b(a._last,this);return a.detach(),!c},detach:function(){g(this)},splitBoundaries:function(){B(this);var a=this.startContainer,b=this.startOffset,c=this.endContainer,e=this.endOffset,f=a===c;L.isCharacterDataNode(c)&&e>0&&e<c.length&&L.splitDataNode(c,e),L.isCharacterDataNode(a)&&b>0&&b<a.length&&(a=L.splitDataNode(a,b),f?(e-=b,c=a):c==a.parentNode&&e>=L.getNodeIndex(a)&&e++,b=0),d(this,a,b,c,e)},normalizeBoundaries:function(){B(this);var a=this.startContainer,b=this.startOffset,c=this.endContainer,e=this.endOffset,f=function(a){var b=a.nextSibling;b&&b.nodeType==a.nodeType&&(c=a,e=a.length,a.appendData(b.data),b.parentNode.removeChild(b))},g=function(d){var f=d.previousSibling;if(f&&f.nodeType==d.nodeType){a=d;var g=d.length;if(b=f.length,d.insertData(0,f.data),f.parentNode.removeChild(f),a==c)e+=b,c=a;else if(c==d.parentNode){var h=L.getNodeIndex(d);e==h?(c=d,e=g):e>h&&e--}}},h=!0;if(L.isCharacterDataNode(c))c.length==e&&f(c);else{if(e>0){var i=c.childNodes[e-1];i&&L.isCharacterDataNode(i)&&f(i)}h=!this.collapsed}if(h){if(L.isCharacterDataNode(a))0==b&&g(a);else if(b<a.childNodes.length){var j=a.childNodes[b];j&&L.isCharacterDataNode(j)&&g(j)}}else a=c,b=e;d(this,a,b,c,e)},collapseToPoint:function(a,b){s(this),r(a,!0),u(a,b),m(this,a,b)}}),E(c)}function H(a){a.collapsed=a.startContainer===a.endContainer&&a.startOffset===a.endOffset,a.commonAncestorContainer=a.collapsed?a.startContainer:L.getCommonAncestor(a.startContainer,a.endContainer)}function I(a,b,c,e,f){var g=a.startContainer!==b||a.startOffset!==c,h=a.endContainer!==e||a.endOffset!==f;a.startContainer=b,a.startOffset=c,a.endContainer=e,a.endOffset=f,H(a),d(a,\"boundarychange\",{startMoved:g,endMoved:h})}function J(a){s(a),a.startContainer=a.startOffset=a.endContainer=a.endOffset=null,a.collapsed=a.commonAncestorContainer=null,d(a,\"detach\",null),a._listeners=null}function K(a){this.startContainer=a,this.startOffset=0,this.endContainer=a,this.endOffset=0,this._listeners={boundarychange:[],detach:[]},H(this)}a.requireModules([\"DomUtil\"]);var L=a.dom,M=L.DomPosition,N=a.DOMException;n.prototype={_current:null,_next:null,_first:null,_last:null,isSingleCharacterDataNode:!1,reset:function(){this._current=null,this._next=this._first},hasNext:function(){return!!this._next},next:function(){var a=this._current=this._next;return a&&(this._next=a!==this._last?a.nextSibling:null,L.isCharacterDataNode(a)&&this.clonePartiallySelectedTextNodes&&(a===this.ec&&(a=a.cloneNode(!0)).deleteData(this.eo,a.length-this.eo),this._current===this.sc&&(a=a.cloneNode(!0)).deleteData(0,this.so))),a},remove:function(){var a,b,c=this._current;!L.isCharacterDataNode(c)||c!==this.sc&&c!==this.ec?c.parentNode&&c.parentNode.removeChild(c):(a=c===this.sc?this.so:0,b=c===this.ec?this.eo:c.length,a!=b&&c.deleteData(a,b-a))},isPartiallySelectedSubtree:function(){var a=this._current;return b(a,this.range)},getSubtreeIterator:function(){var a;if(this.isSingleCharacterDataNode)a=this.range.cloneRange(),a.collapse();else{a=new K(c(this.range));var b=this._current,d=b,e=0,f=b,g=L.getNodeLength(b);L.isAncestorOf(b,this.sc,!0)&&(d=this.sc,e=this.so),L.isAncestorOf(b,this.ec,!0)&&(f=this.ec,g=this.eo),I(a,d,e,f,g)}return new n(a,this.clonePartiallySelectedTextNodes)},detach:function(a){a&&this.range.detach(),this.range=this._current=this._next=this._first=this._last=this.sc=this.so=this.ec=this.eo=null}},o.prototype={BAD_BOUNDARYPOINTS_ERR:1,INVALID_NODE_TYPE_ERR:2},o.prototype.toString=function(){return this.message},p.prototype={_current:null,hasNext:function(){return!!this._next},next:function(){return this._current=this._next,this._next=this.nodes[++this._position],this._current},detach:function(){this._current=this._next=this.nodes=null}};var O=[1,3,4,5,7,8,10],P=[2,9,11],Q=[5,6,10,12],R=[1,3,4,5,7,8,10,11],S=[1,3,4,5,7,8],T=L.getRootContainer,U=q([9,11]),V=q(Q),W=q([6,10,12]),X=document.createElement(\"style\"),Y=!1;try{X.innerHTML=\"<b>x</b>\",Y=3==X.firstChild.nodeType}catch(Z){}a.features.htmlParsingConforms=Y;var $=Y?function(a){var b=this.startContainer,c=L.getDocument(b);if(!b)throw new N(\"INVALID_STATE_ERR\");var d=null;return 1==b.nodeType?d=b:L.isCharacterDataNode(b)&&(d=L.parentElement(b)),d=null===d||\"HTML\"==d.nodeName&&L.isHtmlNamespace(L.getDocument(d).documentElement)&&L.isHtmlNamespace(d)?c.createElement(\"body\"):d.cloneNode(!1),d.innerHTML=a,L.fragmentFromNodeChildren(d)}:function(a){s(this);var b=c(this),d=b.createElement(\"body\");return d.innerHTML=a,L.fragmentFromNodeChildren(d)},_=[\"startContainer\",\"startOffset\",\"endContainer\",\"endOffset\",\"collapsed\",\"commonAncestorContainer\"],ab=0,bb=1,cb=2,db=3,eb=0,fb=1,gb=2,hb=3;C.prototype={attachListener:function(a,b){this._listeners[a].push(b)},compareBoundaryPoints:function(a,b){B(this),v(this.startContainer,b.startContainer);var c,d,e,f,g=a==db||a==ab?\"start\":\"end\",h=a==bb||a==ab?\"start\":\"end\";return c=this[g+\"Container\"],d=this[g+\"Offset\"],e=b[h+\"Container\"],f=b[h+\"Offset\"],L.comparePoints(c,d,e,f)},insertNode:function(a){if(B(this),t(a,R),w(this.startContainer),L.isAncestorOf(a,this.startContainer,!0))throw new N(\"HIERARCHY_REQUEST_ERR\");var b=g(a,this.startContainer,this.startOffset);this.setStartBefore(b)},cloneContents:function(){B(this);var a,b;if(this.collapsed)return c(this).createDocumentFragment();if(this.startContainer===this.endContainer&&L.isCharacterDataNode(this.startContainer))return a=this.startContainer.cloneNode(!0),a.data=a.data.slice(this.startOffset,this.endOffset),b=c(this).createDocumentFragment(),b.appendChild(a),b;var d=new n(this,!0);return a=h(d),d.detach(),a},canSurroundContents:function(){B(this),w(this.startContainer),w(this.endContainer);var a=new n(this,!0),c=a._first&&b(a._first,this)||a._last&&b(a._last,this);return a.detach(),!c},surroundContents:function(a){if(t(a,S),!this.canSurroundContents())throw new o(\"BAD_BOUNDARYPOINTS_ERR\");var b=this.extractContents();if(a.hasChildNodes())for(;a.lastChild;)a.removeChild(a.lastChild);g(a,this.startContainer,this.startOffset),a.appendChild(b),this.selectNode(a)},cloneRange:function(){B(this);for(var a,b=new K(c(this)),d=_.length;d--;)a=_[d],b[a]=this[a];return b},toString:function(){B(this);var a=this.startContainer;if(a===this.endContainer&&L.isCharacterDataNode(a))return 3==a.nodeType||4==a.nodeType?a.data.slice(this.startOffset,this.endOffset):\"\";var b=[],c=new n(this,!0);return i(c,function(a){(3==a.nodeType||4==a.nodeType)&&b.push(a.data)}),c.detach(),b.join(\"\")},compareNode:function(a){B(this);var b=a.parentNode,c=L.getNodeIndex(a);if(!b)throw new N(\"NOT_FOUND_ERR\");var d=this.comparePoint(b,c),e=this.comparePoint(b,c+1);return 0>d?e>0?gb:eb:e>0?fb:hb},comparePoint:function(a,b){return B(this),x(a,\"HIERARCHY_REQUEST_ERR\"),v(a,this.startContainer),L.comparePoints(a,b,this.startContainer,this.startOffset)<0?-1:L.comparePoints(a,b,this.endContainer,this.endOffset)>0?1:0},createContextualFragment:$,toHtml:function(){B(this);var a=c(this).createElement(\"div\");return a.appendChild(this.cloneContents()),a.innerHTML},intersectsNode:function(a,b){if(B(this),x(a,\"NOT_FOUND_ERR\"),L.getDocument(a)!==c(this))return!1;var d=a.parentNode,e=L.getNodeIndex(a);x(d,\"NOT_FOUND_ERR\");var f=L.comparePoints(d,e,this.endContainer,this.endOffset),g=L.comparePoints(d,e+1,this.startContainer,this.startOffset);return b?0>=f&&g>=0:0>f&&g>0},isPointInRange:function(a,b){return B(this),x(a,\"HIERARCHY_REQUEST_ERR\"),v(a,this.startContainer),L.comparePoints(a,b,this.startContainer,this.startOffset)>=0&&L.comparePoints(a,b,this.endContainer,this.endOffset)<=0},intersectsRange:function(a,b){if(B(this),c(a)!=c(this))throw new N(\"WRONG_DOCUMENT_ERR\");var d=L.comparePoints(this.startContainer,this.startOffset,a.endContainer,a.endOffset),e=L.comparePoints(this.endContainer,this.endOffset,a.startContainer,a.startOffset);return b?0>=d&&e>=0:0>d&&e>0},intersection:function(a){if(this.intersectsRange(a)){var b=L.comparePoints(this.startContainer,this.startOffset,a.startContainer,a.startOffset),c=L.comparePoints(this.endContainer,this.endOffset,a.endContainer,a.endOffset),d=this.cloneRange();return-1==b&&d.setStart(a.startContainer,a.startOffset),1==c&&d.setEnd(a.endContainer,a.endOffset),d}return null},union:function(a){if(this.intersectsRange(a,!0)){var b=this.cloneRange();return-1==L.comparePoints(a.startContainer,a.startOffset,this.startContainer,this.startOffset)&&b.setStart(a.startContainer,a.startOffset),1==L.comparePoints(a.endContainer,a.endOffset,this.endContainer,this.endOffset)&&b.setEnd(a.endContainer,a.endOffset),b}throw new o(\"Ranges do not intersect\")},containsNode:function(a,b){return b?this.intersectsNode(a,!1):this.compareNode(a)==hb},containsNodeContents:function(a){return this.comparePoint(a,0)>=0&&this.comparePoint(a,L.getNodeLength(a))<=0},containsRange:function(a){return this.intersection(a).equals(a)},containsNodeText:function(a){var b=this.cloneRange();b.selectNode(a);var c=b.getNodes([3]);if(c.length>0){b.setStart(c[0],0);var d=c.pop();b.setEnd(d,d.length);var e=this.containsRange(b);return b.detach(),e}return this.containsNodeContents(a)},createNodeIterator:function(a,b){return B(this),new p(this,a,b)},getNodes:function(a,b){return B(this),l(this,a,b)},getDocument:function(){return c(this)},collapseBefore:function(a){s(this),this.setEndBefore(a),this.collapse(!1)},collapseAfter:function(a){s(this),this.setStartAfter(a),this.collapse(!0)},getName:function(){return\"DomRange\"},equals:function(a){return K.rangesEqual(this,a)},isValid:function(){return A(this)},inspect:function(){return m(this)}},G(K,I,J),a.rangePrototype=C.prototype,K.rangeProperties=_,K.RangeIterator=n,K.copyComparisonConstants=E,K.createPrototypeRange=G,K.inspect=m,K.getRangeDocument=c,K.rangesEqual=function(a,b){return a.startContainer===b.startContainer&&a.startOffset===b.startOffset&&a.endContainer===b.endContainer&&a.endOffset===b.endOffset},a.DomRange=K,a.RangeException=o}),rangy.createModule(\"WrappedRange\",function(a){function b(a){var b=a.parentElement(),c=a.duplicate();c.collapse(!0);var d=c.parentElement();c=a.duplicate(),c.collapse(!1);var e=c.parentElement(),f=d==e?d:g.getCommonAncestor(d,e);return f==b?f:g.getCommonAncestor(b,f)}function c(a){return 0==a.compareEndPoints(\"StartToEnd\",a)}function d(a,b,c,d){var e=a.duplicate();e.collapse(c);var f=e.parentElement();if(g.isAncestorOf(b,f,!0)||(f=b),!f.canHaveHTML)return new h(f.parentNode,g.getNodeIndex(f));var i,j,k,l,m,n=g.getDocument(f).createElement(\"span\"),o=c?\"StartToStart\":\"StartToEnd\";do f.insertBefore(n,n.previousSibling),e.moveToElementText(n);while((i=e.compareEndPoints(o,a))>0&&n.previousSibling);if(m=n.nextSibling,-1==i&&m&&g.isCharacterDataNode(m)){e.setEndPoint(c?\"EndToStart\":\"EndToEnd\",a);var p;if(/[\\r\\n]/.test(m.data)){var q=e.duplicate(),r=q.text.replace(/\\r\\n/g,\"\\r\").length;for(p=q.moveStart(\"character\",r);-1==(i=q.compareEndPoints(\"StartToEnd\",q));)p++,q.moveStart(\"character\",1)}else p=e.text.length;l=new h(m,p)}else j=(d||!c)&&n.previousSibling,k=(d||c)&&n.nextSibling,l=k&&g.isCharacterDataNode(k)?new h(k,0):j&&g.isCharacterDataNode(j)?new h(j,j.length):new h(f,g.getNodeIndex(n));return n.parentNode.removeChild(n),l}function e(a,b){var c,d,e,f,h=a.offset,i=g.getDocument(a.node),j=i.body.createTextRange(),k=g.isCharacterDataNode(a.node);return k?(c=a.node,d=c.parentNode):(f=a.node.childNodes,c=h<f.length?f[h]:null,d=a.node),e=i.createElement(\"span\"),e.innerHTML=\"&#feff;\",c?d.insertBefore(e,c):d.appendChild(e),j.moveToElementText(e),j.collapse(!b),d.removeChild(e),k&&j[b?\"moveStart\":\"moveEnd\"](\"character\",h),j}a.requireModules([\"DomUtil\",\"DomRange\"]);var f,g=a.dom,h=g.DomPosition,i=a.DomRange;if(!a.features.implementsDomRange||a.features.implementsTextRange&&a.config.preferTextRange){if(a.features.implementsTextRange){f=function(a){this.textRange=a,this.refresh()},f.prototype=new i(document),f.prototype.refresh=function(){var a,e,f=b(this.textRange);c(this.textRange)?e=a=d(this.textRange,f,!0,!0):(a=d(this.textRange,f,!0,!1),e=d(this.textRange,f,!1,!1)),this.setStart(a.node,a.offset),this.setEnd(e.node,e.offset)},i.copyComparisonConstants(f);var j=function(){return this}();\"undefined\"==typeof j.Range&&(j.Range=f),a.createNativeRange=function(a){return a=a||document,a.body.createTextRange()}}}else!function(){function b(a){for(var b,c=k.length;c--;)b=k[c],a[b]=a.nativeRange[b]}function c(a,b,c,d,e){var f=a.startContainer!==b||a.startOffset!=c,g=a.endContainer!==d||a.endOffset!=e;(f||g)&&(a.setEnd(d,e),a.setStart(b,c))}function d(a){a.nativeRange.detach(),a.detached=!0;for(var b,c=k.length;c--;)b=k[c],a[b]=null}var e,h,j,k=i.rangeProperties;f=function(a){if(!a)throw new Error(\"Range must be specified\");this.nativeRange=a,b(this)},i.createPrototypeRange(f,c,d),e=f.prototype,e.selectNode=function(a){this.nativeRange.selectNode(a),b(this)},e.deleteContents=function(){this.nativeRange.deleteContents(),b(this)},e.extractContents=function(){var a=this.nativeRange.extractContents();return b(this),a},e.cloneContents=function(){return this.nativeRange.cloneContents()},e.surroundContents=function(a){this.nativeRange.surroundContents(a),b(this)},e.collapse=function(a){this.nativeRange.collapse(a),b(this)},e.cloneRange=function(){return new f(this.nativeRange.cloneRange())},e.refresh=function(){b(this)},e.toString=function(){return this.nativeRange.toString()};var l=document.createTextNode(\"test\");g.getBody(document).appendChild(l);var m=document.createRange();m.setStart(l,0),m.setEnd(l,0);try{m.setStart(l,1),h=!0,e.setStart=function(a,c){this.nativeRange.setStart(a,c),b(this)},e.setEnd=function(a,c){this.nativeRange.setEnd(a,c),b(this)},j=function(a){return function(c){this.nativeRange[a](c),b(this)}}}catch(n){h=!1,e.setStart=function(a,c){try{this.nativeRange.setStart(a,c)}catch(d){this.nativeRange.setEnd(a,c),this.nativeRange.setStart(a,c)}b(this)},e.setEnd=function(a,c){try{this.nativeRange.setEnd(a,c)}catch(d){this.nativeRange.setStart(a,c),this.nativeRange.setEnd(a,c)}b(this)},j=function(a,c){return function(d){try{this.nativeRange[a](d)}catch(e){this.nativeRange[c](d),this.nativeRange[a](d)}b(this)}}}e.setStartBefore=j(\"setStartBefore\",\"setEndBefore\"),e.setStartAfter=j(\"setStartAfter\",\"setEndAfter\"),e.setEndBefore=j(\"setEndBefore\",\"setStartBefore\"),e.setEndAfter=j(\"setEndAfter\",\"setStartAfter\"),m.selectNodeContents(l),e.selectNodeContents=m.startContainer==l&&m.endContainer==l&&0==m.startOffset&&m.endOffset==l.length?function(a){this.nativeRange.selectNodeContents(a),b(this)}:function(a){this.setStart(a,0),this.setEnd(a,i.getEndOffset(a))},m.selectNodeContents(l),m.setEnd(l,3);var o=document.createRange();o.selectNodeContents(l),o.setEnd(l,4),o.setStart(l,2),e.compareBoundaryPoints=-1==m.compareBoundaryPoints(m.START_TO_END,o)&1==m.compareBoundaryPoints(m.END_TO_START,o)?function(a,b){return b=b.nativeRange||b,a==b.START_TO_END?a=b.END_TO_START:a==b.END_TO_START&&(a=b.START_TO_END),this.nativeRange.compareBoundaryPoints(a,b)}:function(a,b){return this.nativeRange.compareBoundaryPoints(a,b.nativeRange||b)},a.util.isHostMethod(m,\"createContextualFragment\")&&(e.createContextualFragment=function(a){return this.nativeRange.createContextualFragment(a)}),g.getBody(document).removeChild(l),m.detach(),o.detach()}(),a.createNativeRange=function(a){return a=a||document,a.createRange()};a.features.implementsTextRange&&(f.rangeToTextRange=function(a){if(a.collapsed){var b=e(new h(a.startContainer,a.startOffset),!0);return b}var c=e(new h(a.startContainer,a.startOffset),!0),d=e(new h(a.endContainer,a.endOffset),!1),f=g.getDocument(a.startContainer).body.createTextRange();return f.setEndPoint(\"StartToStart\",c),f.setEndPoint(\"EndToEnd\",d),f}),f.prototype.getName=function(){return\"WrappedRange\"},a.WrappedRange=f,a.createRange=function(b){return b=b||document,new f(a.createNativeRange(b))},a.createRangyRange=function(a){return a=a||document,new i(a)},a.createIframeRange=function(b){return a.createRange(g.getIframeDocument(b))},a.createIframeRangyRange=function(b){return a.createRangyRange(g.getIframeDocument(b))},a.addCreateMissingNativeApiListener(function(b){var c=b.document;\"undefined\"==typeof c.createRange&&(c.createRange=function(){return a.createRange(this)}),c=b=null})}),rangy.createModule(\"WrappedSelection\",function(a,b){function c(a){return(a||window).getSelection()}function d(a){return(a||window).document.selection}function e(a,b,c){var d=c?\"end\":\"start\",e=c?\"start\":\"end\";a.anchorNode=b[d+\"Container\"],a.anchorOffset=b[d+\"Offset\"],a.focusNode=b[e+\"Container\"],a.focusOffset=b[e+\"Offset\"]}function f(a){var b=a.nativeSelection;a.anchorNode=b.anchorNode,a.anchorOffset=b.anchorOffset,a.focusNode=b.focusNode,a.focusOffset=b.focusOffset}function g(a){a.anchorNode=a.focusNode=null,a.anchorOffset=a.focusOffset=0,a.rangeCount=0,a.isCollapsed=!0,a._ranges.length=0}function h(b){var c;return b instanceof y?(c=b._selectionNativeRange,c||(c=a.createNativeRange(w.getDocument(b.startContainer)),c.setEnd(b.endContainer,b.endOffset),c.setStart(b.startContainer,b.startOffset),b._selectionNativeRange=c,b.attachListener(\"detach\",function(){this._selectionNativeRange=null}))):b instanceof z?c=b.nativeRange:a.features.implementsDomRange&&b instanceof w.getWindow(b.startContainer).Range&&(c=b),c}function i(a){if(!a.length||1!=a[0].nodeType)return!1;for(var b=1,c=a.length;c>b;++b)if(!w.isAncestorOf(a[0],a[b]))return!1;return!0}function j(a){var b=a.getNodes();if(!i(b))throw new Error(\"getSingleElementFromRange: range \"+a.inspect()+\" did not consist of a single element\");return b[0]}function k(a){return!!a&&\"undefined\"!=typeof a.text}function l(a,b){var c=new z(b);a._ranges=[c],e(a,c,!1),a.rangeCount=1,a.isCollapsed=c.collapsed}function m(b){if(b._ranges.length=0,\"None\"==b.docSelection.type)g(b);else{var c=b.docSelection.createRange();if(k(c))l(b,c);else{b.rangeCount=c.length;for(var d,f=w.getDocument(c.item(0)),h=0;h<b.rangeCount;++h)d=a.createRange(f),d.selectNode(c.item(h)),b._ranges.push(d);\nb.isCollapsed=1==b.rangeCount&&b._ranges[0].collapsed,e(b,b._ranges[b.rangeCount-1],!1)}}}function n(a,b){for(var c=a.docSelection.createRange(),d=j(b),e=w.getDocument(c.item(0)),f=w.getBody(e).createControlRange(),g=0,h=c.length;h>g;++g)f.add(c.item(g));try{f.add(d)}catch(i){throw new Error(\"addRange(): Element within the specified Range could not be added to control selection (does it have layout?)\")}f.select(),m(a)}function o(a,b,c){this.nativeSelection=a,this.docSelection=b,this._ranges=[],this.win=c,this.refresh()}function p(a,b){for(var c,d=w.getDocument(b[0].startContainer),e=w.getBody(d).createControlRange(),f=0;f<rangeCount;++f){c=j(b[f]);try{e.add(c)}catch(g){throw new Error(\"setRanges(): Element within the one of the specified Ranges could not be added to control selection (does it have layout?)\")}}e.select(),m(a)}function q(a,b){if(a.anchorNode&&w.getDocument(a.anchorNode)!==w.getDocument(b))throw new A(\"WRONG_DOCUMENT_ERR\")}function r(a){var b=[],c=new B(a.anchorNode,a.anchorOffset),d=new B(a.focusNode,a.focusOffset),e=\"function\"==typeof a.getName?a.getName():\"Selection\";if(\"undefined\"!=typeof a.rangeCount)for(var f=0,g=a.rangeCount;g>f;++f)b[f]=y.inspect(a.getRangeAt(f));return\"[\"+e+\"(Ranges: \"+b.join(\", \")+\")(anchor: \"+c.inspect()+\", focus: \"+d.inspect()+\"]\"}a.requireModules([\"DomUtil\",\"DomRange\",\"WrappedRange\"]),a.config.checkSelectionRanges=!0;var s,t,u=\"boolean\",v=\"_rangySelection\",w=a.dom,x=a.util,y=a.DomRange,z=a.WrappedRange,A=a.DOMException,B=w.DomPosition,C=\"Control\",D=a.util.isHostMethod(window,\"getSelection\"),E=a.util.isHostObject(document,\"selection\"),F=E&&(!D||a.config.preferTextRange);F?(s=d,a.isSelectionValid=function(a){var b=(a||window).document,c=b.selection;return\"None\"!=c.type||w.getDocument(c.createRange().parentElement())==b}):D?(s=c,a.isSelectionValid=function(){return!0}):b.fail(\"Neither document.selection or window.getSelection() detected.\"),a.getNativeSelection=s;var G=s(),H=a.createNativeRange(document),I=w.getBody(document),J=x.areHostObjects(G,[\"anchorNode\",\"focusNode\"]&&x.areHostProperties(G,[\"anchorOffset\",\"focusOffset\"]));a.features.selectionHasAnchorAndFocus=J;var K=x.isHostMethod(G,\"extend\");a.features.selectionHasExtend=K;var L=\"number\"==typeof G.rangeCount;a.features.selectionHasRangeCount=L;var M=!1,N=!0;x.areHostMethods(G,[\"addRange\",\"getRangeAt\",\"removeAllRanges\"])&&\"number\"==typeof G.rangeCount&&a.features.implementsDomRange&&!function(){var a=document.createElement(\"iframe\");a.frameBorder=0,a.style.position=\"absolute\",a.style.left=\"-10000px\",I.appendChild(a);var b=w.getIframeDocument(a);b.open(),b.write(\"<html><head></head><body>12</body></html>\"),b.close();var c=w.getIframeWindow(a).getSelection(),d=b.documentElement,e=d.lastChild,f=e.firstChild,g=b.createRange();g.setStart(f,1),g.collapse(!0),c.addRange(g),N=1==c.rangeCount,c.removeAllRanges();var h=g.cloneRange();g.setStart(f,0),h.setEnd(f,2),c.addRange(g),c.addRange(h),M=2==c.rangeCount,g.detach(),h.detach(),I.removeChild(a)}(),a.features.selectionSupportsMultipleRanges=M,a.features.collapsedNonEditableSelectionsSupported=N;var O,P=!1;I&&x.isHostMethod(I,\"createControlRange\")&&(O=I.createControlRange(),x.areHostProperties(O,[\"item\",\"add\"])&&(P=!0)),a.features.implementsControlRange=P,t=J?function(a){return a.anchorNode===a.focusNode&&a.anchorOffset===a.focusOffset}:function(a){return a.rangeCount?a.getRangeAt(a.rangeCount-1).collapsed:!1};var Q;x.isHostMethod(G,\"getRangeAt\")?Q=function(a,b){try{return a.getRangeAt(b)}catch(c){return null}}:J&&(Q=function(b){var c=w.getDocument(b.anchorNode),d=a.createRange(c);return d.setStart(b.anchorNode,b.anchorOffset),d.setEnd(b.focusNode,b.focusOffset),d.collapsed!==this.isCollapsed&&(d.setStart(b.focusNode,b.focusOffset),d.setEnd(b.anchorNode,b.anchorOffset)),d}),a.getSelection=function(a){a=a||window;var b=a[v],c=s(a),e=E?d(a):null;return b?(b.nativeSelection=c,b.docSelection=e,b.refresh(a)):(b=new o(c,e,a),a[v]=b),b},a.getIframeSelection=function(b){return a.getSelection(w.getIframeWindow(b))};var R=o.prototype;if(!F&&J&&x.areHostMethods(G,[\"removeAllRanges\",\"addRange\"])){R.removeAllRanges=function(){this.nativeSelection.removeAllRanges(),g(this)};var S=function(b,c){var d=y.getRangeDocument(c),e=a.createRange(d);e.collapseToPoint(c.endContainer,c.endOffset),b.nativeSelection.addRange(h(e)),b.nativeSelection.extend(c.startContainer,c.startOffset),b.refresh()};R.addRange=L?function(b,c){if(P&&E&&this.docSelection.type==C)n(this,b);else if(c&&K)S(this,b);else{var d;if(M?d=this.rangeCount:(this.removeAllRanges(),d=0),this.nativeSelection.addRange(h(b)),this.rangeCount=this.nativeSelection.rangeCount,this.rangeCount==d+1){if(a.config.checkSelectionRanges){var f=Q(this.nativeSelection,this.rangeCount-1);f&&!y.rangesEqual(f,b)&&(b=new z(f))}this._ranges[this.rangeCount-1]=b,e(this,b,V(this.nativeSelection)),this.isCollapsed=t(this)}else this.refresh()}}:function(a,b){b&&K?S(this,a):(this.nativeSelection.addRange(h(a)),this.refresh())},R.setRanges=function(a){if(P&&a.length>1)p(this,a);else{this.removeAllRanges();for(var b=0,c=a.length;c>b;++b)this.addRange(a[b])}}}else{if(!(x.isHostMethod(G,\"empty\")&&x.isHostMethod(H,\"select\")&&P&&F))return b.fail(\"No means of selecting a Range or TextRange was found\"),!1;R.removeAllRanges=function(){try{if(this.docSelection.empty(),\"None\"!=this.docSelection.type){var a;if(this.anchorNode)a=w.getDocument(this.anchorNode);else if(this.docSelection.type==C){var b=this.docSelection.createRange();b.length&&(a=w.getDocument(b.item(0)).body.createTextRange())}if(a){var c=a.body.createTextRange();c.select(),this.docSelection.empty()}}}catch(d){}g(this)},R.addRange=function(a){this.docSelection.type==C?n(this,a):(z.rangeToTextRange(a).select(),this._ranges[0]=a,this.rangeCount=1,this.isCollapsed=this._ranges[0].collapsed,e(this,a,!1))},R.setRanges=function(a){this.removeAllRanges();var b=a.length;b>1?p(this,a):b&&this.addRange(a[0])}}R.getRangeAt=function(a){if(0>a||a>=this.rangeCount)throw new A(\"INDEX_SIZE_ERR\");return this._ranges[a]};var T;if(F)T=function(b){var c;a.isSelectionValid(b.win)?c=b.docSelection.createRange():(c=w.getBody(b.win.document).createTextRange(),c.collapse(!0)),b.docSelection.type==C?m(b):k(c)?l(b,c):g(b)};else if(x.isHostMethod(G,\"getRangeAt\")&&\"number\"==typeof G.rangeCount)T=function(b){if(P&&E&&b.docSelection.type==C)m(b);else if(b._ranges.length=b.rangeCount=b.nativeSelection.rangeCount,b.rangeCount){for(var c=0,d=b.rangeCount;d>c;++c)b._ranges[c]=new a.WrappedRange(b.nativeSelection.getRangeAt(c));e(b,b._ranges[b.rangeCount-1],V(b.nativeSelection)),b.isCollapsed=t(b)}else g(b)};else{if(!J||typeof G.isCollapsed!=u||typeof H.collapsed!=u||!a.features.implementsDomRange)return b.fail(\"No means of obtaining a Range or TextRange from the user's selection was found\"),!1;T=function(a){var b,c=a.nativeSelection;c.anchorNode?(b=Q(c,0),a._ranges=[b],a.rangeCount=1,f(a),a.isCollapsed=t(a)):g(a)}}R.refresh=function(a){var b=a?this._ranges.slice(0):null;if(T(this),a){var c=b.length;if(c!=this._ranges.length)return!1;for(;c--;)if(!y.rangesEqual(b[c],this._ranges[c]))return!1;return!0}};var U=function(a,b){var c=a.getAllRanges(),d=!1;a.removeAllRanges();for(var e=0,f=c.length;f>e;++e)d||b!==c[e]?a.addRange(c[e]):d=!0;a.rangeCount||g(a)};R.removeRange=P?function(a){if(this.docSelection.type==C){for(var b,c=this.docSelection.createRange(),d=j(a),e=w.getDocument(c.item(0)),f=w.getBody(e).createControlRange(),g=!1,h=0,i=c.length;i>h;++h)b=c.item(h),b!==d||g?f.add(c.item(h)):g=!0;f.select(),m(this)}else U(this,a)}:function(a){U(this,a)};var V;!F&&J&&a.features.implementsDomRange?(V=function(a){var b=!1;return a.anchorNode&&(b=1==w.comparePoints(a.anchorNode,a.anchorOffset,a.focusNode,a.focusOffset)),b},R.isBackwards=function(){return V(this)}):V=R.isBackwards=function(){return!1},R.toString=function(){for(var a=[],b=0,c=this.rangeCount;c>b;++b)a[b]=\"\"+this._ranges[b];return a.join(\"\")},R.collapse=function(b,c){q(this,b);var d=a.createRange(w.getDocument(b));d.collapseToPoint(b,c),this.removeAllRanges(),this.addRange(d),this.isCollapsed=!0},R.collapseToStart=function(){if(!this.rangeCount)throw new A(\"INVALID_STATE_ERR\");var a=this._ranges[0];this.collapse(a.startContainer,a.startOffset)},R.collapseToEnd=function(){if(!this.rangeCount)throw new A(\"INVALID_STATE_ERR\");var a=this._ranges[this.rangeCount-1];this.collapse(a.endContainer,a.endOffset)},R.selectAllChildren=function(b){q(this,b);var c=a.createRange(w.getDocument(b));c.selectNodeContents(b),this.removeAllRanges(),this.addRange(c)},R.deleteFromDocument=function(){if(P&&E&&this.docSelection.type==C){for(var a,b=this.docSelection.createRange();b.length;)a=b.item(0),b.remove(a),a.parentNode.removeChild(a);this.refresh()}else if(this.rangeCount){var c=this.getAllRanges();this.removeAllRanges();for(var d=0,e=c.length;e>d;++d)c[d].deleteContents();this.addRange(c[e-1])}},R.getAllRanges=function(){return this._ranges.slice(0)},R.setSingleRange=function(a){this.setRanges([a])},R.containsNode=function(a,b){for(var c=0,d=this._ranges.length;d>c;++c)if(this._ranges[c].containsNode(a,b))return!0;return!1},R.toHtml=function(){var a=\"\";if(this.rangeCount){for(var b=y.getRangeDocument(this._ranges[0]).createElement(\"div\"),c=0,d=this._ranges.length;d>c;++c)b.appendChild(this._ranges[c].cloneContents());a=b.innerHTML}return a},R.getName=function(){return\"WrappedSelection\"},R.inspect=function(){return r(this)},R.detach=function(){this.win[v]=null,this.win=this.anchorNode=this.focusNode=null},o.inspect=r,a.Selection=o,a.selectionPrototype=R,a.addCreateMissingNativeApiListener(function(b){\"undefined\"==typeof b.getSelection&&(b.getSelection=function(){return a.getSelection(this)}),b=null})}),/**\n * @license Selection save and restore module for Rangy.\n * Saves and restores user selections using marker invisible elements in the DOM.\n *\n * Part of Rangy, a cross-browser JavaScript range and selection library\n * http://code.google.com/p/rangy/\n *\n * Depends on Rangy core.\n *\n * Copyright 2012, Tim Down\n * Licensed under the MIT license.\n * Version: 1.2.3\n * Build date: 26 February 2012\n */\nrangy.createModule(\"SaveRestore\",function(a,b){function c(a,b){return(b||document).getElementById(a)}function d(a,b){var c,d=\"selectionBoundary_\"+ +new Date+\"_\"+(\"\"+Math.random()).slice(2),e=k.getDocument(a.startContainer),f=a.cloneRange();return f.collapse(b),c=e.createElement(\"span\"),c.id=d,c.style.lineHeight=\"0\",c.style.display=\"none\",c.className=\"rangySelectionBoundary\",c.appendChild(e.createTextNode(l)),f.insertNode(c),f.detach(),c}function e(a,d,e,f){var g=c(e,a);g?(d[f?\"setStartBefore\":\"setEndBefore\"](g),g.parentNode.removeChild(g)):b.warn(\"Marker element has been removed. Cannot restore selection.\")}function f(a,b){return b.compareBoundaryPoints(a.START_TO_START,a)}function g(e){e=e||window;var g=e.document;if(!a.isSelectionValid(e))return void b.warn(\"Cannot save selection. This usually happens when the selection is collapsed and the selection document has lost focus.\");var h,i,j,k=a.getSelection(e),l=k.getAllRanges(),m=[];l.sort(f);for(var n=0,o=l.length;o>n;++n)j=l[n],j.collapsed?(i=d(j,!1),m.push({markerId:i.id,collapsed:!0})):(i=d(j,!1),h=d(j,!0),m[n]={startMarkerId:h.id,endMarkerId:i.id,collapsed:!1,backwards:1==l.length&&k.isBackwards()});for(n=o-1;n>=0;--n)j=l[n],j.collapsed?j.collapseBefore(c(m[n].markerId,g)):(j.setEndBefore(c(m[n].endMarkerId,g)),j.setStartAfter(c(m[n].startMarkerId,g)));return k.setRanges(l),{win:e,doc:g,rangeInfos:m,restored:!1}}function h(d,f){if(!d.restored){for(var g,h,i=d.rangeInfos,j=a.getSelection(d.win),k=[],l=i.length,m=l-1;m>=0;--m){if(g=i[m],h=a.createRange(d.doc),g.collapsed){var n=c(g.markerId,d.doc);if(n){n.style.display=\"inline\";var o=n.previousSibling;o&&3==o.nodeType?(n.parentNode.removeChild(n),h.collapseToPoint(o,o.length)):(h.collapseBefore(n),n.parentNode.removeChild(n))}else b.warn(\"Marker element has been removed. Cannot restore selection.\")}else e(d.doc,h,g.startMarkerId,!0),e(d.doc,h,g.endMarkerId,!1);1==l&&h.normalizeBoundaries(),k[m]=h}1==l&&f&&a.features.selectionHasExtend&&i[0].backwards?(j.removeAllRanges(),j.addRange(k[0],!0)):j.setRanges(k),d.restored=!0}}function i(a,b){var d=c(b,a);d&&d.parentNode.removeChild(d)}function j(a){for(var b,c=a.rangeInfos,d=0,e=c.length;e>d;++d)b=c[d],b.collapsed?i(a.doc,b.markerId):(i(a.doc,b.startMarkerId),i(a.doc,b.endMarkerId))}a.requireModules([\"DomUtil\",\"DomRange\",\"WrappedRange\"]);var k=a.dom,l=\"\";a.saveSelection=g,a.restoreSelection=h,a.removeMarkerElement=i,a.removeMarkers=j})}({},function(){return this}());","!function(a,b){b[\"true\"]=a,/**\n * @license AngularJS v1.3.10\n * (c) 2010-2014 Google, Inc. http://angularjs.org\n * License: MIT\n */\nfunction(a,b){\"use strict\";function c(){this.$get=[\"$$sanitizeUri\",function(a){return function(b){var c=[];return f(b,k(c,function(b,c){return!/^unsafe/.test(a(b,c))})),c.join(\"\")}}]}function d(a){var c=[],d=k(c,b.noop);return d.chars(a),c.join(\"\")}function e(a){var b,c={},d=a.split(\",\");for(b=0;b<d.length;b++)c[d[b]]=!0;return c}function f(a,c){function d(a,d,f,h){if(d=b.lowercase(d),A[d])for(;k.last()&&B[k.last()];)e(\"\",k.last());z[d]&&k.last()==d&&e(\"\",d),h=w[d]||!!h,h||k.push(d);var i={};f.replace(o,function(a,b,c,d,e){var f=c||d||e||\"\";i[b]=g(f)}),c.start&&c.start(d,i,h)}function e(a,d){var e,f=0;if(d=b.lowercase(d))for(f=k.length-1;f>=0&&k[f]!=d;f--);if(f>=0){for(e=k.length-1;e>=f;e--)c.end&&c.end(k[e]);k.length=f}}\"string\"!=typeof a&&(a=null===a||\"undefined\"==typeof a?\"\":\"\"+a);var f,h,i,j,k=[],u=a;for(k.last=function(){return k[k.length-1]};a;){if(j=\"\",h=!0,k.last()&&D[k.last()]?(a=a.replace(new RegExp(\"([^]*)<\\\\s*\\\\/\\\\s*\"+k.last()+\"[^>]*>\",\"i\"),function(a,b){return b=b.replace(r,\"$1\").replace(t,\"$1\"),c.chars&&c.chars(g(b)),\"\"}),e(\"\",k.last())):(0===a.indexOf(\"<!--\")?(f=a.indexOf(\"--\",4),f>=0&&a.lastIndexOf(\"-->\",f)===f&&(c.comment&&c.comment(a.substring(4,f)),a=a.substring(f+3),h=!1)):s.test(a)?(i=a.match(s),i&&(a=a.replace(i[0],\"\"),h=!1)):q.test(a)?(i=a.match(n),i&&(a=a.substring(i[0].length),i[0].replace(n,e),h=!1)):p.test(a)&&(i=a.match(m),i?(i[4]&&(a=a.substring(i[0].length),i[0].replace(m,d)),h=!1):(j+=\"<\",a=a.substring(1))),h&&(f=a.indexOf(\"<\"),j+=0>f?a:a.substring(0,f),a=0>f?\"\":a.substring(f),c.chars&&c.chars(g(j)))),a==u)throw l(\"badparse\",\"The sanitizer was unable to parse the following block of html: {0}\",a);u=a}e()}function g(a){if(!a)return\"\";var b=K.exec(a),c=b[1],d=b[3],e=b[2];return e&&(J.innerHTML=e.replace(/</g,\"&lt;\"),e=\"textContent\"in J?J.textContent:J.innerText),c+e+d}function h(a){return a.replace(/&/g,\"&amp;\").replace(u,function(a){var b=a.charCodeAt(0),c=a.charCodeAt(1);return\"&#\"+(1024*(b-55296)+(c-56320)+65536)+\";\"}).replace(v,function(a){var b=a.charCodeAt(0);return 159>=b||173==b||b>=1536&&1540>=b||1807==b||6068==b||6069==b||b>=8204&&8207>=b||b>=8232&&8239>=b||b>=8288&&8303>=b||65279==b||b>=65520&&65535>=b?\"&#\"+b+\";\":a}).replace(/</g,\"&lt;\").replace(/>/g,\"&gt;\")}function i(a){var c=\"\",d=a.split(\";\");return b.forEach(d,function(a){var d=a.split(\":\");if(2==d.length){var e=L(b.lowercase(d[0])),a=L(b.lowercase(d[1]));((\"color\"===e||\"background-color\"===e)&&(a.match(/^rgb\\([0-9%,\\. ]*\\)$/i)||a.match(/^rgba\\([0-9%,\\. ]*\\)$/i)||a.match(/^hsl\\([0-9%,\\. ]*\\)$/i)||a.match(/^hsla\\([0-9%,\\. ]*\\)$/i)||a.match(/^#[0-9a-f]{3,6}$/i)||a.match(/^[a-z]*$/i))||\"text-align\"===e&&(\"left\"===a||\"right\"===a||\"center\"===a||\"justify\"===a)||\"float\"===e&&(\"left\"===a||\"right\"===a||\"none\"===a)||(\"width\"===e||\"height\"===e)&&a.match(/[0-9\\.]*(px|em|rem|%)/)||\"direction\"===e&&a.match(/^ltr|rtl|initial|inherit$/))&&(c+=e+\": \"+a+\";\")}}),c}function j(a,b,c,d){return\"img\"===a&&b[\"ta-insert-video\"]&&(\"ta-insert-video\"===c||\"allowfullscreen\"===c||\"frameborder\"===c||\"contenteditable\"===c&&\"false\"===d)?!0:!1}function k(a,c){var d=!1,e=b.bind(a,a.push);return{start:function(a,f,g){a=b.lowercase(a),!d&&D[a]&&(d=a),d||E[a]!==!0||(e(\"<\"),e(a),b.forEach(f,function(d,g){var k=b.lowercase(g),l=\"img\"===a&&\"src\"===k||\"background\"===k;(\"style\"===k&&\"\"!==(d=i(d))||j(a,f,k,d)||I[k]===!0&&(F[k]!==!0||c(d,l)))&&(e(\" \"),e(g),e('=\"'),e(h(d)),e('\"'))}),e(g?\"/>\":\">\"))},end:function(a){a=b.lowercase(a),d||E[a]!==!0||(e(\"</\"),e(a),e(\">\")),a==d&&(d=!1)},chars:function(a){d||e(h(a))}}}var l=b.$$minErr(\"$sanitize\"),m=/^<((?:[a-zA-Z])[\\w:-]*)((?:\\s+[\\w:-]+(?:\\s*=\\s*(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>\\s]+))?)*)\\s*(\\/?)\\s*(>?)/,n=/^<\\/\\s*([\\w:-]+)[^>]*>/,o=/([\\w:-]+)(?:\\s*=\\s*(?:(?:\"((?:[^\"])*)\")|(?:'((?:[^'])*)')|([^>\\s]+)))?/g,p=/^</,q=/^<\\//,r=/<!--(.*?)-->/g,s=/<!DOCTYPE([^>]*?)>/i,t=/<!\\[CDATA\\[(.*?)]]>/g,u=/[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g,v=/([^\\#-~| |!])/g,w=e(\"area,br,col,hr,img,wbr\"),x=e(\"colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr\"),y=e(\"rp,rt\"),z=b.extend({},y,x),A=b.extend({},x,e(\"address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul\")),B=b.extend({},y,e(\"a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var\")),C=e(\"animate,animateColor,animateMotion,animateTransform,circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,set,stop,svg,switch,text,title,tspan,use\"),D=e(\"script,style\"),E=b.extend({},w,A,B,z,C),F=e(\"background,cite,href,longdesc,src,usemap,xlink:href\"),G=e(\"abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,id,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,target,title,type,valign,value,vspace,width\"),H=e(\"accent-height,accumulate,additive,alphabetic,arabic-form,ascent,attributeName,attributeType,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan\"),I=b.extend({},F,H,G),J=document.createElement(\"pre\"),K=/^(\\s*)([\\s\\S]*?)(\\s*)$/,L=function(){return String.prototype.trim?function(a){return b.isString(a)?a.trim():a}:function(a){return b.isString(a)?a.replace(/^\\s\\s*/,\"\").replace(/\\s\\s*$/,\"\"):a}}();b.module(\"ngSanitize\",[]).provider(\"$sanitize\",c),b.module(\"ngSanitize\").filter(\"linky\",[\"$sanitize\",function(a){var c=/((ftp|https?):\\/\\/|(www\\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\\S*[^\\s.;,(){}<>\"]/,e=/^mailto:/;return function(f,g){function h(a){a&&n.push(d(a))}function i(a,c){n.push(\"<a \"),b.isDefined(g)&&n.push('target=\"',g,'\" '),n.push('href=\"',a.replace(/\"/g,\"&quot;\"),'\">'),h(c),n.push(\"</a>\")}if(!f)return f;for(var j,k,l,m=f,n=[];j=m.match(c);)k=j[0],j[2]||j[4]||(k=(j[3]?\"http://\":\"mailto:\")+k),l=j.index,h(m.substr(0,l)),i(k,j[0].replace(e,\"\")),m=m.substring(l+j[0].length);return h(m),a(n.join(\"\"))}}])}(window,window.angular)}({},function(){return this}());","!function(a,b){b[\"true\"]=a,/*\n@license textAngular\nAuthor : Austin Anderson\nLicense : 2013 MIT\nVersion 1.3.7\n\nSee README.md or https://github.com/fraywing/textAngular/wiki for requirements and use.\n*/\nangular.module(\"textAngularSetup\",[]).value(\"taOptions\",{toolbar:[[\"h1\",\"h2\",\"h3\",\"h4\",\"h5\",\"h6\",\"p\",\"pre\",\"quote\"],[\"bold\",\"italics\",\"underline\",\"strikeThrough\",\"ul\",\"ol\",\"redo\",\"undo\",\"clear\"],[\"justifyLeft\",\"justifyCenter\",\"justifyRight\",\"indent\",\"outdent\"],[\"html\",\"insertImage\",\"insertLink\",\"insertVideo\",\"wordcount\",\"charcount\"]],classes:{focussed:\"focussed\",toolbar:\"btn-toolbar\",toolbarGroup:\"btn-group\",toolbarButton:\"btn btn-default\",toolbarButtonActive:\"active\",disabled:\"disabled\",textEditor:\"form-control\",htmlEditor:\"form-control\"},setup:{textEditorSetup:function(){},htmlEditorSetup:function(){}},defaultFileDropHandler:function(a,b){var c=new FileReader;return\"image\"===a.type.substring(0,5)?(c.onload=function(){\"\"!==c.result&&b(\"insertImage\",c.result,!0)},c.readAsDataURL(a),!0):!1}}).value(\"taSelectableElements\",[\"a\",\"img\"]).value(\"taCustomRenderers\",[{selector:\"img\",customAttribute:\"ta-insert-video\",renderLogic:function(a){var b=angular.element(\"<iframe></iframe>\"),c=a.prop(\"attributes\");angular.forEach(c,function(a){b.attr(a.name,a.value)}),b.attr(\"src\",b.attr(\"ta-insert-video\")),a.replaceWith(b)}}]).value(\"taTranslations\",{html:{tooltip:\"Toggle html / Rich Text\"},heading:{tooltip:\"Heading \"},p:{tooltip:\"Paragraph\"},pre:{tooltip:\"Preformatted text\"},ul:{tooltip:\"Unordered List\"},ol:{tooltip:\"Ordered List\"},quote:{tooltip:\"Quote/unquote selection or paragraph\"},undo:{tooltip:\"Undo\"},redo:{tooltip:\"Redo\"},bold:{tooltip:\"Bold\"},italic:{tooltip:\"Italic\"},underline:{tooltip:\"Underline\"},strikeThrough:{tooltip:\"Strikethrough\"},justifyLeft:{tooltip:\"Align text left\"},justifyRight:{tooltip:\"Align text right\"},justifyCenter:{tooltip:\"Center\"},indent:{tooltip:\"Increase indent\"},outdent:{tooltip:\"Decrease indent\"},clear:{tooltip:\"Clear formatting\"},insertImage:{dialogPrompt:\"Please enter an image URL to insert\",tooltip:\"Insert image\",hotkey:\"the - possibly language dependent hotkey ... for some future implementation\"},insertVideo:{tooltip:\"Insert video\",dialogPrompt:\"Please enter a youtube URL to embed\"},insertLink:{tooltip:\"Insert / edit link\",dialogPrompt:\"Please enter a URL to insert\"},editLink:{reLinkButton:{tooltip:\"Relink\"},unLinkButton:{tooltip:\"Unlink\"},targetToggle:{buttontext:\"Open in New Window\"}},wordcount:{tooltip:\"Display words Count\"},charcount:{tooltip:\"Display characters Count\"}}).run([\"taRegisterTool\",\"$window\",\"taTranslations\",\"taSelection\",function(a,b,c,d){a(\"html\",{iconclass:\"fa fa-code\",tooltiptext:c.html.tooltip,action:function(){this.$editor().switchView()},activeState:function(){return this.$editor().showHtml}});var e=function(a){return function(){return this.$editor().queryFormatBlockState(a)}},f=function(){return this.$editor().wrapSelection(\"formatBlock\",\"<\"+this.name.toUpperCase()+\">\")};angular.forEach([\"h1\",\"h2\",\"h3\",\"h4\",\"h5\",\"h6\"],function(b){a(b.toLowerCase(),{buttontext:b.toUpperCase(),tooltiptext:c.heading.tooltip+b.charAt(1),action:f,activeState:e(b.toLowerCase())})}),a(\"p\",{buttontext:\"P\",tooltiptext:c.p.tooltip,action:function(){return this.$editor().wrapSelection(\"formatBlock\",\"<P>\")},activeState:function(){return this.$editor().queryFormatBlockState(\"p\")}}),a(\"pre\",{buttontext:\"pre\",tooltiptext:c.pre.tooltip,action:function(){return this.$editor().wrapSelection(\"formatBlock\",\"<PRE>\")},activeState:function(){return this.$editor().queryFormatBlockState(\"pre\")}}),a(\"ul\",{iconclass:\"fa fa-list-ul\",tooltiptext:c.ul.tooltip,action:function(){return this.$editor().wrapSelection(\"insertUnorderedList\",null)},activeState:function(){return this.$editor().queryCommandState(\"insertUnorderedList\")}}),a(\"ol\",{iconclass:\"fa fa-list-ol\",tooltiptext:c.ol.tooltip,action:function(){return this.$editor().wrapSelection(\"insertOrderedList\",null)},activeState:function(){return this.$editor().queryCommandState(\"insertOrderedList\")}}),a(\"quote\",{iconclass:\"fa fa-quote-right\",tooltiptext:c.quote.tooltip,action:function(){return this.$editor().wrapSelection(\"formatBlock\",\"<BLOCKQUOTE>\")},activeState:function(){return this.$editor().queryFormatBlockState(\"blockquote\")}}),a(\"undo\",{iconclass:\"fa fa-undo\",tooltiptext:c.undo.tooltip,action:function(){return this.$editor().wrapSelection(\"undo\",null)}}),a(\"redo\",{iconclass:\"fa fa-repeat\",tooltiptext:c.redo.tooltip,action:function(){return this.$editor().wrapSelection(\"redo\",null)}}),a(\"bold\",{iconclass:\"fa fa-bold\",tooltiptext:c.bold.tooltip,action:function(){return this.$editor().wrapSelection(\"bold\",null)},activeState:function(){return this.$editor().queryCommandState(\"bold\")},commandKeyCode:98}),a(\"justifyLeft\",{iconclass:\"fa fa-align-left\",tooltiptext:c.justifyLeft.tooltip,action:function(){return this.$editor().wrapSelection(\"justifyLeft\",null)},activeState:function(a){var b=!1;return a&&(b=\"left\"===a.css(\"text-align\")||\"left\"===a.attr(\"align\")||\"right\"!==a.css(\"text-align\")&&\"center\"!==a.css(\"text-align\")&&\"justify\"!==a.css(\"text-align\")&&!this.$editor().queryCommandState(\"justifyRight\")&&!this.$editor().queryCommandState(\"justifyCenter\")&&!this.$editor().queryCommandState(\"justifyFull\")),b=b||this.$editor().queryCommandState(\"justifyLeft\")}}),a(\"justifyRight\",{iconclass:\"fa fa-align-right\",tooltiptext:c.justifyRight.tooltip,action:function(){return this.$editor().wrapSelection(\"justifyRight\",null)},activeState:function(a){var b=!1;return a&&(b=\"right\"===a.css(\"text-align\")),b=b||this.$editor().queryCommandState(\"justifyRight\")}}),a(\"justifyCenter\",{iconclass:\"fa fa-align-center\",tooltiptext:c.justifyCenter.tooltip,action:function(){return this.$editor().wrapSelection(\"justifyCenter\",null)},activeState:function(a){var b=!1;return a&&(b=\"center\"===a.css(\"text-align\")),b=b||this.$editor().queryCommandState(\"justifyCenter\")}}),a(\"indent\",{iconclass:\"fa fa-indent\",tooltiptext:c.indent.tooltip,action:function(){return this.$editor().wrapSelection(\"indent\",null)},activeState:function(){return this.$editor().queryFormatBlockState(\"blockquote\")}}),a(\"outdent\",{iconclass:\"fa fa-outdent\",tooltiptext:c.outdent.tooltip,action:function(){return this.$editor().wrapSelection(\"outdent\",null)},activeState:function(){return!1}}),a(\"italics\",{iconclass:\"fa fa-italic\",tooltiptext:c.italic.tooltip,action:function(){return this.$editor().wrapSelection(\"italic\",null)},activeState:function(){return this.$editor().queryCommandState(\"italic\")},commandKeyCode:105}),a(\"underline\",{iconclass:\"fa fa-underline\",tooltiptext:c.underline.tooltip,action:function(){return this.$editor().wrapSelection(\"underline\",null)},activeState:function(){return this.$editor().queryCommandState(\"underline\")},commandKeyCode:117}),a(\"strikeThrough\",{iconclass:\"fa fa-strikethrough\",action:function(){return this.$editor().wrapSelection(\"strikeThrough\",null)},activeState:function(){return document.queryCommandState(\"strikeThrough\")}}),a(\"clear\",{iconclass:\"fa fa-ban\",tooltiptext:c.clear.tooltip,action:function(a,b){var c;this.$editor().wrapSelection(\"removeFormat\",null);var e=angular.element(d.getSelectionElement()),f=function(a){a=angular.element(a);var b=a;angular.forEach(a.children(),function(a){var c=angular.element(\"<p></p>\");c.html(angular.element(a).html()),b.after(c),b=c}),a.remove()};if(angular.forEach(e.find(\"ul\"),f),angular.forEach(e.find(\"ol\"),f),\"li\"===e[0].tagName.toLowerCase()){var g=e[0].parentNode.childNodes,h=[],i=[],j=!1;for(c=0;c<g.length;c++)g[c]===e[0]?j=!0:j?i.push(g[c]):h.push(g[c]);var k=angular.element(e[0].parentNode),l=angular.element(\"<p></p>\");if(l.html(angular.element(e[0]).html()),0===h.length||0===i.length)0===i.length?k.after(l):k[0].parentNode.insertBefore(l[0],k[0]),0===h.length&&0===i.length?k.remove():angular.element(e[0]).remove();else{var m=angular.element(\"<\"+k[0].tagName+\"></\"+k[0].tagName+\">\"),n=angular.element(\"<\"+k[0].tagName+\"></\"+k[0].tagName+\">\");for(c=0;c<h.length;c++)m.append(angular.element(h[c]));for(c=0;c<i.length;c++)n.append(angular.element(i[c]));k.after(n),k.after(l),k.after(m),k.remove()}d.setSelectionToElementEnd(l[0])}var o=this.$editor(),p=function(a){a=angular.element(a),a[0]!==o.displayElements.text[0]&&a.removeAttr(\"class\"),angular.forEach(a.children(),p)};angular.forEach(e,p),\"li\"!==e[0].tagName.toLowerCase()&&\"ol\"!==e[0].tagName.toLowerCase()&&\"ul\"!==e[0].tagName.toLowerCase()&&this.$editor().wrapSelection(\"formatBlock\",\"default\"),b()}});var g=function(a,b,c){var d=function(){c.updateTaBindtaTextElement(),c.hidePopover()};a.preventDefault(),c.displayElements.popover.css(\"width\",\"375px\");var e=c.displayElements.popoverContainer;e.empty();var f=angular.element('<div class=\"btn-group\" style=\"padding-right: 6px;\">'),g=angular.element('<button type=\"button\" class=\"btn btn-default btn-sm btn-small\" unselectable=\"on\" tabindex=\"-1\">100% </button>');g.on(\"click\",function(a){a.preventDefault(),b.css({width:\"100%\",height:\"\"}),d()});var h=angular.element('<button type=\"button\" class=\"btn btn-default btn-sm btn-small\" unselectable=\"on\" tabindex=\"-1\">50% </button>');h.on(\"click\",function(a){a.preventDefault(),b.css({width:\"50%\",height:\"\"}),d()});var i=angular.element('<button type=\"button\" class=\"btn btn-default btn-sm btn-small\" unselectable=\"on\" tabindex=\"-1\">25% </button>');i.on(\"click\",function(a){a.preventDefault(),b.css({width:\"25%\",height:\"\"}),d()});var j=angular.element('<button type=\"button\" class=\"btn btn-default btn-sm btn-small\" unselectable=\"on\" tabindex=\"-1\">Reset</button>');j.on(\"click\",function(a){a.preventDefault(),b.css({width:\"\",height:\"\"}),d()}),f.append(g),f.append(h),f.append(i),f.append(j),e.append(f),f=angular.element('<div class=\"btn-group\" style=\"padding-right: 6px;\">');var k=angular.element('<button type=\"button\" class=\"btn btn-default btn-sm btn-small\" unselectable=\"on\" tabindex=\"-1\"><i class=\"fa fa-align-left\"></i></button>');k.on(\"click\",function(a){a.preventDefault(),b.css(\"float\",\"left\"),b.css(\"cssFloat\",\"left\"),b.css(\"styleFloat\",\"left\"),d()});var l=angular.element('<button type=\"button\" class=\"btn btn-default btn-sm btn-small\" unselectable=\"on\" tabindex=\"-1\"><i class=\"fa fa-align-right\"></i></button>');l.on(\"click\",function(a){a.preventDefault(),b.css(\"float\",\"right\"),b.css(\"cssFloat\",\"right\"),b.css(\"styleFloat\",\"right\"),d()});var m=angular.element('<button type=\"button\" class=\"btn btn-default btn-sm btn-small\" unselectable=\"on\" tabindex=\"-1\"><i class=\"fa fa-align-justify\"></i></button>');m.on(\"click\",function(a){a.preventDefault(),b.css(\"float\",\"\"),b.css(\"cssFloat\",\"\"),b.css(\"styleFloat\",\"\"),d()}),f.append(k),f.append(m),f.append(l),e.append(f),f=angular.element('<div class=\"btn-group\">');var n=angular.element('<button type=\"button\" class=\"btn btn-default btn-sm btn-small\" unselectable=\"on\" tabindex=\"-1\"><i class=\"fa fa-trash-o\"></i></button>');n.on(\"click\",function(a){a.preventDefault(),b.remove(),d()}),f.append(n),e.append(f),c.showPopover(b),c.showResizeOverlay(b)};a(\"insertImage\",{iconclass:\"fa fa-picture-o\",tooltiptext:c.insertImage.tooltip,action:function(){var a;return a=b.prompt(c.insertImage.dialogPrompt,\"http://\"),a&&\"\"!==a&&\"http://\"!==a?this.$editor().wrapSelection(\"insertImage\",a,!0):void 0},onElementSelect:{element:\"img\",action:g}}),a(\"insertVideo\",{iconclass:\"fa fa-youtube-play\",tooltiptext:c.insertVideo.tooltip,action:function(){var a;if(a=b.prompt(c.insertVideo.dialogPrompt,\"https://\"),a&&\"\"!==a&&\"https://\"!==a){var d=a.match(/(\\?|&)v=[^&]*/);if(d&&d.length>0){var e=\"https://www.youtube.com/embed/\"+d[0].substring(3),f='<img class=\"ta-insert-video\" src=\"https://img.youtube.com/vi/'+d[0].substring(3)+'/hqdefault.jpg\" ta-insert-video=\"'+e+'\" contenteditable=\"false\" src=\"\" allowfullscreen=\"true\" frameborder=\"0\" />';return this.$editor().wrapSelection(\"insertHTML\",f,!0)}}},onElementSelect:{element:\"img\",onlyWithAttrs:[\"ta-insert-video\"],action:g}}),a(\"insertLink\",{tooltiptext:c.insertLink.tooltip,iconclass:\"fa fa-link\",action:function(){var a;return a=b.prompt(c.insertLink.dialogPrompt,\"http://\"),a&&\"\"!==a&&\"http://\"!==a?this.$editor().wrapSelection(\"createLink\",a,!0):void 0},activeState:function(a){return a?\"A\"===a[0].tagName:!1},onElementSelect:{element:\"a\",action:function(a,d,e){a.preventDefault(),e.displayElements.popover.css(\"width\",\"436px\");var f=e.displayElements.popoverContainer;f.empty(),f.css(\"line-height\",\"28px\");var g=angular.element('<a href=\"'+d.attr(\"href\")+'\" target=\"_blank\">'+d.attr(\"href\")+\"</a>\");g.css({display:\"inline-block\",\"max-width\":\"200px\",overflow:\"hidden\",\"text-overflow\":\"ellipsis\",\"white-space\":\"nowrap\",\"vertical-align\":\"middle\"}),f.append(g);var h=angular.element('<div class=\"btn-group pull-right\">'),i=angular.element('<button type=\"button\" class=\"btn btn-default btn-sm btn-small\" tabindex=\"-1\" unselectable=\"on\" title=\"'+c.editLink.reLinkButton.tooltip+'\"><i class=\"fa fa-edit icon-edit\"></i></button>');i.on(\"click\",function(a){a.preventDefault();var f=b.prompt(c.insertLink.dialogPrompt,d.attr(\"href\"));f&&\"\"!==f&&\"http://\"!==f&&(d.attr(\"href\",f),e.updateTaBindtaTextElement()),e.hidePopover()}),h.append(i);var j=angular.element('<button type=\"button\" class=\"btn btn-default btn-sm btn-small\" tabindex=\"-1\" unselectable=\"on\" title=\"'+c.editLink.unLinkButton.tooltip+'\"><i class=\"fa fa-unlink icon-unlink\"></i></button>');j.on(\"click\",function(a){a.preventDefault(),d.replaceWith(d.contents()),e.updateTaBindtaTextElement(),e.hidePopover()}),h.append(j);var k=angular.element('<button type=\"button\" class=\"btn btn-default btn-sm btn-small\" tabindex=\"-1\" unselectable=\"on\">'+c.editLink.targetToggle.buttontext+\"</button>\");\"_blank\"===d.attr(\"target\")&&k.addClass(\"active\"),k.on(\"click\",function(a){a.preventDefault(),d.attr(\"target\",\"_blank\"===d.attr(\"target\")?\"\":\"_blank\"),k.toggleClass(\"active\"),e.updateTaBindtaTextElement()}),h.append(k),f.append(h),e.showPopover(d)}}}),a(\"wordcount\",{display:'<div id=\"toolbarWC\" style=\"display:block; min-width:100px;\">Words: <span ng-bind=\"wordcount\"></span></div>',disabled:!0,wordcount:0,activeState:function(){var a=this.$editor().displayElements.text,b=a[0].innerHTML,c=b.replace(/(<[^>]*?>)/gi,\" \"),d=c.match(/\\S+/g),e=d&&d.length||0;return this.wordcount=e,this.$editor().wordcount=e,!1}}),a(\"charcount\",{display:'<div id=\"toolbarCC\" style=\"display:block; min-width:120px;\">Characters: <span ng-bind=\"charcount\"></span></div>',disabled:!0,charcount:0,activeState:function(){var a=this.$editor().displayElements.text,b=a[0].innerText||a[0].textContent,c=b.replace(/(\\r\\n|\\n|\\r)/gm,\"\").replace(/^\\s+/g,\" \").replace(/\\s+$/g,\" \").length;return this.charcount=c,this.$editor().charcount=c,!1}})}]),/*\n@license textAngular\nAuthor : Austin Anderson\nLicense : 2013 MIT\nVersion 1.3.11\n\nSee README.md or https://github.com/fraywing/textAngular/wiki for requirements and use.\n*/\nfunction(){\"use strict\";function a(a){try{return 0!==angular.element(a).length}catch(b){return!1}}function b(b,c){if(!b||\"\"===b||r.hasOwnProperty(b))throw\"textAngular Error: A unique name is required for a Tool Definition\";if(c.display&&(\"\"===c.display||!a(c.display))||!c.display&&!c.buttontext&&!c.iconclass)throw'textAngular Error: Tool Definition for \"'+b+'\" does not have a valid display/iconclass/buttontext value';r[b]=c}var c={ie:function(){for(var a,b=3,c=document.createElement(\"div\"),d=c.getElementsByTagName(\"i\");c.innerHTML=\"<!--[if gt IE \"+ ++b+\"]><i></i><![endif]-->\",d[0];);return b>4?b:a}(),webkit:/AppleWebKit\\/([\\d.]+)/i.test(navigator.userAgent)},d=!1;c.webkit&&(document.addEventListener(\"mousedown\",function(a){var b=a||window.event,c=b.target;if(d&&null!==c){for(var e=!1,f=c;null!==f&&\"html\"!==f.tagName.toLowerCase()&&!e;)e=\"true\"===f.contentEditable,f=f.parentNode;e||(document.getElementById(\"textAngular-editableFix-010203040506070809\").setSelectionRange(0,0),c.focus(),c.select&&c.select())}d=!1},!1),angular.element(document).ready(function(){angular.element(document.body).append(angular.element('<input id=\"textAngular-editableFix-010203040506070809\" class=\"ta-hidden-input\" unselectable=\"on\" tabIndex=\"-1\">'))}));var e=/^(address|article|aside|audio|blockquote|canvas|dd|div|dl|fieldset|figcaption|figure|footer|form|h1|h2|h3|h4|h5|h6|header|hgroup|hr|noscript|ol|output|p|pre|section|table|tfoot|ul|video)$/i,f=/^(ul|li|ol)$/i,g=/^(address|article|aside|audio|blockquote|canvas|dd|div|dl|fieldset|figcaption|figure|footer|form|h1|h2|h3|h4|h5|h6|header|hgroup|hr|noscript|ol|output|p|pre|section|table|tfoot|ul|video|li)$/i;String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\\s+|\\s+$/g,\"\")});var h,i,j,k,l,m;if(c.ie>8||void 0===c.ie){for(var n=document.styleSheets,o=0;o<n.length;o++)if((0===n[o].media.length||n[o].media.mediaText.match(/(all|screen)/gi))&&n[o].href&&n[o].href.match(/textangular\\.(min\\.|)css/gi)){h=n[o];break}h||(h=function(){var a=document.createElement(\"style\");return c.webkit&&a.appendChild(document.createTextNode(\"\")),document.getElementsByTagName(\"head\")[0].appendChild(a),a.sheet}()),i=function(a,b){return k(h,a,b)},k=function(a,b,c){var d,e;return a.cssRules?d=Math.max(a.cssRules.length-1,0):a.rules&&(d=Math.max(a.rules.length-1,0)),a.insertRule?a.insertRule(b+\"{\"+c+\"}\",d):a.addRule(b,c,d),h.rules?e=h.rules[d]:h.cssRules&&(e=h.cssRules[d]),e},m=function(a,b){var c,d;for(c=0;c<b.length;c++)if(b[c].cssText===a.cssText){d=c;break}return d},j=function(a){l(h,a)},l=function(a,b){var c=m(b,a.cssRules||a.rules);a.removeRule?a.removeRule(c):a.deleteRule(c)}}angular.module(\"textAngular.factories\",[]).factory(\"taBrowserTag\",[function(){return function(a){return a?\"\"===a?void 0===c.ie?\"div\":c.ie<=8?\"P\":\"p\":c.ie<=8?a.toUpperCase():a:c.ie<=8?\"P\":\"p\"}}]).factory(\"taApplyCustomRenderers\",[\"taCustomRenderers\",\"taDOM\",function(a,b){return function(c){var d=angular.element(\"<div></div>\");return d[0].innerHTML=c,angular.forEach(a,function(a){var c=[];a.selector&&\"\"!==a.selector?c=d.find(a.selector):a.customAttribute&&\"\"!==a.customAttribute&&(c=b.getByAttribute(d,a.customAttribute)),angular.forEach(c,function(b){b=angular.element(b),a.selector&&\"\"!==a.selector&&a.customAttribute&&\"\"!==a.customAttribute?void 0!==b.attr(a.customAttribute)&&a.renderLogic(b):a.renderLogic(b)})}),d[0].innerHTML}}]).factory(\"taFixChrome\",function(){var a=function(a){if(!a||!angular.isString(a)||a.length<=0)return a;for(var b,c,d,e=/<([^>\\/]+?)style=(\"([^\"]+)\"|'([^']+)')([^>]*)>/gi,f=\"\",g=0;b=e.exec(a);)c=b[3]||b[4],c&&c.match(/line-height: 1.428571429;|color: inherit; line-height: 1.1;/i)&&(c=c.replace(/( |)font-family: inherit;|( |)line-height: 1.428571429;|( |)line-height:1.1;|( |)color: inherit;/gi,\"\"),d=\"<\"+b[1].trim(),c.length>0&&(d+=\" style=\"+b[2].substring(0,1)+c+b[2].substring(0,1)),d+=b[5].trim()+\">\",f+=a.substring(g,b.index)+d,g=b.index+b[0].length);return f+=a.substring(g),g>0?f.replace(/<span\\s*>(.*?)<\\/span>(<br(\\/|)>|)/gi,\"$1\"):a};return a}).factory(\"taSanitize\",[\"$sanitize\",function(a){function b(a,b){for(var c,d=0,e=0,f=/<[^>]*>/gi;c=f.exec(a);)if(e=c.index,\"/\"===c[0].substr(1,1)){if(0===d)break;d--}else d++;return b+a.substring(0,e)+angular.element(b)[0].outerHTML.substring(b.length)+a.substring(e)}function c(a){if(!a||!angular.isString(a)||a.length<=0)return a;for(var d,f,g,h,i,k,l=/<([^>\\/]+?)style=(\"([^\"]+)\"|'([^']+)')([^>]*)>/gi,m=\"\",n=\"\",o=0;f=l.exec(a);){h=f[3]||f[4];var p=new RegExp(j,\"i\");if(angular.isString(h)&&p.test(h)){i=\"\";for(var q=new RegExp(j,\"ig\");g=q.exec(h);)for(d=0;d<e.length;d++)g[2*d+2]&&(i+=\"<\"+e[d].tag+\">\");k=c(a.substring(o,f.index)),n+=m.length>0?b(k,m):k,h=h.replace(new RegExp(j,\"ig\"),\"\"),n+=\"<\"+f[1].trim(),h.length>0&&(n+=' style=\"'+h+'\"'),n+=f[5]+\">\",o=f.index+f[0].length,m=i}}return n+=m.length>0?b(a.substring(o),m):a.substring(o)}function d(a){if(!a||!angular.isString(a)||a.length<=0)return a;for(var b,c=/<([^>\\/]+?)align=(\"([^\"]+)\"|'([^']+)')([^>]*)>/gi,d=\"\",e=0;b=c.exec(a);){d+=a.substring(e,b.index),e=b.index+b[0].length;var f=\"<\"+b[1]+b[5];/style=(\"([^\"]+)\"|'([^']+)')/gi.test(f)?f=f.replace(/style=(\"([^\"]+)\"|'([^']+)')/i,'style=\"$2$3 text-align:'+(b[3]||b[4])+';\"'):f+=' style=\"text-align:'+(b[3]||b[4])+';\"',f+=\">\",d+=f}return d+a.substring(e)}for(var e=[{property:\"font-weight\",values:[\"bold\"],tag:\"b\"},{property:\"font-style\",values:[\"italic\"],tag:\"i\"}],f=[],g=0;g<e.length;g++){for(var h=\"(\"+e[g].property+\":\\\\s*(\",i=0;i<e[g].values.length;i++)i>0&&(h+=\"|\"),h+=e[g].values[i];h+=\");)\",f.push(h)}var j=\"(\"+f.join(\"|\")+\")\";return function(b,e,f){if(!f)try{b=c(b)}catch(g){}b=d(b);var h;try{h=a(b),f&&(h=b)}catch(g){h=e||\"\"}var i,j=h.match(/(<pre[^>]*>.*?<\\/pre[^>]*>)/gi),k=h.replace(/(&#(9|10);)*/gi,\"\"),l=/<pre[^>]*>.*?<\\/pre[^>]*>/gi,m=0,n=0;for(h=\"\";null!==(i=l.exec(k))&&m<j.length;)h+=k.substring(n,i.index)+j[m],n=i.index+i[0].length,m++;return h+k.substring(n)}}]).factory(\"taToolExecuteAction\",[\"$q\",\"$log\",function(a,b){return function(c){void 0!==c&&(this.$editor=function(){return c});var d=a.defer(),e=d.promise,f=this.$editor();e[\"finally\"](function(){f.endAction.call(f)});var g;try{g=this.action(d,f.startAction())}catch(h){b.error(h)}(g||void 0===g)&&d.resolve()}}]),angular.module(\"textAngular.DOM\",[\"textAngular.factories\"]).factory(\"taExecCommand\",[\"taSelection\",\"taBrowserTag\",\"$document\",function(a,b,c){var d=function(b,c){var d,e,f=b.find(\"li\");for(e=f.length-1;e>=0;e--)d=angular.element(\"<\"+c+\">\"+f[e].innerHTML+\"</\"+c+\">\"),b.after(d);b.remove(),a.setSelectionToElementEnd(d[0])},g=function(b){/(<br(|\\/)>)$/i.test(b.innerHTML.trim())?a.setSelectionBeforeElement(angular.element(b).find(\"br\")[0]):a.setSelectionToElementEnd(b)},h=function(a,b){var c=angular.element(\"<\"+b+\">\"+a[0].innerHTML+\"</\"+b+\">\");a.after(c),a.remove(),g(c.find(\"li\")[0])},i=function(a,c,d){for(var e=\"\",f=0;f<a.length;f++)e+=\"<\"+b(\"li\")+\">\"+a[f].innerHTML+\"</\"+b(\"li\")+\">\";var h=angular.element(\"<\"+d+\">\"+e+\"</\"+d+\">\");c.after(h),c.remove(),g(h.find(\"li\")[0])};return function(g,j){return g=b(g),function(k,l,m){var n,o,p,q,r,s,t,u=angular.element(\"<\"+g+\">\");try{t=a.getSelectionElement()}catch(v){}var w=angular.element(t);if(void 0!==t){var x=t.tagName.toLowerCase();if(\"insertorderedlist\"===k.toLowerCase()||\"insertunorderedlist\"===k.toLowerCase()){var y=b(\"insertorderedlist\"===k.toLowerCase()?\"ol\":\"ul\");if(x===y)return d(w,g);if(\"li\"===x&&w.parent()[0].tagName.toLowerCase()===y&&1===w.parent().children().length)return d(w.parent(),g);if(\"li\"===x&&w.parent()[0].tagName.toLowerCase()!==y&&1===w.parent().children().length)return h(w.parent(),y);if(x.match(e)&&!w.hasClass(\"ta-bind\")){if(\"ol\"===x||\"ul\"===x)return h(w,y);var z=!1;return angular.forEach(w.children(),function(a){a.tagName.match(e)&&(z=!0)}),z?i(w.children(),w,y):i([angular.element(\"<div>\"+t.innerHTML+\"</div>\")[0]],w,y)}if(x.match(e)){if(q=a.getOnlySelectedElements(),0===q.length)o=angular.element(\"<\"+y+\"><li>\"+t.innerHTML+\"</li></\"+y+\">\"),w.html(\"\"),w.append(o);else{if(1===q.length&&(\"ol\"===q[0].tagName.toLowerCase()||\"ul\"===q[0].tagName.toLowerCase()))return q[0].tagName.toLowerCase()===y?d(angular.element(q[0]),g):h(angular.element(q[0]),y);p=\"\";var A=[];for(n=0;n<q.length;n++)if(3!==q[n].nodeType){var B=angular.element(q[n]);if(\"li\"===q[n].tagName.toLowerCase())continue;p+=\"ol\"===q[n].tagName.toLowerCase()||\"ul\"===q[n].tagName.toLowerCase()?B[0].innerHTML:\"span\"!==q[n].tagName.toLowerCase()||\"ol\"!==q[n].childNodes[0].tagName.toLowerCase()&&\"ul\"!==q[n].childNodes[0].tagName.toLowerCase()?\"<\"+b(\"li\")+\">\"+B[0].innerHTML+\"</\"+b(\"li\")+\">\":B[0].childNodes[0].innerHTML,A.unshift(B)}o=angular.element(\"<\"+y+\">\"+p+\"</\"+y+\">\"),A.pop().replaceWith(o),angular.forEach(A,function(a){a.remove()})}return void a.setSelectionToElementEnd(o[0])}}else{if(\"formatblock\"===k.toLowerCase()){for(s=m.toLowerCase().replace(/[<>]/gi,\"\"),\"default\"===s.trim()&&(s=g,m=\"<\"+g+\">\"),o=\"li\"===x?w.parent():w;!o[0].tagName||!o[0].tagName.match(e)&&!o.parent().attr(\"contenteditable\");)o=o.parent(),x=(o[0].tagName||\"\").toLowerCase();if(x===s){q=o.children();var C=!1;for(n=0;n<q.length;n++)C=C||q[n].tagName.match(e);C?(o.after(q),r=o.next(),o.remove(),o=r):(u.append(o[0].childNodes),o.after(u),o.remove(),o=u)}else if(o.parent()[0].tagName.toLowerCase()!==s||o.parent().hasClass(\"ta-bind\"))if(x.match(f))o.wrap(m);else{for(q=a.getOnlySelectedElements(),0===q.length&&(q=[o[0]]),n=0;n<q.length;n++)if(3===q[n].nodeType||!q[n].tagName.match(e))for(;3===q[n].nodeType||!q[n].tagName||!q[n].tagName.match(e);)q[n]=q[n].parentNode;if(angular.element(q[0]).hasClass(\"ta-bind\"))o=angular.element(m),o[0].innerHTML=q[0].innerHTML,q[0].innerHTML=o[0].outerHTML;else if(\"blockquote\"===s){for(p=\"\",n=0;n<q.length;n++)p+=q[n].outerHTML;for(o=angular.element(m),o[0].innerHTML=p,q[0].parentNode.insertBefore(o[0],q[0]),n=q.length-1;n>=0;n--)q[n].parentNode&&q[n].parentNode.removeChild(q[n])}else for(n=0;n<q.length;n++)o=angular.element(m),o[0].innerHTML=q[n].innerHTML,q[n].parentNode.insertBefore(o[0],q[n]),q[n].parentNode.removeChild(q[n])}else{var D=o.parent(),E=D.contents();for(n=0;n<E.length;n++)D.parent().hasClass(\"ta-bind\")&&3===E[n].nodeType&&(u=angular.element(\"<\"+g+\">\"),u[0].innerHTML=E[n].outerHTML,E[n]=u[0]),D.parent()[0].insertBefore(E[n],D[0]);D.remove()}return void a.setSelectionToElementEnd(o[0])}if(\"createlink\"===k.toLowerCase()){var F=a.getSelection();if(F.collapsed)return void a.insertHtml('<a href=\"'+m+'\">'+m+\"</a>\",j)}else if(\"inserthtml\"===k.toLowerCase())return void a.insertHtml(m,j)}}try{c[0].execCommand(k,l,m)}catch(v){}}}}]).service(\"taSelection\",[\"$window\",\"$document\",\"taDOM\",function(a,b,c){var d=b[0],f=a.rangy,h=function(a,b){return a.tagName&&a.tagName.match(/^br$/i)&&0===b&&!a.previousSibling?{element:a.parentNode,offset:0}:{element:a,offset:b}},i={getSelection:function(){var a=f.getSelection().getRangeAt(0),b=a.commonAncestorContainer,c={start:h(a.startContainer,a.startOffset),end:h(a.endContainer,a.endOffset),collapsed:a.collapsed};return b=3===b.nodeType?b.parentNode:b,c.container=b.parentNode===c.start.element||b.parentNode===c.end.element?b.parentNode:b,c},getOnlySelectedElements:function(){var a=f.getSelection().getRangeAt(0),b=a.commonAncestorContainer;return b=3===b.nodeType?b.parentNode:b,a.getNodes([1],function(a){return a.parentNode===b})},getSelectionElement:function(){return i.getSelection().container},setSelection:function(a,b,c){var d=f.createRange();d.setStart(a,b),d.setEnd(a,c),f.getSelection().setSingleRange(d)},setSelectionBeforeElement:function(a){var b=f.createRange();b.selectNode(a),b.collapse(!0),f.getSelection().setSingleRange(b)},setSelectionAfterElement:function(a){var b=f.createRange();b.selectNode(a),b.collapse(!1),f.getSelection().setSingleRange(b)},setSelectionToElementStart:function(a){var b=f.createRange();b.selectNodeContents(a),b.collapse(!0),f.getSelection().setSingleRange(b)},setSelectionToElementEnd:function(a){var b=f.createRange();b.selectNodeContents(a),b.collapse(!1),a.childNodes&&a.childNodes[a.childNodes.length-1]&&\"br\"===a.childNodes[a.childNodes.length-1].nodeName&&(b.startOffset=b.endOffset=b.startOffset-1),f.getSelection().setSingleRange(b)},insertHtml:function(a,b){var h,j,k,l,m,n,o,p=angular.element(\"<div>\"+a+\"</div>\"),q=f.getSelection().getRangeAt(0),r=d.createDocumentFragment(),s=p[0].childNodes,t=!0;if(s.length>0){for(l=[],k=0;k<s.length;k++)\"p\"===s[k].nodeName.toLowerCase()&&\"\"===s[k].innerHTML.trim()||3===s[k].nodeType&&\"\"===s[k].nodeValue.trim()||(t=t&&!e.test(s[k].nodeName),l.push(s[k]));for(var u=0;u<l.length;u++)n=r.appendChild(l[u]);!t&&q.collapsed&&/^(|<br(|\\/)>)$/i.test(q.startContainer.innerHTML)&&q.selectNode(q.startContainer)}else t=!0,n=r=d.createTextNode(a);if(t)q.deleteContents();else if(q.collapsed&&q.startContainer!==b)if(q.startContainer.innerHTML&&q.startContainer.innerHTML.match(/^<[^>]*>$/i))h=q.startContainer,1===q.startOffset?(q.setStartAfter(h),q.setEndAfter(h)):(q.setStartBefore(h),q.setEndBefore(h));else{if(3===q.startContainer.nodeType&&q.startContainer.parentNode!==b)for(h=q.startContainer.parentNode,j=h.cloneNode(),c.splitNodes(h.childNodes,h,j,q.startContainer,q.startOffset);!g.test(h.nodeName);){angular.element(h).after(j),h=h.parentNode;var v=j;j=h.cloneNode(),c.splitNodes(h.childNodes,h,j,v)}else h=q.startContainer,j=h.cloneNode(),c.splitNodes(h.childNodes,h,j,void 0,void 0,q.startOffset);if(angular.element(h).after(j),q.setStartAfter(h),q.setEndAfter(h),/^(|<br(|\\/)>)$/i.test(h.innerHTML.trim())&&(q.setStartBefore(h),q.setEndBefore(h),angular.element(h).remove()),/^(|<br(|\\/)>)$/i.test(j.innerHTML.trim())&&angular.element(j).remove(),\"li\"===h.nodeName.toLowerCase()){for(o=d.createDocumentFragment(),m=0;m<r.childNodes.length;m++)p=angular.element(\"<li>\"),c.transferChildNodes(r.childNodes[m],p[0]),c.transferNodeAttributes(r.childNodes[m],p[0]),o.appendChild(p[0]);r=o,n&&(n=r.childNodes[r.childNodes.length-1],n=n.childNodes[n.childNodes.length-1])}}else q.deleteContents();q.insertNode(r),n&&i.setSelectionToElementEnd(n)}};return i}]).service(\"taDOM\",function(){var a={getByAttribute:function(b,c){var d=[],e=b.children();return e.length&&angular.forEach(e,function(b){d=d.concat(a.getByAttribute(angular.element(b),c))}),void 0!==b.attr(c)&&d.push(b),d},transferChildNodes:function(a,b){for(b.innerHTML=\"\";a.childNodes.length>0;)b.appendChild(a.childNodes[0]);return b},splitNodes:function(b,c,d,e,f,g){if(!e&&isNaN(g))throw new Error(\"taDOM.splitNodes requires a splitNode or splitIndex\");for(var h=document.createDocumentFragment(),i=document.createDocumentFragment(),j=0;b.length>0&&(isNaN(g)||g!==j)&&b[0]!==e;)h.appendChild(b[0]),j++;for(!isNaN(f)&&f>=0&&b[0]&&(h.appendChild(document.createTextNode(b[0].nodeValue.substring(0,f))),b[0].nodeValue=b[0].nodeValue.substring(f));b.length>0;)i.appendChild(b[0]);a.transferChildNodes(h,c),a.transferChildNodes(i,d)},transferNodeAttributes:function(a,b){for(var c=0;c<a.attributes.length;c++)b.setAttribute(a.attributes[c].name,a.attributes[c].value);return b}};return a}),angular.module(\"textAngular.validators\",[]).directive(\"taMaxText\",function(){return{restrict:\"A\",require:\"ngModel\",link:function(a,b,c,d){function e(a){var b=angular.element(\"<div/>\");b.html(a);var c=b.text().length;return f>=c?(d.$setValidity(\"taMaxText\",!0),a):void d.$setValidity(\"taMaxText\",!1)}var f=parseInt(a.$eval(c.taMaxText));if(isNaN(f))throw\"Max text must be an integer\";c.$observe(\"taMaxText\",function(a){if(f=parseInt(a),isNaN(f))throw\"Max text must be an integer\";d.$dirty&&d.$setViewValue(d.$viewValue)}),d.$parsers.unshift(e)}}}).directive(\"taMinText\",function(){return{restrict:\"A\",require:\"ngModel\",link:function(a,b,c,d){function e(a){var b=angular.element(\"<div/>\");b.html(a);var c=b.text().length;return!c||c>=f?(d.$setValidity(\"taMinText\",!0),a):void d.$setValidity(\"taMinText\",!1)}var f=parseInt(a.$eval(c.taMinText));if(isNaN(f))throw\"Min text must be an integer\";c.$observe(\"taMinText\",function(a){if(f=parseInt(a),isNaN(f))throw\"Min text must be an integer\";d.$dirty&&d.$setViewValue(d.$viewValue)}),d.$parsers.unshift(e)}}}),angular.module(\"textAngular.taBind\",[\"textAngular.factories\",\"textAngular.DOM\"]).service(\"_taBlankTest\",[function(){var a=/<(a|abbr|acronym|bdi|bdo|big|cite|code|del|dfn|img|ins|kbd|label|map|mark|q|ruby|rp|rt|s|samp|time|tt|var)[^>]*(>|$)/i;return function(b){return function(c){if(!c)return!0;var d,e=/(^[^<]|>)[^<]/i.exec(c);return e?d=e.index:(c=c.toString().replace(/=\"[^\"]*\"/i,\"\").replace(/=\"[^\"]*\"/i,\"\").replace(/=\"[^\"]*\"/i,\"\").replace(/=\"[^\"]*\"/i,\"\"),d=c.indexOf(\">\")),c=c.trim().substring(d,d+100),/^[^<>]+$/i.test(c)?!1:0===c.length||c===b||/^>(\\s|&nbsp;)*<\\/[^>]+>$/gi.test(c)?!0:/>\\s*[^\\s<]/i.test(c)||a.test(c)?!1:!0}}}]).directive(\"taBind\",[\"taSanitize\",\"$timeout\",\"$window\",\"$document\",\"taFixChrome\",\"taBrowserTag\",\"taSelection\",\"taSelectableElements\",\"taApplyCustomRenderers\",\"taOptions\",\"_taBlankTest\",\"$parse\",\"taDOM\",function(a,b,e,f,h,k,l,m,n,o,q,r,s){return{require:\"ngModel\",link:function(k,t,u,v){var w,x,y,z,A=void 0!==t.attr(\"contenteditable\")&&t.attr(\"contenteditable\"),B=A||\"textarea\"===t[0].tagName.toLowerCase()||\"input\"===t[0].tagName.toLowerCase(),C=!1,D=!1,E=!1,F=u.taUnsafeSanitizer||o.disableSanitizer,G=/^(9|19|20|27|33|34|35|36|37|38|39|40|45|112|113|114|115|116|117|118|119|120|121|122|123|144|145)$/i,H=/^(8|13|32|46|59|61|107|109|186|187|188|189|190|191|192|219|220|221|222)$/i;void 0===u.taDefaultWrap&&(u.taDefaultWrap=\"p\"),\"\"===u.taDefaultWrap?(y=\"\",z=void 0===c.ie?\"<div><br></div>\":c.ie>=11?\"<p><br></p>\":c.ie<=8?\"<P>&nbsp;</P>\":\"<p>&nbsp;</p>\"):(y=void 0===c.ie||c.ie>=11?\"<\"+u.taDefaultWrap+\"><br></\"+u.taDefaultWrap+\">\":c.ie<=8?\"<\"+u.taDefaultWrap.toUpperCase()+\"></\"+u.taDefaultWrap.toUpperCase()+\">\":\"<\"+u.taDefaultWrap+\"></\"+u.taDefaultWrap+\">\",z=void 0===c.ie||c.ie>=11?\"<\"+u.taDefaultWrap+\"><br></\"+u.taDefaultWrap+\">\":c.ie<=8?\"<\"+u.taDefaultWrap.toUpperCase()+\">&nbsp;</\"+u.taDefaultWrap.toUpperCase()+\">\":\"<\"+u.taDefaultWrap+\">&nbsp;</\"+u.taDefaultWrap+\">\");var I=q(z),J=function(a){if(I(a))return a;var b=angular.element(\"<div>\"+a+\"</div>\");return 0===b.children().length&&(a=\"<\"+u.taDefaultWrap+\">\"+a+\"</\"+u.taDefaultWrap+\">\"),a};u.taPaste&&(x=r(u.taPaste)),t.addClass(\"ta-bind\");var K;k[\"$undoManager\"+(u.id||\"\")]=v.$undoManager={_stack:[],_index:0,_max:1e3,push:function(a){return\"undefined\"==typeof a||null===a||\"undefined\"!=typeof this.current()&&null!==this.current()&&a===this.current()?a:(this._index<this._stack.length-1&&(this._stack=this._stack.slice(0,this._index+1)),this._stack.push(a),K&&b.cancel(K),this._stack.length>this._max&&this._stack.shift(),this._index=this._stack.length-1,a)},undo:function(){return this.setToIndex(this._index-1)},redo:function(){return this.setToIndex(this._index+1)},setToIndex:function(a){return 0>a||a>this._stack.length-1?void 0:(this._index=a,this.current())},current:function(){return this._stack[this._index]}};var L=k[\"$undoTaBind\"+(u.id||\"\")]=function(){if(!C&&A){var a=v.$undoManager.undo();\"undefined\"!=typeof a&&null!==a&&(Z(a),O(a,!1),l.setSelectionToElementEnd(t[0].childNodes.length?t[0].childNodes[t[0].childNodes.length-1]:t[0]))}},M=k[\"$redoTaBind\"+(u.id||\"\")]=function(){if(!C&&A){var a=v.$undoManager.redo();\"undefined\"!=typeof a&&null!==a&&(Z(a),O(a,!1),l.setSelectionToElementEnd(t[0].childNodes.length?t[0].childNodes[t[0].childNodes.length-1]:t[0]))}},N=function(){if(A)return t[0].innerHTML;if(B)return t.val();throw\"textAngular Error: attempting to update non-editable taBind\"},O=function(a,b){E=!0,(\"undefined\"==typeof b||null===b)&&(b=!0&&A),(\"undefined\"==typeof a||null===a)&&(a=N()),I(a)?(\"\"!==v.$viewValue&&v.$setViewValue(\"\"),b&&\"\"!==v.$undoManager.current()&&v.$undoManager.push(\"\")):(Y(),v.$viewValue!==a&&(v.$setViewValue(a),b&&v.$undoManager.push(a)))};if(k[\"updateTaBind\"+(u.id||\"\")]=function(){C||O()},B)if(k.events={},A){var P=!1,Q=function(c){if(c&&c.trim().length){if(c.match(/class=[\"']*Mso(Normal|List)/i)){var d=c.match(/<!--StartFragment-->([\\s\\S]*?)<!--EndFragment-->/i);d=d?d[1]:c,d=d.replace(/<o:p>[\\s\\S]*?<\\/o:p>/gi,\"\").replace(/class=([\"']|)MsoNormal([\"']|)/gi,\"\");var e=angular.element(\"<div>\"+d+\"</div>\"),f=angular.element(\"<div></div>\"),g={element:null,lastIndent:[],lastLi:null,isUl:!1};g.lastIndent.peek=function(){var a=this.length;return a>0?this[a-1]:void 0};for(var h=function(a){g.isUl=a,g.element=angular.element(a?\"<ul>\":\"<ol>\"),g.lastIndent=[],g.lastIndent.peek=function(){var a=this.length;return a>0?this[a-1]:void 0},g.lastLevelMatch=null},i=0;i<=e[0].childNodes.length;i++)if(e[0].childNodes[i]&&\"#text\"!==e[0].childNodes[i].nodeName&&\"p\"===e[0].childNodes[i].tagName.toLowerCase()){var j=angular.element(e[0].childNodes[i]),m=(j.attr(\"class\")||\"\").match(/MsoList(Bullet|Number|Paragraph)(CxSp(First|Middle|Last)|)/i);if(m){if(j[0].childNodes.length<2||j[0].childNodes[1].childNodes.length<1)continue;var n=\"bullet\"===m[1].toLowerCase()||\"number\"!==m[1].toLowerCase()&&!(/^[^0-9a-z<]*[0-9a-z]+[^0-9a-z<>]</i.test(j[0].childNodes[1].innerHTML)||/^[^0-9a-z<]*[0-9a-z]+[^0-9a-z<>]</i.test(j[0].childNodes[1].childNodes[0].innerHTML)),o=(j.attr(\"style\")||\"\").match(/margin-left:([\\-\\.0-9]*)/i),p=parseFloat(o?o[1]:0),q=(j.attr(\"style\")||\"\").match(/mso-list:l([0-9]+) level([0-9]+) lfo[0-9+]($|;)/i);if(q&&q[2]&&(p=parseInt(q[2])),q&&(!g.lastLevelMatch||q[1]!==g.lastLevelMatch[1])||!m[3]||\"first\"===m[3].toLowerCase()||null===g.lastIndent.peek()||g.isUl!==n&&g.lastIndent.peek()===p)h(n),f.append(g.element);else if(null!=g.lastIndent.peek()&&g.lastIndent.peek()<p)g.element=angular.element(n?\"<ul>\":\"<ol>\"),g.lastLi.append(g.element);else if(null!=g.lastIndent.peek()&&g.lastIndent.peek()>p){for(;null!=g.lastIndent.peek()&&g.lastIndent.peek()>p;)if(\"li\"!==g.element.parent()[0].tagName.toLowerCase()){if(!/[uo]l/i.test(g.element.parent()[0].tagName.toLowerCase()))break;g.element=g.element.parent(),g.lastIndent.pop()}else g.element=g.element.parent();g.isUl=\"ul\"===g.element[0].tagName.toLowerCase(),n!==g.isUl&&(h(n),f.append(g.element))}g.lastLevelMatch=q,p!==g.lastIndent.peek()&&g.lastIndent.push(p),g.lastLi=angular.element(\"<li>\"),g.element.append(g.lastLi),g.lastLi.html(j.html().replace(/<!(--|)\\[if !supportLists\\](--|)>[\\s\\S]*?<!(--|)\\[endif\\](--|)>/gi,\"\")),j.remove()}else h(!1),f.append(j)}var r=function(a){a=angular.element(a);for(var b=a[0].childNodes.length-1;b>=0;b--)a.after(a[0].childNodes[b]);a.remove()};angular.forEach(f.find(\"span\"),function(a){a.removeAttribute(\"lang\"),a.attributes.length<=0&&r(a)}),angular.forEach(f.find(\"font\"),r),c=f.html()}else{if(c=c.replace(/<(|\\/)meta[^>]*?>/gi,\"\"),c.match(/<[^>]*?(ta-bind)[^>]*?>/)){if(c.match(/<[^>]*?(text-angular)[^>]*?>/)){var u=angular.element(\"<div>\"+c+\"</div>\");u.find(\"textarea\").remove();for(var w=s.getByAttribute(u,\"ta-bind\"),y=0;y<w.length;y++){for(var z=w[y][0].parentNode.parentNode,A=0;A<w[y][0].childNodes.length;A++)z.parentNode.insertBefore(w[y][0].childNodes[A],z);z.parentNode.removeChild(z)}c=u.html().replace('<br class=\"Apple-interchange-newline\">',\"\")}}else c.match(/^<span/)&&(c=c.replace(/<(|\\/)span[^>]*?>/gi,\"\"));c=c.replace(/<br class=\"Apple-interchange-newline\"[^>]*?>/gi,\"\").replace(/<span class=\"Apple-converted-space\">( |&nbsp;)<\\/span>/gi,\"&nbsp;\")}c=a(c,\"\",F),x&&(c=x(k,{$html:c})||c),l.insertHtml(c,t[0]),b(function(){v.$setViewValue(N()),P=!1,t.removeClass(\"processing-paste\")},0)}else P=!1,t.removeClass(\"processing-paste\")};if(t.on(\"paste\",k.events.paste=function(a,c){if(c&&angular.extend(a,c),C||P)return a.stopPropagation(),a.preventDefault(),!1;P=!0,t.addClass(\"processing-paste\");var d,g=(a.originalEvent||a).clipboardData;if(g&&g.getData&&g.types.length>0){for(var h=\"\",i=0;i<g.types.length;i++)h+=\" \"+g.types[i];return/text\\/html/i.test(h)?d=g.getData(\"text/html\"):/text\\/plain/i.test(h)&&(d=g.getData(\"text/plain\")),Q(d),a.stopPropagation(),a.preventDefault(),!1}var j=e.rangy.saveSelection(),k=angular.element('<div class=\"ta-hidden-input\" contenteditable=\"true\"></div>');f.find(\"body\").append(k),k[0].focus(),b(function(){e.rangy.restoreSelection(j),Q(k[0].innerHTML),t[0].focus(),k.remove()},0)}),t.on(\"cut\",k.events.cut=function(a){C?a.preventDefault():b(function(){v.$setViewValue(N())},0)}),t.on(\"keydown\",k.events.keydown=function(a,b){if(b&&angular.extend(a,b),!C)if(!a.altKey&&a.metaKey||a.ctrlKey)90!==a.keyCode||a.shiftKey?(90===a.keyCode&&a.shiftKey||89===a.keyCode&&!a.shiftKey)&&(M(),a.preventDefault()):(L(),a.preventDefault());else if(13===a.keyCode&&!a.shiftKey){var c,d=l.getSelectionElement();if(!d.tagName.match(g))return;var e=angular.element(y);if(/^<br(|\\/)>$/i.test(d.innerHTML.trim())&&\"blockquote\"===d.parentNode.tagName.toLowerCase()&&!d.nextSibling){c=angular.element(d);var f=c.parent();f.after(e),c.remove(),0===f.children().length&&f.remove(),l.setSelectionToElementStart(e[0]),a.preventDefault()}else/^<[^>]+><br(|\\/)><\\/[^>]+>$/i.test(d.innerHTML.trim())&&\"blockquote\"===d.tagName.toLowerCase()&&(c=angular.element(d),c.after(e),c.remove(),l.setSelectionToElementStart(e[0]),a.preventDefault())}}),t.on(\"keyup\",k.events.keyup=function(a,c){if(c&&angular.extend(a,c),9===a.keyCode){var d=l.getSelection();return void(d.start.element===t[0]&&t.children().length&&l.setSelectionToElementStart(t.children()[0]))}if(K&&b.cancel(K),!C&&!G.test(a.keyCode)){if(\"\"!==y&&13===a.keyCode&&!a.shiftKey){for(var f=l.getSelectionElement();!f.tagName.match(g)&&f!==t[0];)f=f.parentNode;if(f.tagName.toLowerCase()!==u.taDefaultWrap&&\"li\"!==f.tagName.toLowerCase()&&(\"\"===f.innerHTML.trim()||\"<br>\"===f.innerHTML.trim())){var h=angular.element(y);angular.element(f).replaceWith(h),l.setSelectionToElementStart(h[0])}}var i=N();if(\"\"!==y&&\"\"===i.trim())Z(y),l.setSelectionToElementStart(t.children()[0]);else if(\"<\"!==i.substring(0,1)&&\"\"!==u.taDefaultWrap){var j=e.rangy.saveSelection();i=N(),i=\"<\"+u.taDefaultWrap+\">\"+i+\"</\"+u.taDefaultWrap+\">\",Z(i),e.rangy.restoreSelection(j)}var k=w!==a.keyCode&&H.test(a.keyCode);O(i,k),k||(K=b(function(){v.$undoManager.push(i)},250)),w=a.keyCode}}),t.on(\"blur\",k.events.blur=function(){D=!1,C||O(),E=!0,v.$render()}),u.placeholder&&(c.ie>8||void 0===c.ie)){var R;if(!u.id)throw\"textAngular Error: An unique ID is required for placeholders to work\";R=i(\"#\"+u.id+\".placeholder-text:before\",'content: \"'+u.placeholder+'\"'),k.$on(\"$destroy\",function(){j(R)})}t.on(\"focus\",k.events.focus=function(){D=!0,t.removeClass(\"placeholder-text\")}),t.on(\"mouseup\",k.events.mouseup=function(){var a=l.getSelection();a.start.element===t[0]&&t.children().length&&l.setSelectionToElementStart(t.children()[0])}),t.on(\"mousedown\",k.events.mousedown=function(a,b){b&&angular.extend(a,b),a.stopPropagation()})}else{t.on(\"change blur\",k.events.change=k.events.blur=function(){C||v.$setViewValue(N())}),t.on(\"keydown\",k.events.keydown=function(a,b){if(b&&angular.extend(a,b),9===a.keyCode){var c=this.selectionStart,d=this.selectionEnd,e=t.val();if(a.shiftKey){var f=e.lastIndexOf(\"\\n\",c),g=e.lastIndexOf(\"\t\",c);-1!==g&&g>=f&&(t.val(e.substring(0,g)+e.substring(g+1)),this.selectionStart=this.selectionEnd=c-1)}else t.val(e.substring(0,c)+\"\t\"+e.substring(d)),this.selectionStart=this.selectionEnd=c+1;a.preventDefault()}});var S=function(a,b){for(var c=\"\",d=0;b>d;d++)c+=a;return c},T=function(a,b){var c=\"\",d=a.childNodes;b++,c+=S(\"\t\",b-1)+a.outerHTML.substring(0,a.outerHTML.indexOf(\"<li\"));for(var e=0;e<d.length;e++)d[e].outerHTML&&(c+=\"ul\"===d[e].nodeName.toLowerCase()||\"ol\"===d[e].nodeName.toLowerCase()?\"\\n\"+T(d[e],b):\"\\n\"+S(\"\t\",b)+d[e].outerHTML);return c+=\"\\n\"+S(\"\t\",b-1)+a.outerHTML.substring(a.outerHTML.lastIndexOf(\"<\"))};v.$formatters.unshift(J),v.$formatters.unshift(function(a){var b=angular.element(\"<div>\"+a+\"</div>\")[0].childNodes;if(b.length>0){a=\"\";for(var c=0;c<b.length;c++)b[c].outerHTML&&(a.length>0&&(a+=\"\\n\"),a+=\"ul\"===b[c].nodeName.toLowerCase()||\"ol\"===b[c].nodeName.toLowerCase()?\"\"+T(b[c],0):\"\"+b[c].outerHTML)}return a})}var U=function(b){return v.$oldViewValue=a(h(b),v.$oldViewValue,F)},V=function(a){return u.required&&v.$setValidity(\"required\",!I(a)),a};v.$parsers.push(U),v.$parsers.unshift(V),v.$formatters.push(U),v.$formatters.unshift(J),v.$formatters.unshift(V),v.$formatters.unshift(function(a){return v.$undoManager.push(a||\"\")});var W=function(a){return k.$emit(\"ta-element-select\",this),a.preventDefault(),!1},X=function(a,c){if(c&&angular.extend(a,c),!p&&!C){p=!0;var d;d=a.originalEvent?a.originalEvent.dataTransfer:a.dataTransfer,k.$emit(\"ta-drop-event\",this,a,d),b(function(){p=!1,O()},100)}},Y=k[\"reApplyOnSelectorHandlers\"+(u.id||\"\")]=function(){C||angular.forEach(m,function(a){t.find(a).off(\"click\",W).on(\"click\",W)})},Z=function(a){t[0].innerHTML=a};v.$render=function(){var a=v.$viewValue||\"\";E||(A&&D&&(t.removeClass(\"placeholder-text\"),t[0].blur(),b(function(){t[0].focus(),l.setSelectionToElementEnd(t.children()[t.children().length-1])},1)),A?(Z(u.placeholder?\"\"===a?y:a:\"\"===a?y:a),C?t.off(\"drop\",X):(Y(),t.on(\"drop\",X))):\"textarea\"!==t[0].tagName.toLowerCase()&&\"input\"!==t[0].tagName.toLowerCase()?Z(n(a)):t.val(a)),A&&u.placeholder&&(\"\"===a?D?t.removeClass(\"placeholder-text\"):t.addClass(\"placeholder-text\"):t.removeClass(\"placeholder-text\")),E=!1},u.taReadonly&&(C=k.$eval(u.taReadonly),C?(t.addClass(\"ta-readonly\"),(\"textarea\"===t[0].tagName.toLowerCase()||\"input\"===t[0].tagName.toLowerCase())&&t.attr(\"disabled\",\"disabled\"),void 0!==t.attr(\"contenteditable\")&&t.attr(\"contenteditable\")&&t.removeAttr(\"contenteditable\")):(t.removeClass(\"ta-readonly\"),\"textarea\"===t[0].tagName.toLowerCase()||\"input\"===t[0].tagName.toLowerCase()?t.removeAttr(\"disabled\"):A&&t.attr(\"contenteditable\",\"true\")),k.$watch(u.taReadonly,function(a,b){b!==a&&(a?(t.addClass(\"ta-readonly\"),(\"textarea\"===t[0].tagName.toLowerCase()||\"input\"===t[0].tagName.toLowerCase())&&t.attr(\"disabled\",\"disabled\"),void 0!==t.attr(\"contenteditable\")&&t.attr(\"contenteditable\")&&t.removeAttr(\"contenteditable\"),angular.forEach(m,function(a){t.find(a).on(\"click\",W)}),t.off(\"drop\",X)):(t.removeClass(\"ta-readonly\"),\"textarea\"===t[0].tagName.toLowerCase()||\"input\"===t[0].tagName.toLowerCase()?t.removeAttr(\"disabled\"):A&&t.attr(\"contenteditable\",\"true\"),angular.forEach(m,function(a){t.find(a).off(\"click\",W)}),t.on(\"drop\",X)),C=a)})),A&&!C&&(angular.forEach(m,function(a){t.find(a).on(\"click\",W)}),t.on(\"drop\",X),t.on(\"blur\",function(){c.webkit&&(d=!0)}))}}}]);var p=!1,q=angular.module(\"textAngular\",[\"ngSanitize\",\"textAngularSetup\",\"textAngular.factories\",\"textAngular.DOM\",\"textAngular.validators\",\"textAngular.taBind\"]),r={};q.constant(\"taRegisterTool\",b),q.value(\"taTools\",r),q.config([function(){angular.forEach(r,function(a,b){delete r[b]})}]),q.run([function(){if(!window.rangy)throw\"rangy-core.js and rangy-selectionsaverestore.js are required for textAngular to work correctly, rangy-core is not yet loaded.\";if(window.rangy.init(),!window.rangy.saveSelection)throw\"rangy-selectionsaverestore.js is required for textAngular to work correctly.\"}]),q.directive(\"textAngular\",[\"$compile\",\"$timeout\",\"taOptions\",\"taSelection\",\"taExecCommand\",\"textAngularManager\",\"$window\",\"$document\",\"$animate\",\"$log\",\"$q\",\"$parse\",function(a,b,c,d,e,f,g,h,i,j,k,l){return{require:\"?ngModel\",scope:{},restrict:\"EA\",link:function(m,n,o,p){var q,r,s,t,u,v,w,x,y,z,A,B=o.serial?o.serial:Math.floor(1e16*Math.random());m._name=o.name?o.name:\"textAngularEditor\"+B;var C=function(a,c,d){b(function(){var b=function(){a.off(c,b),d.apply(this,arguments)};a.on(c,b)},100)};y=e(o.taDefaultWrap),angular.extend(m,angular.copy(c),{wrapSelection:function(a,b,c){\"undo\"===a.toLowerCase()?m[\"$undoTaBindtaTextElement\"+B]():\"redo\"===a.toLowerCase()?m[\"$redoTaBindtaTextElement\"+B]():(y(a,!1,b),c&&m[\"reApplyOnSelectorHandlerstaTextElement\"+B](),m.displayElements.text[0].focus())},showHtml:m.$eval(o.taShowHtml)||!1}),o.taFocussedClass&&(m.classes.focussed=o.taFocussedClass),o.taTextEditorClass&&(m.classes.textEditor=o.taTextEditorClass),o.taHtmlEditorClass&&(m.classes.htmlEditor=o.taHtmlEditorClass),o.taTextEditorSetup&&(m.setup.textEditorSetup=m.$parent.$eval(o.taTextEditorSetup)),o.taHtmlEditorSetup&&(m.setup.htmlEditorSetup=m.$parent.$eval(o.taHtmlEditorSetup)),m.fileDropHandler=o.taFileDrop?m.$parent.$eval(o.taFileDrop):m.defaultFileDropHandler,w=n[0].innerHTML,n[0].innerHTML=\"\",m.displayElements={forminput:angular.element(\"<input type='hidden' tabindex='-1' style='display: none;'>\"),html:angular.element(\"<textarea></textarea>\"),text:angular.element(\"<div></div>\"),scrollWindow:angular.element(\"<div class='ta-scroll-window'></div>\"),popover:angular.element('<div class=\"popover fade bottom\" style=\"max-width: none; width: 305px;\"></div>'),popoverArrow:angular.element('<div class=\"arrow\"></div>'),popoverContainer:angular.element('<div class=\"popover-content\"></div>'),resize:{overlay:angular.element('<div class=\"ta-resizer-handle-overlay\"></div>'),background:angular.element('<div class=\"ta-resizer-handle-background\"></div>'),anchors:[angular.element('<div class=\"ta-resizer-handle-corner ta-resizer-handle-corner-tl\"></div>'),angular.element('<div class=\"ta-resizer-handle-corner ta-resizer-handle-corner-tr\"></div>'),angular.element('<div class=\"ta-resizer-handle-corner ta-resizer-handle-corner-bl\"></div>'),angular.element('<div class=\"ta-resizer-handle-corner ta-resizer-handle-corner-br\"></div>')],info:angular.element('<div class=\"ta-resizer-handle-info\"></div>')}},m.displayElements.popover.append(m.displayElements.popoverArrow),m.displayElements.popover.append(m.displayElements.popoverContainer),m.displayElements.scrollWindow.append(m.displayElements.popover),m.displayElements.popover.on(\"mousedown\",function(a,b){return b&&angular.extend(a,b),a.preventDefault(),!1\n}),m.showPopover=function(a){m.displayElements.popover.css(\"display\",\"block\"),m.reflowPopover(a),i.addClass(m.displayElements.popover,\"in\"),C(h.find(\"body\"),\"click keyup\",function(){m.hidePopover()})},m.reflowPopover=function(a){m.displayElements.text[0].offsetHeight-51>a[0].offsetTop?(m.displayElements.popover.css(\"top\",a[0].offsetTop+a[0].offsetHeight+m.displayElements.scrollWindow[0].scrollTop+\"px\"),m.displayElements.popover.removeClass(\"top\").addClass(\"bottom\")):(m.displayElements.popover.css(\"top\",a[0].offsetTop-54+m.displayElements.scrollWindow[0].scrollTop+\"px\"),m.displayElements.popover.removeClass(\"bottom\").addClass(\"top\"));var b=m.displayElements.text[0].offsetWidth-m.displayElements.popover[0].offsetWidth,c=a[0].offsetLeft+a[0].offsetWidth/2-m.displayElements.popover[0].offsetWidth/2;m.displayElements.popover.css(\"left\",Math.max(0,Math.min(b,c))+\"px\"),m.displayElements.popoverArrow.css(\"margin-left\",Math.min(c,Math.max(0,c-b))-11+\"px\")},m.hidePopover=function(){var a=function(){m.displayElements.popover.css(\"display\",\"\"),m.displayElements.popoverContainer.attr(\"style\",\"\"),m.displayElements.popoverContainer.attr(\"class\",\"popover-content\")};k.when(i.removeClass(m.displayElements.popover,\"in\",a)).then(a)},m.displayElements.resize.overlay.append(m.displayElements.resize.background),angular.forEach(m.displayElements.resize.anchors,function(a){m.displayElements.resize.overlay.append(a)}),m.displayElements.resize.overlay.append(m.displayElements.resize.info),m.displayElements.scrollWindow.append(m.displayElements.resize.overlay),m.reflowResizeOverlay=function(a){a=angular.element(a)[0],m.displayElements.resize.overlay.css({display:\"block\",left:a.offsetLeft-5+\"px\",top:a.offsetTop-5+\"px\",width:a.offsetWidth+10+\"px\",height:a.offsetHeight+10+\"px\"}),m.displayElements.resize.info.text(a.offsetWidth+\" x \"+a.offsetHeight)},m.showResizeOverlay=function(a){var b=h.find(\"body\");z=function(c){var d={width:parseInt(a.attr(\"width\")),height:parseInt(a.attr(\"height\")),x:c.clientX,y:c.clientY};(void 0===d.width||isNaN(d.width))&&(d.width=a[0].offsetWidth),(void 0===d.height||isNaN(d.height))&&(d.height=a[0].offsetHeight),m.hidePopover();var e=d.height/d.width,f=function(b){var c={x:Math.max(0,d.width+(b.clientX-d.x)),y:Math.max(0,d.height+(b.clientY-d.y))};if(b.shiftKey){var f=c.y/c.x;c.x=e>f?c.x:c.y/e,c.y=e>f?c.x*e:c.y}el=angular.element(a),el.attr(\"height\",Math.max(0,c.y)),el.attr(\"width\",Math.max(0,c.x)),m.reflowResizeOverlay(a)};b.on(\"mousemove\",f),C(b,\"mouseup\",function(c){c.preventDefault(),c.stopPropagation(),b.off(\"mousemove\",f),m.showPopover(a)}),c.stopPropagation(),c.preventDefault()},m.displayElements.resize.anchors[3].on(\"mousedown\",z),m.reflowResizeOverlay(a),C(b,\"click\",function(){m.hideResizeOverlay()})},m.hideResizeOverlay=function(){m.displayElements.resize.anchors[3].off(\"mousedown\",z),m.displayElements.resize.overlay.css(\"display\",\"\")},m.setup.htmlEditorSetup(m.displayElements.html),m.setup.textEditorSetup(m.displayElements.text),m.displayElements.html.attr({id:\"taHtmlElement\"+B,\"ng-show\":\"showHtml\",\"ta-bind\":\"ta-bind\",\"ng-model\":\"html\"}),m.displayElements.text.attr({id:\"taTextElement\"+B,contentEditable:\"true\",\"ta-bind\":\"ta-bind\",\"ng-model\":\"html\"}),m.displayElements.scrollWindow.attr({\"ng-hide\":\"showHtml\"}),o.taDefaultWrap&&m.displayElements.text.attr(\"ta-default-wrap\",o.taDefaultWrap),o.taUnsafeSanitizer&&(m.displayElements.text.attr(\"ta-unsafe-sanitizer\",o.taUnsafeSanitizer),m.displayElements.html.attr(\"ta-unsafe-sanitizer\",o.taUnsafeSanitizer)),m.displayElements.scrollWindow.append(m.displayElements.text),n.append(m.displayElements.scrollWindow),n.append(m.displayElements.html),m.displayElements.forminput.attr(\"name\",m._name),n.append(m.displayElements.forminput),o.tabindex&&(n.removeAttr(\"tabindex\"),m.displayElements.text.attr(\"tabindex\",o.tabindex),m.displayElements.html.attr(\"tabindex\",o.tabindex)),o.placeholder&&(m.displayElements.text.attr(\"placeholder\",o.placeholder),m.displayElements.html.attr(\"placeholder\",o.placeholder)),o.taDisabled&&(m.displayElements.text.attr(\"ta-readonly\",\"disabled\"),m.displayElements.html.attr(\"ta-readonly\",\"disabled\"),m.disabled=m.$parent.$eval(o.taDisabled),m.$parent.$watch(o.taDisabled,function(a){m.disabled=a,m.disabled?n.addClass(m.classes.disabled):n.removeClass(m.classes.disabled)})),o.taPaste&&(m._pasteHandler=function(a){return l(o.taPaste)(m.$parent,{$html:a})},m.displayElements.text.attr(\"ta-paste\",\"_pasteHandler($html)\")),a(m.displayElements.scrollWindow)(m),a(m.displayElements.html)(m),m.updateTaBindtaTextElement=m[\"updateTaBindtaTextElement\"+B],m.updateTaBindtaHtmlElement=m[\"updateTaBindtaHtmlElement\"+B],n.addClass(\"ta-root\"),m.displayElements.scrollWindow.addClass(\"ta-text ta-editor \"+m.classes.textEditor),m.displayElements.html.addClass(\"ta-html ta-editor \"+m.classes.htmlEditor),m._actionRunning=!1;var D=!1;if(m.startAction=function(){return m._actionRunning=!0,D=g.rangy.saveSelection(),function(){D&&g.rangy.restoreSelection(D)}},m.endAction=function(){m._actionRunning=!1,D&&g.rangy.removeMarkers(D),D=!1,m.updateSelectedStyles(),m.showHtml||m[\"updateTaBindtaTextElement\"+B]()},u=function(){m.focussed=!0,n.addClass(m.classes.focussed),x.focus(),n.triggerHandler(\"focus\")},m.displayElements.html.on(\"focus\",u),m.displayElements.text.on(\"focus\",u),v=function(a){return m._actionRunning||h[0].activeElement===m.displayElements.html[0]||h[0].activeElement===m.displayElements.text[0]||(n.removeClass(m.classes.focussed),x.unfocus(),b(function(){m._bUpdateSelectedStyles=!1,n.triggerHandler(\"blur\"),m.focussed=!1},0)),a.preventDefault(),!1},m.displayElements.html.on(\"blur\",v),m.displayElements.text.on(\"blur\",v),m.displayElements.text.on(\"paste\",function(a){n.triggerHandler(\"paste\",a)}),m.queryFormatBlockState=function(a){return!m.showHtml&&a.toLowerCase()===h[0].queryCommandValue(\"formatBlock\").toLowerCase()},m.queryCommandState=function(a){return m.showHtml?\"\":h[0].queryCommandState(a)},m.switchView=function(){m.showHtml=!m.showHtml,i.enabled(!1,m.displayElements.html),i.enabled(!1,m.displayElements.text),m.showHtml?b(function(){return i.enabled(!0,m.displayElements.html),i.enabled(!0,m.displayElements.text),m.displayElements.html[0].focus()},100):b(function(){return i.enabled(!0,m.displayElements.html),i.enabled(!0,m.displayElements.text),m.displayElements.text[0].focus()},100)},o.ngModel){var E=!0;p.$render=function(){if(E){E=!1;var a=m.$parent.$eval(o.ngModel);void 0!==a&&null!==a||!w||\"\"===w||p.$setViewValue(w)}m.displayElements.forminput.val(p.$viewValue),m._elementSelectTriggered||(m.html=p.$viewValue||\"\")};var F=function(a){return o.required&&p.$setValidity(\"required\",!(!a||\"\"===a.trim())),a};p.$parsers.push(F),p.$formatters.push(F)}else m.displayElements.forminput.val(w),m.html=w;if(m.$watch(\"html\",function(a,b){a!==b&&(o.ngModel&&p.$viewValue!==a&&p.$setViewValue(a),m.displayElements.forminput.val(a))}),o.taTargetToolbars)x=f.registerEditor(m._name,m,o.taTargetToolbars.split(\",\"));else{var G=angular.element('<div text-angular-toolbar name=\"textAngularToolbar'+B+'\">');o.taToolbar&&G.attr(\"ta-toolbar\",o.taToolbar),o.taToolbarClass&&G.attr(\"ta-toolbar-class\",o.taToolbarClass),o.taToolbarGroupClass&&G.attr(\"ta-toolbar-group-class\",o.taToolbarGroupClass),o.taToolbarButtonClass&&G.attr(\"ta-toolbar-button-class\",o.taToolbarButtonClass),o.taToolbarActiveButtonClass&&G.attr(\"ta-toolbar-active-button-class\",o.taToolbarActiveButtonClass),o.taFocussedClass&&G.attr(\"ta-focussed-class\",o.taFocussedClass),n.prepend(G),a(G)(m.$parent),x=f.registerEditor(m._name,m,[\"textAngularToolbar\"+B])}m.$on(\"$destroy\",function(){f.unregisterEditor(m._name)}),m.$on(\"ta-element-select\",function(a,b){x.triggerElementSelect(a,b)&&m[\"reApplyOnSelectorHandlerstaTextElement\"+B]()}),m.$on(\"ta-drop-event\",function(a,c,d,e){m.displayElements.text[0].focus(),e&&e.files&&e.files.length>0?(angular.forEach(e.files,function(a){try{k.when(m.fileDropHandler(a,m.wrapSelection)||m.fileDropHandler!==m.defaultFileDropHandler&&k.when(m.defaultFileDropHandler(a,m.wrapSelection))).then(function(){m[\"updateTaBindtaTextElement\"+B]()})}catch(b){j.error(b)}}),d.preventDefault(),d.stopPropagation()):b(function(){m[\"updateTaBindtaTextElement\"+B]()},0)}),m._bUpdateSelectedStyles=!1,angular.element(window).on(\"blur\",function(){m._bUpdateSelectedStyles=!1,m.focussed=!1}),m.updateSelectedStyles=function(){var a;A&&b.cancel(A),void 0!==(a=d.getSelectionElement())&&a.parentNode!==m.displayElements.text[0]?x.updateSelectedStyles(angular.element(a)):x.updateSelectedStyles(),m._bUpdateSelectedStyles&&(A=b(m.updateSelectedStyles,200))},q=function(){return m.focussed?void(m._bUpdateSelectedStyles||(m._bUpdateSelectedStyles=!0,m.$apply(function(){m.updateSelectedStyles()}))):void(m._bUpdateSelectedStyles=!1)},m.displayElements.html.on(\"keydown\",q),m.displayElements.text.on(\"keydown\",q),r=function(){m._bUpdateSelectedStyles=!1},m.displayElements.html.on(\"keyup\",r),m.displayElements.text.on(\"keyup\",r),s=function(a,b){b&&angular.extend(a,b),m.$apply(function(){return x.sendKeyCommand(a)?(m._bUpdateSelectedStyles||m.updateSelectedStyles(),a.preventDefault(),!1):void 0})},m.displayElements.html.on(\"keypress\",s),m.displayElements.text.on(\"keypress\",s),t=function(){m._bUpdateSelectedStyles=!1,m.$apply(function(){m.updateSelectedStyles()})},m.displayElements.html.on(\"mouseup\",t),m.displayElements.text.on(\"mouseup\",t)}}}]),q.service(\"textAngularManager\",[\"taToolExecuteAction\",\"taTools\",\"taRegisterTool\",function(a,b,c){var d={},e={};return{registerEditor:function(c,f,g){if(!c||\"\"===c)throw\"textAngular Error: An editor requires a name\";if(!f)throw\"textAngular Error: An editor requires a scope\";if(e[c])throw'textAngular Error: An Editor with name \"'+c+'\" already exists';var h=[];return angular.forEach(g,function(a){d[a]&&h.push(d[a])}),e[c]={scope:f,toolbars:g,_registerToolbar:function(a){this.toolbars.indexOf(a.name)>=0&&h.push(a)},editorFunctions:{disable:function(){angular.forEach(h,function(a){a.disabled=!0})},enable:function(){angular.forEach(h,function(a){a.disabled=!1})},focus:function(){angular.forEach(h,function(a){a._parent=f,a.disabled=!1,a.focussed=!0,f.focussed=!0})},unfocus:function(){angular.forEach(h,function(a){a.disabled=!0,a.focussed=!1}),f.focussed=!1},updateSelectedStyles:function(a){angular.forEach(h,function(b){angular.forEach(b.tools,function(c){c.activeState&&(b._parent=f,c.active=c.activeState(a))})})},sendKeyCommand:function(c){var d=!1;return(c.ctrlKey||c.metaKey)&&angular.forEach(b,function(b,e){if(b.commandKeyCode&&b.commandKeyCode===c.which)for(var g=0;g<h.length;g++)if(void 0!==h[g].tools[e]){a.call(h[g].tools[e],f),d=!0;break}}),d},triggerElementSelect:function(a,c){var d=function(a,b){for(var c=!0,d=0;d<b.length;d++)c=c&&a.attr(b[d]);return c},e=[],g={},i=!1;c=angular.element(c);var j=!1;if(angular.forEach(b,function(a,b){a.onElementSelect&&a.onElementSelect.element&&a.onElementSelect.element.toLowerCase()===c[0].tagName.toLowerCase()&&(!a.onElementSelect.filter||a.onElementSelect.filter(c))&&(j=j||angular.isArray(a.onElementSelect.onlyWithAttrs)&&d(c,a.onElementSelect.onlyWithAttrs),(!a.onElementSelect.onlyWithAttrs||d(c,a.onElementSelect.onlyWithAttrs))&&(g[b]=a))}),j?(angular.forEach(g,function(a,b){a.onElementSelect.onlyWithAttrs&&d(c,a.onElementSelect.onlyWithAttrs)&&e.push({name:b,tool:a})}),e.sort(function(a,b){return b.tool.onElementSelect.onlyWithAttrs.length-a.tool.onElementSelect.onlyWithAttrs.length})):angular.forEach(g,function(a,b){e.push({name:b,tool:a})}),e.length>0)for(var k=0;k<e.length;k++){for(var l=e[k].tool,m=e[k].name,n=0;n<h.length;n++)if(void 0!==h[n].tools[m]){l.onElementSelect.action.call(h[n].tools[m],a,c,f),i=!0;break}if(i)break}return i}}},e[c].editorFunctions},retrieveEditor:function(a){return e[a]},unregisterEditor:function(a){delete e[a]},registerToolbar:function(a){if(!a)throw\"textAngular Error: A toolbar requires a scope\";if(!a.name||\"\"===a.name)throw\"textAngular Error: A toolbar requires a name\";if(d[a.name])throw'textAngular Error: A toolbar with name \"'+a.name+'\" already exists';d[a.name]=a,angular.forEach(e,function(b){b._registerToolbar(a)})},retrieveToolbar:function(a){return d[a]},retrieveToolbarsViaEditor:function(a){var b=[],c=this;return angular.forEach(this.retrieveEditor(a).toolbars,function(a){b.push(c.retrieveToolbar(a))}),b},unregisterToolbar:function(a){delete d[a]},updateToolsDisplay:function(a){var b=this;angular.forEach(a,function(a,c){b.updateToolDisplay(c,a)})},resetToolsDisplay:function(){var a=this;angular.forEach(b,function(b,c){a.resetToolDisplay(c)})},updateToolDisplay:function(a,b){var c=this;angular.forEach(d,function(d,e){c.updateToolbarToolDisplay(e,a,b)})},resetToolDisplay:function(a){var b=this;angular.forEach(d,function(c,d){b.resetToolbarToolDisplay(d,a)})},updateToolbarToolDisplay:function(a,b,c){if(!d[a])throw'textAngular Error: No Toolbar with name \"'+a+'\" exists';d[a].updateToolDisplay(b,c)},resetToolbarToolDisplay:function(a,c){if(!d[a])throw'textAngular Error: No Toolbar with name \"'+a+'\" exists';d[a].updateToolDisplay(c,b[c],!0)},removeTool:function(a){delete b[a],angular.forEach(d,function(b){delete b.tools[a];for(var c=0;c<b.toolbar.length;c++){for(var d,e=0;e<b.toolbar[c].length;e++){if(b.toolbar[c][e]===a){d={group:c,index:e};break}if(void 0!==d)break}void 0!==d&&(b.toolbar[d.group].slice(d.index,1),b._$element.children().eq(d.group).children().eq(d.index).remove())}})},addTool:function(a,b,e,f){c(a,b),angular.forEach(d,function(c){c.addTool(a,b,e,f)})},addToolToToolbar:function(a,b,e,f,g){c(a,b),d[e].addTool(a,b,f,g)},refreshEditor:function(a){if(!e[a])throw'textAngular Error: No Editor with name \"'+a+'\" exists';e[a].scope.updateTaBindtaTextElement(),e[a].scope.$$phase||e[a].scope.$digest()}}}]),q.directive(\"textAngularToolbar\",[\"$compile\",\"textAngularManager\",\"taOptions\",\"taTools\",\"taToolExecuteAction\",\"$window\",function(a,b,c,d,e,f){return{scope:{name:\"@\"},restrict:\"EA\",link:function(g,h,i){if(!g.name||\"\"===g.name)throw\"textAngular Error: A toolbar requires a name\";angular.extend(g,angular.copy(c)),i.taToolbar&&(g.toolbar=g.$parent.$eval(i.taToolbar)),i.taToolbarClass&&(g.classes.toolbar=i.taToolbarClass),i.taToolbarGroupClass&&(g.classes.toolbarGroup=i.taToolbarGroupClass),i.taToolbarButtonClass&&(g.classes.toolbarButton=i.taToolbarButtonClass),i.taToolbarActiveButtonClass&&(g.classes.toolbarButtonActive=i.taToolbarActiveButtonClass),i.taFocussedClass&&(g.classes.focussed=i.taFocussedClass),g.disabled=!0,g.focussed=!1,g._$element=h,h[0].innerHTML=\"\",h.addClass(\"ta-toolbar \"+g.classes.toolbar),g.$watch(\"focussed\",function(){g.focussed?h.addClass(g.classes.focussed):h.removeClass(g.classes.focussed)});var j=function(b,c){var d;if(d=angular.element(b&&b.display?b.display:\"<button type='button'>\"),d.addClass(b&&b[\"class\"]?b[\"class\"]:g.classes.toolbarButton),d.attr(\"name\",c.name),d.attr(\"unselectable\",\"on\"),d.attr(\"ng-disabled\",\"isDisabled()\"),d.attr(\"tabindex\",\"-1\"),d.attr(\"ng-click\",\"executeAction()\"),d.attr(\"ng-class\",\"displayActiveToolClass(active)\"),b&&b.tooltiptext&&d.attr(\"title\",b.tooltiptext),d.on(\"mousedown\",function(a,b){return b&&angular.extend(a,b),a.preventDefault(),!1}),b&&!b.display&&!c._display&&(d[0].innerHTML=\"\",b.buttontext&&(d[0].innerHTML=b.buttontext),b.iconclass)){var e=angular.element(\"<i>\"),f=d[0].innerHTML;e.addClass(b.iconclass),d[0].innerHTML=\"\",d.append(e),f&&\"\"!==f&&d.append(\"&nbsp;\"+f)}return c._lastToolDefinition=angular.copy(b),a(d)(c)};g.tools={},g._parent={disabled:!0,showHtml:!1,queryFormatBlockState:function(){return!1},queryCommandState:function(){return!1}};var k={$window:f,$editor:function(){return g._parent},isDisabled:function(){return\"function\"!=typeof this.$eval(\"disabled\")&&this.$eval(\"disabled\")||this.$eval(\"disabled()\")||\"html\"!==this.name&&this.$editor().showHtml||this.$parent.disabled||this.$editor().disabled},displayActiveToolClass:function(a){return a?g.classes.toolbarButtonActive:\"\"},executeAction:e};angular.forEach(g.toolbar,function(a){var b=angular.element(\"<div>\");b.addClass(g.classes.toolbarGroup),angular.forEach(a,function(a){g.tools[a]=angular.extend(g.$new(!0),d[a],k,{name:a}),g.tools[a].$element=j(d[a],g.tools[a]),b.append(g.tools[a].$element)}),h.append(b)}),g.updateToolDisplay=function(a,b,c){var d=g.tools[a];if(d){if(d._lastToolDefinition&&!c&&(b=angular.extend({},d._lastToolDefinition,b)),null===b.buttontext&&null===b.iconclass&&null===b.display)throw'textAngular Error: Tool Definition for updating \"'+a+'\" does not have a valid display/iconclass/buttontext value';null===b.buttontext&&delete b.buttontext,null===b.iconclass&&delete b.iconclass,null===b.display&&delete b.display;var e=j(b,d);d.$element.replaceWith(e),d.$element=e}},g.addTool=function(a,b,c,e){g.tools[a]=angular.extend(g.$new(!0),d[a],k,{name:a}),g.tools[a].$element=j(d[a],g.tools[a]);var f;void 0===c&&(c=g.toolbar.length-1),f=angular.element(h.children()[c]),void 0===e?(f.append(g.tools[a].$element),g.toolbar[c][g.toolbar[c].length-1]=a):(f.children().eq(e).after(g.tools[a].$element),g.toolbar[c][e]=a)},b.registerToolbar(g),g.$on(\"$destroy\",function(){b.unregisterToolbar(g.name)})}}}])}()}({},function(){return this}());","var app = angular.module('stuffFinderModule',\r\n    ['ngRoute',\r\n        'LocalStorageModule',\r\n        'angular-loading-bar',\r\n        'ngResource',\r\n        'ui.bootstrap',\r\n        'ngDroplet',\r\n        'uiGmapgoogle-maps',\r\n        'textAngular',\r\n        'shared.directives',\r\n        'ngToast',\r\n        'nya.bootstrap.select',\r\n        'infinite-scroll']);\r\n\r\napp.config(function ($routeProvider) {\r\n\r\n    $routeProvider.when(\"/home\", {\r\n        controller: \"homeController\",\r\n        templateUrl: \"/app/templates/home.html\"\r\n    });\r\n\r\n    $routeProvider.when(\"/login\", {\r\n        controller: \"loginController\",\r\n        templateUrl: \"/app/templates/login.html\"\r\n    });\r\n\r\n    $routeProvider.when(\"/signup\", {\r\n        controller: \"signupController\",\r\n        templateUrl: \"/app/templates/signup.html\"\r\n    });\r\n\r\n    $routeProvider.when(\"/things\", {\r\n        controller: \"thingsController\",\r\n        templateUrl: \"/app/templates/things.html\"\r\n    });\r\n\r\n    $routeProvider.when(\"/thing/:thingId\", {\r\n        controller: \"thingController\",\r\n        controllerAs: 'vm',\r\n        templateUrl: \"/app/templates/thing.html\"\r\n    });\r\n\r\n    $routeProvider.when(\"/start\", {\r\n        controller: \"startController\",\r\n        controllerAs: 'vm',\r\n        templateUrl: \"/app/templates/start.html\"\r\n    });\r\n\r\n    $routeProvider.when(\"/found-thing-and-location\", {\r\n        controller: \"foundThingAndLocationController\",\r\n        controllerAs: 'vm',\r\n        templateUrl: \"/app/templates/found-thing-and-location.html\"\r\n    });\r\n\r\n    $routeProvider.when(\"/found-it/:thingId\", {\r\n        controller: \"foundItController\",\r\n        controllerAs: 'vm',\r\n        templateUrl: \"/app/templates/found-it.html\"\r\n    });\r\n\r\n    $routeProvider.when(\"/refresh\", {\r\n        controller: \"refreshController\",\r\n        templateUrl: \"/app/templates/refresh.html\"\r\n    });\r\n\r\n    $routeProvider.when(\"/tokens\", {\r\n        controller: \"tokensManagerController\",\r\n        templateUrl: \"/app/templates/tokens.html\"\r\n    });\r\n\r\n    $routeProvider.when(\"/associate\", {\r\n        controller: \"associateController\",\r\n        templateUrl: \"/app/templates/associate.html\"\r\n    });\r\n\r\n    $routeProvider.when(\"/index\", {\r\n        controller: 'indexController',\r\n        templateUrl: '/index.html'\r\n    });\r\n\r\n    $routeProvider.when(\"/admin\", {\r\n        controller: 'adminController',\r\n        controllerAs: 'vm',\r\n        templateUrl: '/app/templates/admin.html'\r\n    });\r\n\r\n    $routeProvider.when(\"/search\", {\r\n        controller: 'searchController',\r\n        controllerAs: 'vm',\r\n        templateUrl: '/app/templates/search.html'\r\n    });\r\n\r\n    $routeProvider.when(\"/search/all/:query\", {\r\n        controller: 'searchController',\r\n        controllerAs: 'vm',\r\n        templateUrl: '/app/templates/search.html'\r\n    });\r\n\r\n    $routeProvider.when(\"/search/:cityName\", {\r\n        controller: 'searchController',\r\n        controllerAs: 'vm',\r\n        templateUrl: '/app/templates/search.html'\r\n    });\r\n\r\n    $routeProvider.when(\"/search/:cityName/:query\", {\r\n        controller: 'searchController',\r\n        controllerAs: 'vm',\r\n        templateUrl: '/app/templates/search.html'\r\n    });\r\n\r\n    $routeProvider.when('/where-is-it', {\r\n        controller: 'whereIsItController',\r\n        controllerAs: 'vm',\r\n        templateUrl: '/app/templates/where-is-it.html'\r\n    });\r\n\r\n    $routeProvider.when('/dashboard-email-settings', {\r\n        controller: 'dashboardEmailSettingsController',\r\n        controllerAs: 'vm',\r\n        templateUrl: '/app/templates/dashboard-email-settings.html'\r\n    });\r\n\r\n    $routeProvider.when('/jumbotron-youtube-video-settings', {\r\n        controller: 'jumbotronYoutubeVideoSettingsController',\r\n        controllerAs: 'vm',\r\n        templateUrl: '/app/templates/jumbotron-youtube-video-settings.html'\r\n    });\r\n\r\n    $routeProvider.when('/thing/edit/:thingId', {\r\n        controller: 'editThingController',\r\n        controllerAs: 'vm',\r\n        templateUrl: '/app/templates/edit-thing.html'\r\n    });\r\n\r\n    $routeProvider.when('/finding/edit/:findingId', {\r\n        controller: 'editFindingController',\r\n        controllerAs: 'vm',\r\n        templateUrl: '/app/templates/edit-finding.html'\r\n    });\r\n\r\n    $routeProvider.when('/categories', {\r\n        controller: 'categoriesController',\r\n        controllerAs: 'vm',\r\n        templateUrl: '/app/templates/categories.html'\r\n    });\r\n\r\n    $routeProvider.when('/category/add', {\r\n        controller: 'addOrUpdateCategoryController',\r\n        controllerAs: 'vm',\r\n        templateUrl: '/app/templates/add-or-update-category.html'\r\n    });\r\n\r\n    $routeProvider.when('/category/update/:categoryId', {\r\n        controller: 'addOrUpdateCategoryController',\r\n        controllerAs: 'vm',\r\n        templateUrl: '/app/templates/add-or-update-category.html'\r\n    });\r\n\r\n    $routeProvider.when('/cities', {\r\n        controller: 'citiesController',\r\n        controllerAs: 'vm',\r\n        templateUrl: '/app/templates/cities.html'\r\n    });\r\n\r\n    $routeProvider.when('/city/add', {\r\n        controller: 'addOrUpdateCityController',\r\n        controllerAs: 'vm',\r\n        templateUrl: '/app/templates/add-or-update-city.html'\r\n    });\r\n\r\n    $routeProvider.when('/city/update/:cityId', {\r\n        controller: 'addOrUpdateCityController',\r\n        controllerAs: 'vm',\r\n        templateUrl: '/app/templates/add-or-update-city.html'\r\n    });\r\n\r\n    $routeProvider.when('/locations', {\r\n        controller: 'locationsController',\r\n        controllerAs: 'vm',\r\n        templateUrl: '/app/templates/locations.html'\r\n    });\r\n\r\n    $routeProvider.when('/location/add', {\r\n        controller: 'addOrUpdateLocationController',\r\n        controllerAs: 'vm',\r\n        templateUrl: '/app/templates/add-or-update-location.html'\r\n    });\r\n\r\n    $routeProvider.when('/location/update/:locationId', {\r\n        controller: 'addOrUpdateLocationController',\r\n        controllerAs: 'vm',\r\n        templateUrl: '/app/templates/add-or-update-location.html'\r\n    });\r\n\r\n    $routeProvider.when('/nationalities', {\r\n        controller: 'nationalitiesController',\r\n        controllerAs: 'vm',\r\n        templateUrl: '/app/templates/nationalities.html'\r\n    });\r\n\r\n    $routeProvider.when('/nationality/add', {\r\n        controller: 'addOrUpdateNationalityController',\r\n        controllerAs: 'vm',\r\n        templateUrl: '/app/templates/add-or-update-nationality.html'\r\n    });\r\n\r\n    $routeProvider.when('/nationality/update/:nationalityId', {\r\n        controller: 'addOrUpdateNationalityController',\r\n        controllerAs: 'vm',\r\n        templateUrl: '/app/templates/add-or-update-nationality.html'\r\n    });\r\n\r\n    $routeProvider.when('/users', {\r\n        controller: 'usersController',\r\n        controllerAs: 'vm',\r\n        templateUrl: '/app/templates/users.html'\r\n    });\r\n\r\n    $routeProvider.when('/user/add', {\r\n        controller: 'addOrUpdateUserController',\r\n        controllerAs: 'vm',\r\n        templateUrl: '/app/templates/add-or-update-user.html'\r\n    });\r\n\r\n    $routeProvider.when('/user/update/:userId', {\r\n        controller: 'addOrUpdateUserController',\r\n        controllerAs: 'vm',\r\n        templateUrl: '/app/templates/add-or-update-user.html'\r\n    });\r\n\r\n    $routeProvider.when('/newsletters', {\r\n        controller: 'newslettersController',\r\n        controllerAs: 'vm',\r\n        templateUrl: '/app/templates/newsletters.html'\r\n    });\r\n\r\n    $routeProvider.when('/newsletter/add', {\r\n        controller: 'addOrUpdateNewsletterController',\r\n        controllerAs: 'vm',\r\n        templateUrl: '/app/templates/add-or-update-newsletter.html'\r\n    });\r\n\r\n    $routeProvider.when('/newsletter/update/:newsletterId', {\r\n        controller: 'addOrUpdateNewsletterController',\r\n        controllerAs: 'vm',\r\n        templateUrl: '/app/templates/add-or-update-newsletter.html'\r\n    });\r\n\r\n    $routeProvider.when('/how-it-works', {\r\n        templateUrl: '/app/templates/how-it-works.html'\r\n    });\r\n\r\n    $routeProvider.when('/city-notifications', {\r\n        controller: 'cityNotificationsController',\r\n        controllerAs: 'vm',\r\n        templateUrl: '/app/templates/city-notifications.html'\r\n    });\r\n\r\n    $routeProvider.when('/city-notification/add', {\r\n        controller: 'addOrUpdateCityNotificationController',\r\n        controllerAs: 'vm',\r\n        templateUrl: '/app/templates/add-or-update-city-notification.html'\r\n    });\r\n\r\n    $routeProvider.when('/city-notification/update/:cityNotificationId', {\r\n        controller: 'addOrUpdateCityNotificationController',\r\n        controllerAs: 'vm',\r\n        templateUrl: '/app/templates/add-or-update-city-notification.html'\r\n    });\r\n\r\n    $routeProvider.when('/nationality-notifications', {\r\n        controller: 'nationalityNotificationsController',\r\n        controllerAs: 'vm',\r\n        templateUrl: '/app/templates/nationality-notifications.html'\r\n    });\r\n\r\n    $routeProvider.when('/nationality-notification/add', {\r\n        controller: 'addOrUpdateNationalityNotificationController',\r\n        controllerAs: 'vm',\r\n        templateUrl: '/app/templates/add-or-update-nationality-notification.html'\r\n    });\r\n\r\n    $routeProvider.when('/nationality-notification/update/:nationalityNotificationId', {\r\n        controller: 'addOrUpdateNationalityNotificationController',\r\n        controllerAs: 'vm',\r\n        templateUrl: '/app/templates/add-or-update-nationality-notification.html'\r\n    });\r\n\r\n    $routeProvider.when('/feedback', {\r\n        controller: 'feedbackController',\r\n        controllerAs: 'vm',\r\n        templateUrl: '/app/templates/feedback.html'\r\n    });\r\n\r\n    $routeProvider.when('/user-profile', {\r\n        controller: 'userProfileController',\r\n        controllerAs: 'vm',\r\n        templateUrl: '/app/templates/user-profile.html'\r\n    });\r\n\r\n    $routeProvider.otherwise({ redirectTo: \"/index\" });\r\n});\r\n\r\napp.config(function (uiGmapGoogleMapApiProvider) {\r\n    uiGmapGoogleMapApiProvider.configure({\r\n        key: 'AIzaSyBPUGy5syJHUaDeR_E_FTwgOO4Th8vm63Y',\r\n        v: '3.17',\r\n        libraries: 'weather,geometry,visualization'\r\n    });\r\n});\r\n\r\nvar serviceBase = '';\r\n\r\napp.run(['dataService', function (dataService) {\r\n    dataService.getServerUrl().then(function (resource) {\r\n        serviceBase = resource.authenticationServerUrl;\r\n    });\r\n}])\r\n\r\napp.run(['dataService', function activateFaceBook() {\r\n    window.fbAsyncInit = function () {\r\n        FB.init({\r\n            appId: '1540766432878939',\r\n            xfbml: true,\r\n            version: 'v2.2'\r\n        });\r\n    };\r\n\r\n    (function (d, s, id) {\r\n        var js, fjs = d.getElementsByTagName(s)[0];\r\n        if (d.getElementById(id)) { return; }\r\n        js = d.createElement(s); js.id = id;\r\n        js.src = \"//connect.facebook.net/en_US/sdk.js\";\r\n        fjs.parentNode.insertBefore(js, fjs);\r\n    }(document, 'script', 'facebook-jssdk'));\r\n}])\r\n\r\n\r\napp.constant('ngAuthSettings', {\r\n    apiServiceBaseUri: serviceBase,\r\n    clientId: 'ngAuthApp'\r\n        //'StuffFinder'\r\n        //'1540766432878939'\r\n    //915674078507-ersdkqkfl2nah49s5ier2drnlstajqov.apps.googleusercontent.com'\r\n});\r\n\r\napp.config(function ($httpProvider) {\r\n    $httpProvider.interceptors.push('authInterceptorService');\r\n});\r\n\r\napp.run(['authService', function (authService) {\r\n    authService.fillAuthData();\r\n}]);\r\n\r\napp.filter('escape', function () {\r\n    return window.encodeURIComponent;\r\n});\r\n\r\napp.config(['ngToastProvider', function (ngToast) {\r\n    ngToast.configure(\r\n        //{\r\n        //verticalPosition: 'bottom',\r\n        //horizontalPosition: 'center',\r\n        //maxNumber: 3\r\n        //},\r\n        {\r\n            closeButton: false,\r\n            debug: false,\r\n            newestOnTop: false,\r\n            progressBar: false,\r\n            positionClass: 'toast-top-right',\r\n            preventDuplicates: false,\r\n            onclick: null,\r\n            showDuration: 300,\r\n            hideDuration: 1000,\r\n            timeOut: 5000,\r\n            extendedTimeOut: 1000,\r\n            showEasing: 'swing',\r\n            hideEasing: 'linear',\r\n            showMethod: 'fadeIn',\r\n            hideMethod: 'fadeOut',\r\n        }\r\n    );\r\n}]);","'use strict';\r\napp.factory('authInterceptorService', ['$q', '$injector', '$location', 'localStorageService', function ($q, $injector, $location, localStorageService) {\r\n\r\n    var authInterceptorServiceFactory = {};\r\n\r\n    var _request = function (config) {\r\n        // Exception list.\r\n        if (config.url.indexOf(\"maps.googleapis.com\") > 1)\r\n        {\r\n            return config;\r\n        }\r\n\r\n        config.headers = config.headers || {};\r\n\r\n        var authData = localStorageService.get('authorizationData');\r\n        if (authData) {\r\n            config.headers.Authorization = 'Bearer ' + authData.token;\r\n        }\r\n\r\n        return config;\r\n    }\r\n\r\n    var _responseError = function (rejection) {\r\n        if (rejection.status === 401) {\r\n            var authService = $injector.get('authService');\n            var authData = localStorageService.get('authorizationData');\n\n            if (authData) {\r\n                if (authData.useRefreshTokens) {\r\n                    $location.path('/refresh');\n                    return $q.reject(rejection);\r\n                }\r\n            }\n            authService.logOut();\n            $location.path('/login');\r\n        }\n        return $q.reject(rejection);\r\n    }\r\n\r\n    authInterceptorServiceFactory.request = _request;\r\n    authInterceptorServiceFactory.responseError = _responseError;\r\n\r\n    return authInterceptorServiceFactory;\r\n}]);","'use strict';\napp.factory('authService', ['$http', '$q', 'localStorageService', 'ngAuthSettings', 'dataService', function ($http, $q, localStorageService, ngAuthSettings, dataService) {\r\n\n    var serviceBase = ngAuthSettings.apiServiceBaseUri;\n\n    dataService.getServerUrl().then(function (resource) {\r\n        serviceBase = resource.authenticationServerUrl;\r\n    });\n\n    var authServiceFactory = {};\n\n    var _authentication = {\r\n        isAuth: false,\n        userName: \"\",\n        useRefreshTokens: false\r\n    };\n\n    var _externalAuthData = {\r\n        provider: \"\",\n        userName: \"\",\n        externalAccessToken: \"\"\r\n    };\n\n    var _saveRegistration = function (registration) {\r\n\n        _logOut();\n\n        return $http.post(serviceBase + 'api/account/register', registration).then(function (response) {\r\n            return response;\r\n        });\r\n\n    };\n\n    var _login = function (loginData) {\r\n\n        var data = \"grant_type=password&username=\" + loginData.userName + \"&password=\" + loginData.password;\n\n        if (loginData.useRefreshTokens) {\r\n            data = data + \"&client_id=\" + ngAuthSettings.clientId;\r\n        }\n\n        var deferred = $q.defer();\n\n        $http.post(serviceBase + 'token', data, { headers: { 'Content-Type': 'application/x-www-form-urlencoded' } }).success(function (response) {\r\n\n            if (loginData.useRefreshTokens) {\r\n                localStorageService.set('authorizationData', { token: response.access_token, userName: loginData.userName, refreshToken: response.refresh_token, useRefreshTokens: true });\r\n            }\n            else {\r\n                localStorageService.set('authorizationData', { token: response.access_token, userName: loginData.userName, refreshToken: \"\", useRefreshTokens: false });\r\n            }\n            _authentication.isAuth = true;\n            _authentication.userName = loginData.userName;\n            _authentication.useRefreshTokens = loginData.useRefreshTokens;\n\n            deferred.resolve(response);\r\n\n        }).error(function (err, status) {\r\n            _logOut();\n            deferred.reject(err);\r\n        });\n\n        return deferred.promise;\r\n\n    };\n\n    var _logOut = function () {\r\n\n        localStorageService.remove('authorizationData');\n\n        _authentication.isAuth = false;\n        _authentication.userName = \"\";\n        _authentication.useRefreshTokens = false;\r\n\n    };\n\n    var _fillAuthData = function () {\r\n\n        var authData = localStorageService.get('authorizationData');\n        if (authData) {\r\n            _authentication.isAuth = true;\n            _authentication.userName = authData.userName;\n            _authentication.useRefreshTokens = authData.useRefreshTokens;\r\n        }\r\n\n    };\n\n    var _refreshToken = function () {\r\n        var deferred = $q.defer();\n\n        var authData = localStorageService.get('authorizationData');\n\n        if (authData) {\r\n\n            if (authData.useRefreshTokens) {\r\n\n                var data = \"grant_type=refresh_token&refresh_token=\" + authData.refreshToken + \"&client_id=\" + ngAuthSettings.clientId;\n\n                localStorageService.remove('authorizationData');\n\n                $http.post(serviceBase + 'token', data, { headers: { 'Content-Type': 'application/x-www-form-urlencoded' } }).success(function (response) {\r\n\n                    localStorageService.set('authorizationData', { token: response.access_token, userName: response.userName, refreshToken: response.refresh_token, useRefreshTokens: true });\n\n                    deferred.resolve(response);\r\n\n                }).error(function (err, status) {\r\n                    _logOut();\n                    deferred.reject(err);\r\n                });\r\n            }\r\n        }\n\n        return deferred.promise;\r\n    };\n\n    var _obtainAccessToken = function (externalData) {\r\n\n        var deferred = $q.defer();\n\n        $http.get(serviceBase + 'api/account/ObtainLocalAccessToken', { params: { provider: externalData.provider, externalAccessToken: externalData.externalAccessToken } }).success(function (response) {\r\n\n            localStorageService.set('authorizationData', { token: response.access_token, userName: response.userName, refreshToken: \"\", useRefreshTokens: false });\n\n            _authentication.isAuth = true;\n            _authentication.userName = response.userName;\n            _authentication.useRefreshTokens = false;\n\n            deferred.resolve(response);\r\n\n        }).error(function (err, status) {\r\n            _logOut();\n            deferred.reject(err);\r\n        });\n\n        return deferred.promise;\r\n\n    };\n\n    var _registerExternal = function (registerExternalData) {\r\n\n        var deferred = $q.defer();\n\n        $http.post(serviceBase + 'api/account/registerexternal', registerExternalData).success(function (response) {\r\n\n            localStorageService.set('authorizationData', { token: response.access_token, userName: response.userName, refreshToken: \"\", useRefreshTokens: false });\n\n            _authentication.isAuth = true;\n            _authentication.userName = response.userName;\n            _authentication.useRefreshTokens = false;\n\n            deferred.resolve(response);\r\n\n        }).error(function (err, status) {\r\n            _logOut();\n            deferred.reject(err);\r\n        });\n\n        return deferred.promise;\r\n\n    };\n\n    authServiceFactory.saveRegistration = _saveRegistration;\n    authServiceFactory.login = _login;\n    authServiceFactory.logOut = _logOut;\n    authServiceFactory.fillAuthData = _fillAuthData;\n    authServiceFactory.authentication = _authentication;\n    authServiceFactory.refreshToken = _refreshToken;\n\n    authServiceFactory.obtainAccessToken = _obtainAccessToken;\n    authServiceFactory.externalAuthData = _externalAuthData;\n    authServiceFactory.registerExternal = _registerExternal;\n\n    return authServiceFactory;\r\n}]);","'use strict';\napp.factory('tokensManagerService', ['$http','ngAuthSettings', 'dataService', function ($http, ngAuthSettings, dataService) {\n\n    var serviceBase = ngAuthSettings.apiServiceBaseUri;\n\n    dataService.getServerUrl().then(function (resource) {\r\n        serviceBase = resource.authenticationServerUrl;\r\n    });\n    \n    var tokenManagerServiceFactory = {};\n\n    var _getRefreshTokens = function () {\n\n        return $http.get(serviceBase + 'api/refreshtokens').then(function (results) {\n            return results;\n        });\n    };\n\n    var _deleteRefreshTokens = function (tokenid) {\n\n        return $http.delete(serviceBase + 'api/refreshtokens/?tokenid=' + tokenid).then(function (results) {\n            return results;\n        });\n    };\n\n    tokenManagerServiceFactory.deleteRefreshTokens = _deleteRefreshTokens;\n    tokenManagerServiceFactory.getRefreshTokens = _getRefreshTokens;\n\n    return tokenManagerServiceFactory;\n\n}]);","'use strict';\r\napp.controller('loginController', ['$scope', '$location', 'authService', 'ngAuthSettings', 'dataService', function ($scope, $location, authService, ngAuthSettings, dataService) {\r\n    var serviceBase = ngAuthSettings.apiServiceBaseUri;\n\n    dataService.getServerUrl().then(function (resource) {\r\n        serviceBase = resource.authenticationServerUrl;\r\n    });\r\n\r\n    $scope.loginData = {\r\n        userName: \"\",\r\n        password: \"\",\r\n        useRefreshTokens: false\r\n    };\r\n\r\n    $scope.message = \"\";\r\n\r\n    $scope.login = function () {\r\n        authService.login($scope.loginData).then(function (response) {\r\n            dataService.getLoggedInUser().then(function (data) {\r\n                if (!data.email) {\r\n                    $location.path('/user-profile');\r\n                }\r\n                else {\r\n                    $location.path('/start');\r\n                }\r\n            });\r\n        },\r\n         function (err) {\r\n             $scope.message = err.error_description;\r\n         });\r\n    };\r\n\r\n    $scope.authExternalProvider = function (provider) {\r\n        var redirectUri = location.protocol + '//' + location.host + '/authcomplete.html';\n\n        var externalProviderUrl = serviceBase + \"api/Account/ExternalLogin?provider=\" + provider\n                                                                    + \"&response_type=token&client_id=\" + ngAuthSettings.clientId\n                                                                    + \"&redirect_uri=\" + redirectUri;\n        window.$windowScope = $scope;\n\n        var oauthWindow = window.open(externalProviderUrl, \"Authenticate Account\", \"location=0,status=0,width=600,height=750\");\r\n    };\r\n\r\n    $scope.authCompletedCB = function (fragment) {\r\n        $scope.$apply(function () {\r\n            if (fragment.haslocalaccount == 'False') {\r\n                authService.logOut();\n\n                authService.externalAuthData = {\r\n                    provider: fragment.provider,\n                    userName: fragment.external_user_name,\n                    externalAccessToken: fragment.external_access_token\r\n                };\n\n                $location.path('/associate');\r\n            }\n            else {\n                //Obtain access token and redirect to the start page.\n                var externalData = { provider: fragment.provider, externalAccessToken: fragment.external_access_token };\n                authService.obtainAccessToken(externalData).then(function (response) {\r\n                    $location.path('/start');\r\n\r\n                    $scope.$apply();\r\n                },\n             function (err) {\r\n                 $scope.message = err.error_description;\r\n             });\r\n            }\r\n        });\r\n    }\r\n\r\n    $(document).ready(function () {\r\n        $(\".player\").mb_YTPlayer();\r\n    });\r\n}]);","'use strict';\napp.controller('associateController', ['$scope', '$location','$timeout','authService', function ($scope, $location,$timeout, authService) {\n\n    $scope.savedSuccessfully = false;\n    $scope.message = \"\";\n\n    $scope.registerData = {\n        userName: authService.externalAuthData.userName,\n        provider: authService.externalAuthData.provider,\n        externalAccessToken: authService.externalAuthData.externalAccessToken\n    };\n\n    $scope.registerExternal = function () {\n\n        authService.registerExternal($scope.registerData).then(function (response) {\n\n            $scope.savedSuccessfully = true;\n            $scope.message = \"User has been registered successfully, you will be redicted to start page in 2 seconds.\";\n            startTimer();\n\n        },\n          function (response) {\n              var errors = [];\n              for (var key in response.modelState) {\n                  errors.push(response.modelState[key]);\n              }\n              $scope.message = \"Failed to register user due to:\" + errors.join(' ');\n          });\n    };\n\n    var startTimer = function () {\n        var timer = $timeout(function () {\n            $timeout.cancel(timer);\n            $location.path('/start');\n        }, 2000);\n    }\n\n}]);","'use strict';\napp.controller('refreshController', ['$scope', '$location', 'authService', function ($scope, $location, authService) {\n\n    $scope.authentication = authService.authentication;\n    $scope.tokenRefreshed = false;\n    $scope.tokenResponse = null;\n\n    $scope.refreshToken = function () {\n\n        authService.refreshToken().then(function (response) {\n            $scope.tokenRefreshed = true;\n            $scope.tokenResponse = response;\n        },\n         function (err) {\n             $location.path('/login');\n         });\n    };\n\n}]);","'use strict';\napp.controller('tokensManagerController', ['$scope', 'tokensManagerService', function ($scope, tokensManagerService) {\n\n    $scope.refreshTokens = [];\n\n    tokensManagerService.getRefreshTokens().then(function (results) {\n\n        $scope.refreshTokens = results.data;\n\n    }, function (error) {\n        alert(error.data.message);\n    });\n\n    $scope.deleteRefreshTokens = function (index, tokenid) {\n\n        tokenid = window.encodeURIComponent(tokenid);\n\n        tokensManagerService.deleteRefreshTokens(tokenid).then(function (results) {\n\n            $scope.refreshTokens.splice(index, 1);\n\n        }, function (error) {\n            alert(error.data.message);\n        });\n    }\n\n}]);","(function () {\r\n    'use strict';\r\n\r\n    app.controller('signupController', signupController);\r\n\r\n    signupController.$inject = ['$scope', '$location', '$timeout', 'authService'];\r\n\r\n    function signupController($scope, $location, $timeout, authService) {\r\n\r\n        $scope.savedSuccessfully = false;\r\n        $scope.message = \"\";\r\n\r\n        $scope.registration = {\r\n            userName: \"\",\r\n            password: \"\",\r\n            confirmPassword: \"\"\r\n        };\r\n\r\n        $scope.signUp = function () {\r\n\r\n            authService.saveRegistration($scope.registration).then(function (response) {\r\n\r\n                $scope.savedSuccessfully = true;\r\n                $scope.message = \"User has been registered successfully, you will be redicted to login page in 2 seconds.\";\r\n                startTimer();\r\n\r\n            },\r\n             function (response) {\r\n                 var errors = [];\r\n                 for (var key in response.data.modelState) {\r\n                     for (var i = 0; i < response.data.modelState[key].length; i++) {\r\n                         errors.push(response.data.modelState[key][i]);\r\n                     }\r\n                 }\r\n                 $scope.message = \"Failed to register user due to:\" + errors.join(' ');\r\n             });\r\n        };\r\n\r\n        var startTimer = function () {\r\n            var timer = $timeout(function () {\r\n                $timeout.cancel(timer);\r\n                $location.path('/login');\r\n            }, 2000);\r\n        }\r\n\r\n        $(document).ready(function () {\r\n\r\n            $(\".player\").mb_YTPlayer();\r\n\r\n        });\r\n\r\n    }\r\n})();","(function () {\r\n    'use strict';\r\n\r\n    app.factory('dataService', dataService);\r\n\r\n    dataService.$inject = ['$http', '$log', '$resource', '$q'];\r\n\r\n    function dataService($http, $log, $resource, $q) {\r\n        var deferred = $q.defer();\r\n\r\n        var serverUrl = {\r\n            resourceServerUrl: '',\r\n            authenticationServerUrl: ''\r\n        };\r\n\r\n        var votesApiUrl = 'api/votesApi';\r\n        var categoriesApiUrl = 'api/categoriesApi';\r\n        var citiesApiUrl = 'api/citiesApi';\r\n        var nationalitiesApiUrl = 'api/nationalitiesApi';\r\n        var newslettersApiUrl = 'api/newslettersApi';\r\n        var usersApiUrl = 'api/usersApi';\r\n        var locationsApiUrl = 'api/locationsApi';\r\n        var thingsApiUrl = 'api/thingsApi';\r\n        var me2ApiUrl = 'api/me2Api';\r\n        var cityNotificationsApiUrl = 'api/cityNotificationsApi';\r\n        var nationalityNotificationsApiUrl = 'api/nationalityNotificationsApi';\r\n        var feedbackApiUrl = 'api/feedbackApi';\r\n        var statisticsApiUrl = 'api/statisticsApi';\r\n\r\n        var jumbotronVideoUrlSetting = {};\r\n\r\n        var service = {\r\n            getServerUrl: getServerUrl,\r\n            addOrUpdateThing: addOrUpdateThing,\r\n            getThings: getThings,\r\n            getThing: getThing,\r\n            getSetting: getSetting,\r\n            getMostMe2Things: getMostMe2Things,\r\n            getFoundThings: getFoundThings,\r\n            searchThings: searchThings,\r\n            searchThingsCount: searchThingsCount,\r\n            deleteThing: deleteThing,\r\n            getJumbotronVideoUrlSetting: getJumbotronVideoUrlSetting,\r\n            upVote: upVote,\r\n            downVote: downVote,\r\n            getFinding: getFinding,\r\n            addOrUpdateFinding: addOrUpdateFinding,\r\n            deleteFinding: deleteFinding,\r\n            getLocations: getLocations,\r\n            getLocation: getLocation,\r\n            searchLocations: searchLocations,\r\n            searchLocationsCount: searchLocationsCount,\r\n            addOrUpdateLocation: addOrUpdateLocation,\r\n            deleteLocation: deleteLocation,\r\n            getCategory: getCategory,\r\n            getCategories: getCategories,\r\n            searchCategories: searchCategories,\r\n            searchCategoriesCount: searchCategoriesCount,\r\n            addOrUpdateCategory: addOrUpdateCategory,\r\n            deleteCategory: deleteCategory,\r\n            getCity: getCity,\r\n            getCities: getCities,\r\n            searchCities: searchCities,\r\n            searchCitiesCount: searchCitiesCount,\r\n            addOrUpdateCity: addOrUpdateCity,\r\n            deleteCity: deleteCity,\r\n            getUser: getUser,\r\n            getUsers: getUsers,\r\n            searchUsers: searchUsers,\r\n            searchUsersCount: searchUsersCount,\r\n            addOrUpdateUser: addOrUpdateUser,\r\n            deleteUser: deleteUser,\r\n            getNationality: getNationality,\r\n            getNationalities: getNationalities,\r\n            searchNationalities: searchNationalities,\r\n            searchNationalitiesCount: searchNationalitiesCount,\r\n            addOrUpdateNationality: addOrUpdateNationality,\r\n            deleteNationality: deleteNationality,\r\n            syncUsers: syncUsers,\r\n            addOrUpdateMe2: addOrUpdateMe2,\r\n            getNewsletter: getNewsletter,\r\n            getNewsletters: getNewsletters,\r\n            searchNewsletters: searchNewsletters,\r\n            searchNewslettersCount: searchNewslettersCount,\r\n            addOrUpdateNewsletter: addOrUpdateNewsletter,\r\n            deleteNewsletter: deleteNewsletter,\r\n            sendNewsletter: sendNewsletter,\r\n            getNationalityNotification: getNationalityNotification,\r\n            getNationalityNotifications: getNationalityNotifications,\r\n            searchNationalityNotifications: searchNationalityNotifications,\r\n            searchNationalityNotificationsCount: searchNationalityNotificationsCount,\r\n            addOrUpdateNationalityNotification: addOrUpdateNationalityNotification,\r\n            deleteNationalityNotification: deleteNationalityNotification,\r\n            sendNationalityNotification: sendNationalityNotification,\r\n            getCityNotification: getCityNotification,\r\n            getCityNotifications: getCityNotifications,\r\n            searchCityNotifications: searchCityNotifications,\r\n            searchCityNotificationsCount: searchCityNotificationsCount,\r\n            addOrUpdateCityNotification: addOrUpdateCityNotification,\r\n            deleteCityNotification: deleteCityNotification,\r\n            sendCityNotification: sendCityNotification,\r\n            sendFeedback: sendFeedback,\r\n            getLoggedInUser: getLoggedInUser,\r\n            getNewThingsInPastWeekCount: getNewThingsInPastWeekCount,\r\n            getNewFindingsInPastWeekCount: getNewFindingsInPastWeekCount,\r\n            getTotalUsersCount: getTotalUsersCount,\r\n            getNewMe2sInPastWeekCount: getNewMe2sInPastWeekCount,\r\n            deleteImage: deleteImage\r\n        };\r\n\r\n        return service;\r\n\r\n        function getTotalUsersCount() {\r\n            return getServerUrl().then(function (resource) {\r\n                serverUrl = resource;\r\n\r\n                return $http.get(serverUrl.resourceServerUrl + statisticsApiUrl + '/getTotalUsersCount')\r\n                            .then(getTotalUsersCountComplete)\r\n                            .catch(getTotalUsersCountFailed);\r\n\r\n                function getTotalUsersCountComplete(response) {\r\n                    return response.data;\r\n                }\r\n\r\n                function getTotalUsersCountFailed(error) {\r\n                    $log.error('XHR failed for getTotalUsersCountFailed.' + error.data.message + ': ' + (error.data.messageDetail || error.data.exceptionMessage));\r\n                }\r\n            });\r\n        }\r\n\r\n        function getNewFindingsInPastWeekCount() {\r\n            return getServerUrl().then(function (resource) {\r\n                serverUrl = resource;\r\n\r\n                return $http.get(serverUrl.resourceServerUrl + statisticsApiUrl + '/getNewFindingsInPastWeekCount')\r\n                            .then(getNewFindingsInPastWeekCountComplete)\r\n                            .catch(getNewFindingsInPastWeekCountFailed);\r\n\r\n                function getNewFindingsInPastWeekCountComplete(response) {\r\n                    return response.data;\r\n                }\r\n\r\n                function getNewFindingsInPastWeekCountFailed(error) {\r\n                    $log.error('XHR failed for getNewFindingsInPastWeekCountFailed.' + error.data.message + ': ' + (error.data.messageDetail || error.data.exceptionMessage));\r\n                }\r\n            });\r\n        }\r\n\r\n        function getNewThingsInPastWeekCount() {\r\n            return getServerUrl().then(function (resource) {\r\n                serverUrl = resource;\r\n\r\n                return $http.get(serverUrl.resourceServerUrl + statisticsApiUrl + '/getNewThingsInPastWeekCount')\r\n                            .then(getNewThingsInPastWeekCountComplete)\r\n                            .catch(getNewThingsInPastWeekCountFailed);\r\n\r\n                function getNewThingsInPastWeekCountComplete(response) {\r\n                    return response.data;\r\n                }\r\n\r\n                function getNewThingsInPastWeekCountFailed(error) {\r\n                    $log.error('XHR failed for getNewThingsInPastWeekCountFailed.' + error.data.message + ': ' + (error.data.messageDetail || error.data.exceptionMessage));\r\n                }\r\n            });\r\n        }\r\n\r\n        function getNewMe2sInPastWeekCount() {\r\n            return getServerUrl().then(function (resource) {\r\n                serverUrl = resource;\r\n\r\n                return $http.get(serverUrl.resourceServerUrl + statisticsApiUrl + '/getNewMe2sInPastWeekCount')\r\n                            .then(getNewMe2sInPastWeekCountComplete)\r\n                            .catch(getNewMe2sInPastWeekCountFailed);\r\n\r\n                function getNewMe2sInPastWeekCountComplete(response) {\r\n                    return response.data;\r\n                }\r\n\r\n                function getNewMe2sInPastWeekCountFailed(error) {\r\n                    $log.error('XHR failed for getNewMe2sInPastWeekCountFailed.' + error.data.message + ': ' + (error.data.messageDetail || error.data.exceptionMessage));\r\n                }\r\n            });\r\n        }\r\n\r\n        function getLoggedInUser() {\r\n            return getServerUrl().then(function (resource) {\r\n                serverUrl = resource;\r\n\r\n                return $http.get(serverUrl.resourceServerUrl + usersApiUrl + '/getloggedinuser', { cache: true })\r\n                            .then(getLoggedInUserComplete)\r\n                            .catch(getLoggedInUserFailed);\r\n\r\n                function getLoggedInUserComplete(response) {\r\n                    return response.data;\r\n                }\r\n\r\n                function getLoggedInUserFailed(error) {\r\n                    $log.error('XHR failed for getLoggedInUserFailed.' + error.data.message + ': ' + (error.data.messageDetail || error.data.exceptionMessage));\r\n                }\r\n            });\r\n        }\r\n\r\n        function sendFeedback(feedback) {\r\n            return getServerUrl().then(function (resource) {\r\n                serverUrl = resource;\r\n\r\n                return $http.post(serverUrl.resourceServerUrl + feedbackApiUrl + '/sendfeedback', feedback)\r\n                            .then(sendFeedbackComplete)\r\n                            .catch(sendFeedbackFailed);\r\n\r\n                function sendFeedbackComplete(response) {\r\n                    return response.data;\r\n                }\r\n\r\n                function sendFeedbackFailed(error) {\r\n                    $log.error('XHR failed for sendFeedbackFailed.' + error.data.message + ': ' + (error.data.messageDetail || error.data.exceptionMessage));\r\n                }\r\n            });\r\n        }\r\n\r\n        function getCityNotification(cityNotificationId) {\r\n            return getServerUrl().then(function (resource) {\r\n                serverUrl = resource;\r\n\r\n                return $http.get(serverUrl.resourceServerUrl + cityNotificationsApiUrl + '/' + cityNotificationId)\r\n                            .then(getCityNotificationComplete)\r\n                            .catch(getCityNotificationFailed);\r\n\r\n                function getCityNotificationComplete(response) {\r\n                    return response.data;\r\n                }\r\n\r\n                function getCityNotificationFailed(error) {\r\n                    $log.error('XHR failed for getCityNotification.' + error.data.message + ': ' + (error.data.messageDetail || error.data.exceptionMessage));\r\n                }\r\n            });\r\n        }\r\n\r\n        function sendCityNotification(cityNotification) {\r\n            return getServerUrl().then(function (resource) {\r\n                serverUrl = resource;\r\n\r\n                return $http.post(serverUrl.resourceServerUrl + cityNotificationsApiUrl + '/send', cityNotification)\r\n                            .then(sendCityNotificationsComplete)\r\n                            .catch(sendCityNotificationsFailed);\r\n\r\n                function sendCityNotificationsComplete(response) {\r\n                    return response.data;\r\n                }\r\n\r\n                function sendCityNotificationsFailed(error) {\r\n                    $log.error('XHR failed for getCityNotifications.' + error.data.message + ': ' + (error.data.messageDetail || error.data.exceptionMessage));\r\n                }\r\n            });\r\n        }\r\n\r\n        function getCityNotifications() {\r\n            return getServerUrl().then(function (resource) {\r\n                serverUrl = resource;\r\n\r\n                return $http.get(serverUrl.resourceServerUrl + cityNotificationsApiUrl)\r\n                            .then(getCityNotificationsComplete)\r\n                            .catch(getCityNotificationsFailed);\r\n\r\n                function getCityNotificationsComplete(response) {\r\n                    return response.data;\r\n                }\r\n\r\n                function getCityNotificationsFailed(error) {\r\n                    $log.error('XHR failed for getCityNotifications.' + error.data.message + ': ' + (error.data.messageDetail || error.data.exceptionMessage));\r\n                }\r\n            });\r\n        }\r\n\r\n        function searchCityNotifications(searchCriteria) {\r\n            return getServerUrl().then(function (resource) {\r\n                serverUrl = resource;\r\n\r\n                return $http.post(serverUrl.resourceServerUrl + cityNotificationsApiUrl + '/search', searchCriteria)\r\n                            .then(searchCityNotificationsComplete)\r\n                            .catch(searchCityNotificationsFailed);\r\n\r\n                function searchCityNotificationsComplete(response) {\r\n                    return response.data;\r\n                }\r\n\r\n                function searchCityNotificationsFailed(error) {\r\n                    $log.error('XHR failed for searchCityNotifications.' + error.data.message + ': ' + (error.data.messageDetail || error.data.exceptionMessage));\r\n                }\r\n            });\r\n        }\r\n\r\n        function searchCityNotificationsCount(searchCriteria) {\r\n            return getServerUrl().then(function (resource) {\r\n                serverUrl = resource;\r\n\r\n                return $http.post(serverUrl.resourceServerUrl + cityNotificationsApiUrl + '/search/count', searchCriteria)\r\n                            .then(searchCityNotificationsCountComplete)\r\n                            .catch(searchCityNotificationsCountFailed);\r\n\r\n                function searchCityNotificationsCountComplete(response) {\r\n                    return response.data;\r\n                }\r\n\r\n                function searchCityNotificationsCountFailed(error) {\r\n                    $log.error('XHR failed for searchCityNotifications.' + error.data.message + ': ' + (error.data.messageDetail || error.data.exceptionMessage));\r\n                }\r\n            });\r\n        }\r\n\r\n        function addOrUpdateCityNotification(cityNotification) {\r\n            return getServerUrl().then(function (resource) {\r\n                serverUrl = resource;\r\n\r\n                return $http.post(serverUrl.resourceServerUrl + cityNotificationsApiUrl, cityNotification)\r\n                            .then(addOrUpdateCityNotificationComplete)\r\n                            .catch(addOrUpdateCityNotificationFailed);\r\n\r\n                function addOrUpdateCityNotificationComplete(response) {\r\n                    return response.data;\r\n                }\r\n\r\n                function addOrUpdateCityNotificationFailed(error) {\r\n                    $log.error('XHR failed for saveCityNotification.' + error.data.message + ': ' + (error.data.messageDetail || error.data.exceptionMessage));\r\n                }\r\n            });\r\n        }\r\n\r\n        function deleteCityNotification(cityNotificationId) {\r\n            return getServerUrl().then(function (resource) {\r\n                serverUrl = resource;\r\n\r\n                return $http.delete(serverUrl.resourceServerUrl + cityNotificationsApiUrl + '/' + cityNotificationId)\r\n                            .then(deleteCityNotificationComplete)\r\n                            .catch(deleteCityNotificationFailed);\r\n\r\n                function deleteCityNotificationComplete(response) {\r\n                    return response.data;\r\n                }\r\n\r\n                function deleteCityNotificationFailed(error) {\r\n                    $log.error('XHR failed for deleteCityNotification.' + error.data.message + ': ' + (error.data.messageDetail || error.data.exceptionMessage));\r\n                }\r\n            });\r\n        }\r\n\r\n        function getNationalityNotification(nationalityNotificationId) {\r\n            return getServerUrl().then(function (resource) {\r\n                serverUrl = resource;\r\n\r\n                return $http.get(serverUrl.resourceServerUrl + nationalityNotificationsApiUrl + '/' + nationalityNotificationId)\r\n                            .then(getNationalityNotificationComplete)\r\n                            .catch(getNationalityNotificationFailed);\r\n\r\n                function getNationalityNotificationComplete(response) {\r\n                    return response.data;\r\n                }\r\n\r\n                function getNationalityNotificationFailed(error) {\r\n                    $log.error('XHR failed for getNationalityNotification.' + error.data.message + ': ' + (error.data.messageDetail || error.data.exceptionMessage));\r\n                }\r\n            });\r\n        }\r\n\r\n        function sendNationalityNotification(nationalityNotification) {\r\n            return getServerUrl().then(function (resource) {\r\n                serverUrl = resource;\r\n\r\n                return $http.post(serverUrl.resourceServerUrl + nationalityNotificationsApiUrl + '/send', nationalityNotification)\r\n                            .then(sendNationalityNotificationsComplete)\r\n                            .catch(sendNationalityNotificationsFailed);\r\n\r\n                function sendNationalityNotificationsComplete(response) {\r\n                    return response.data;\r\n                }\r\n\r\n                function sendNationalityNotificationsFailed(error) {\r\n                    $log.error('XHR failed for getNationalityNotifications.' + error.data.message + ': ' + (error.data.messageDetail || error.data.exceptionMessage));\r\n                }\r\n            });\r\n        }\r\n\r\n        function getNationalityNotifications() {\r\n            return getServerUrl().then(function (resource) {\r\n                serverUrl = resource;\r\n\r\n                return $http.get(serverUrl.resourceServerUrl + nationalityNotificationsApiUrl)\r\n                            .then(getNationalityNotificationsComplete)\r\n                            .catch(getNationalityNotificationsFailed);\r\n\r\n                function getNationalityNotificationsComplete(response) {\r\n                    return response.data;\r\n                }\r\n\r\n                function getNationalityNotificationsFailed(error) {\r\n                    $log.error('XHR failed for getNationalityNotifications.' + error.data.message + ': ' + (error.data.messageDetail || error.data.exceptionMessage));\r\n                }\r\n            });\r\n        }\r\n\r\n        function searchNationalityNotifications(searchCriteria) {\r\n            return getServerUrl().then(function (resource) {\r\n                serverUrl = resource;\r\n\r\n                return $http.post(serverUrl.resourceServerUrl + nationalityNotificationsApiUrl + '/search', searchCriteria)\r\n                            .then(searchNationalityNotificationsComplete)\r\n                            .catch(searchNationalityNotificationsFailed);\r\n\r\n                function searchNationalityNotificationsComplete(response) {\r\n                    return response.data;\r\n                }\r\n\r\n                function searchNationalityNotificationsFailed(error) {\r\n                    $log.error('XHR failed for searchNationalityNotifications.' + error.data.message + ': ' + (error.data.messageDetail || error.data.exceptionMessage));\r\n                }\r\n            });\r\n        }\r\n\r\n        function searchNationalityNotificationsCount(searchCriteria) {\r\n            return getServerUrl().then(function (resource) {\r\n                serverUrl = resource;\r\n\r\n                return $http.post(serverUrl.resourceServerUrl + nationalityNotificationsApiUrl + '/search/count', searchCriteria)\r\n                            .then(searchNationalityNotificationsCountComplete)\r\n                            .catch(searchNationalityNotificationsCountFailed);\r\n\r\n                function searchNationalityNotificationsCountComplete(response) {\r\n                    return response.data;\r\n                }\r\n\r\n                function searchNationalityNotificationsCountFailed(error) {\r\n                    $log.error('XHR failed for searchNationalityNotifications.' + error.data.message + ': ' + (error.data.messageDetail || error.data.exceptionMessage));\r\n                }\r\n            });\r\n        }\r\n\r\n        function addOrUpdateNationalityNotification(nationalityNotification) {\r\n            return getServerUrl().then(function (resource) {\r\n                serverUrl = resource;\r\n\r\n                return $http.post(serverUrl.resourceServerUrl + nationalityNotificationsApiUrl, nationalityNotification)\r\n                            .then(addOrUpdateNationalityNotificationComplete)\r\n                            .catch(addOrUpdateNationalityNotificationFailed);\r\n\r\n                function addOrUpdateNationalityNotificationComplete(response) {\r\n                    return response.data;\r\n                }\r\n\r\n                function addOrUpdateNationalityNotificationFailed(error) {\r\n                    $log.error('XHR failed for saveNationalityNotification.' + error.data.message + ': ' + (error.data.messageDetail || error.data.exceptionMessage));\r\n                }\r\n            });\r\n        }\r\n\r\n        function deleteNationalityNotification(nationalityNotificationId) {\r\n            return getServerUrl().then(function (resource) {\r\n                serverUrl = resource;\r\n\r\n                return $http.delete(serverUrl.resourceServerUrl + nationalityNotificationsApiUrl + '/' + nationalityNotificationId)\r\n                            .then(deleteNationalityNotificationComplete)\r\n                            .catch(deleteNationalityNotificationFailed);\r\n\r\n                function deleteNationalityNotificationComplete(response) {\r\n                    return response.data;\r\n                }\r\n\r\n                function deleteNationalityNotificationFailed(error) {\r\n                    $log.error('XHR failed for deleteNationalityNotification.' + error.data.message + ': ' + (error.data.messageDetail || error.data.exceptionMessage));\r\n                }\r\n            });\r\n        }\r\n\r\n        function addOrUpdateMe2(me2) {\r\n            return getServerUrl().then(function (resource) {\r\n                serverUrl = resource;\r\n\r\n                return $http.post(serverUrl.resourceServerUrl + me2ApiUrl, me2)\r\n                            .then(addOrUpdateMe2Complete)\r\n                            .catch(addOrUpdateMe2Failed);\r\n\r\n                function addOrUpdateMe2Complete(response) {\r\n                    return response.data;\r\n                }\r\n\r\n                function addOrUpdateMe2Failed(error) {\r\n                    $log.error('XHR failed for addOrUpdateMe2.' + error.data.message + ': ' + (error.data.messageDetail || error.data.exceptionMessage));\r\n                }\r\n            });\r\n        }\r\n\r\n        function getCategory(categoryId) {\r\n            return getServerUrl().then(function (resource) {\r\n                serverUrl = resource;\r\n\r\n                return $http.get(serverUrl.resourceServerUrl + categoriesApiUrl + '/' + categoryId)\r\n                            .then(getCategoryComplete)\r\n                            .catch(getCategoryFailed);\r\n\r\n                function getCategoryComplete(response) {\r\n                    return response.data;\r\n                }\r\n\r\n                function getCategoryFailed(error) {\r\n                    $log.error('XHR failed for getCategory.' + error.data.message + ': ' + (error.data.messageDetail || error.data.exceptionMessage));\r\n                }\r\n            });\r\n        }\r\n\r\n        function getCategories() {\r\n            return getServerUrl().then(function (resource) {\r\n                serverUrl = resource;\r\n\r\n                return $http.get(serverUrl.resourceServerUrl + categoriesApiUrl)\r\n                            .then(getCategoriesComplete)\r\n                            .catch(getCategoriesFailed);\r\n\r\n                function getCategoriesComplete(response) {\r\n                    return response.data;\r\n                }\r\n\r\n                function getCategoriesFailed(error) {\r\n                    $log.error('XHR failed for getCategories.' + error.data.message + ': ' + (error.data.messageDetail || error.data.exceptionMessage));\r\n                }\r\n            });\r\n        }\r\n\r\n        function searchCategories(searchCriteria) {\r\n            return getServerUrl().then(function (resource) {\r\n                serverUrl = resource;\r\n\r\n                return $http.post(serverUrl.resourceServerUrl + categoriesApiUrl + '/search', searchCriteria)\r\n                            .then(searchCategoriesComplete)\r\n                            .catch(searchCategoriesFailed);\r\n\r\n                function searchCategoriesComplete(response) {\r\n                    return response.data;\r\n                }\r\n\r\n                function searchCategoriesFailed(error) {\r\n                    $log.error('XHR failed for searchCategories.' + error.data.message + ': ' + (error.data.messageDetail || error.data.exceptionMessage));\r\n                }\r\n            });\r\n        }\r\n\r\n        function searchCategoriesCount(searchCriteria) {\r\n            return getServerUrl().then(function (resource) {\r\n                serverUrl = resource;\r\n\r\n                return $http.post(serverUrl.resourceServerUrl + categoriesApiUrl + '/search/count', searchCriteria)\r\n                            .then(searchCategoriesCountComplete)\r\n                            .catch(searchCategoriesCountFailed);\r\n\r\n                function searchCategoriesCountComplete(response) {\r\n                    return response.data;\r\n                }\r\n\r\n                function searchCategoriesCountFailed(error) {\r\n                    $log.error('XHR failed for searchCategories.' + error.data.message + ': ' + (error.data.messageDetail || error.data.exceptionMessage));\r\n                }\r\n            });\r\n        }\r\n\r\n        function addOrUpdateCategory(category) {\r\n            return getServerUrl().then(function (resource) {\r\n                serverUrl = resource;\r\n\r\n                return $http.post(serverUrl.resourceServerUrl + categoriesApiUrl, category)\r\n                            .then(addOrUpdateCategoryComplete)\r\n                            .catch(addOrUpdateCategoryFailed);\r\n\r\n                function addOrUpdateCategoryComplete(response) {\r\n                    return response.data;\r\n                }\r\n\r\n                function addOrUpdateCategoryFailed(error) {\r\n                    $log.error('XHR failed for saveCategory.' + error.data.message + ': ' + (error.data.messageDetail || error.data.exceptionMessage));\r\n                }\r\n            });\r\n        }\r\n\r\n        function deleteCategory(categoryId) {\r\n            return getServerUrl().then(function (resource) {\r\n                serverUrl = resource;\r\n\r\n                return $http.delete(serverUrl.resourceServerUrl + categoriesApiUrl + '/' + categoryId)\r\n                            .then(deleteCategoryComplete)\r\n                            .catch(deleteCategoryFailed);\r\n\r\n                function deleteCategoryComplete(response) {\r\n                    return response.data;\r\n                }\r\n\r\n                function deleteCategoryFailed(error) {\r\n                    $log.error('XHR failed for deleteCategory.' + error.data.message + ': ' + (error.data.messageDetail || error.data.exceptionMessage));\r\n                }\r\n            });\r\n        }\r\n\r\n        function getCity(cityId) {\r\n            return getServerUrl().then(function (resource) {\r\n                serverUrl = resource;\r\n\r\n                return $http.get(serverUrl.resourceServerUrl + citiesApiUrl + '/' + cityId)\r\n                            .then(getCityComplete)\r\n                            .catch(getCityFailed);\r\n\r\n                function getCityComplete(response) {\r\n                    return response.data;\r\n                }\r\n\r\n                function getCityFailed(error) {\r\n                    $log.error('XHR failed for getCity.' + error.data.message + ': ' + (error.data.messageDetail || error.data.exceptionMessage));\r\n                }\r\n            });\r\n        }\r\n\r\n        function getCities() {\r\n            return getServerUrl().then(function (resource) {\r\n                serverUrl = resource;\r\n\r\n                return $http.get(serverUrl.resourceServerUrl + citiesApiUrl, { cache: true })\r\n                            .then(getCitiesComplete)\r\n                            .catch(getCitiesFailed);\r\n\r\n                function getCitiesComplete(response) {\r\n                    return response.data;\r\n                }\r\n\r\n                function getCitiesFailed(error) {\r\n                    $log.error('XHR failed for getCities.' + error.data.message + ': ' + (error.data.messageDetail || error.data.exceptionMessage));\r\n                }\r\n            });\r\n        }\r\n\r\n        function searchCities(searchCriteria) {\r\n            return getServerUrl().then(function (resource) {\r\n                serverUrl = resource;\r\n\r\n                return $http.post(serverUrl.resourceServerUrl + citiesApiUrl + '/search', searchCriteria)\r\n                            .then(searchCitiesComplete)\r\n                            .catch(searchCitiesFailed);\r\n\r\n                function searchCitiesComplete(response) {\r\n                    return response.data;\r\n                }\r\n\r\n                function searchCitiesFailed(error) {\r\n                    $log.error('XHR failed for searchCities.' + error.data.message + ': ' + (error.data.messageDetail || error.data.exceptionMessage));\r\n                }\r\n            });\r\n        }\r\n\r\n        function searchCitiesCount(searchCriteria) {\r\n            return getServerUrl().then(function (resource) {\r\n                serverUrl = resource;\r\n\r\n                return $http.post(serverUrl.resourceServerUrl + citiesApiUrl + '/search/count', searchCriteria)\r\n                            .then(searchCitiesCountComplete)\r\n                            .catch(searchCitiesCountFailed);\r\n\r\n                function searchCitiesCountComplete(response) {\r\n                    return response.data;\r\n                }\r\n\r\n                function searchCitiesCountFailed(error) {\r\n                    $log.error('XHR failed for searchCities.' + error.data.message + ': ' + (error.data.messageDetail || error.data.exceptionMessage));\r\n                }\r\n            });\r\n        }\r\n\r\n        function addOrUpdateCity(city) {\r\n            return getServerUrl().then(function (resource) {\r\n                serverUrl = resource;\r\n\r\n                return $http.post(serverUrl.resourceServerUrl + citiesApiUrl, city)\r\n                            .then(addOrUpdateCityComplete)\r\n                            .catch(addOrUpdateCityFailed);\r\n\r\n                function addOrUpdateCityComplete(response) {\r\n                    return response.data;\r\n                }\r\n\r\n                function addOrUpdateCityFailed(error) {\r\n                    $log.error('XHR failed for saveCity.' + error.data.message + ': ' + (error.data.messageDetail || error.data.exceptionMessage));\r\n                }\r\n            });\r\n        }\r\n\r\n        function deleteCity(cityId) {\r\n            return getServerUrl().then(function (resource) {\r\n                serverUrl = resource;\r\n\r\n                return $http.delete(serverUrl.resourceServerUrl + citiesApiUrl + '/' + cityId)\r\n                            .then(deleteCityComplete)\r\n                            .catch(deleteCityFailed);\r\n\r\n                function deleteCityComplete(response) {\r\n                    return response.data;\r\n                }\r\n\r\n                function deleteCityFailed(error) {\r\n                    $log.error('XHR failed for deleteCity.' + error.data.message + ': ' + (error.data.messageDetail || error.data.exceptionMessage));\r\n                }\r\n            });\r\n        }\r\n\r\n        function getUser(userId) {\r\n            return getServerUrl().then(function (resource) {\r\n                serverUrl = resource;\r\n\r\n                return $http.get(serverUrl.resourceServerUrl + usersApiUrl + '/' + userId)\r\n                            .then(getUserComplete)\r\n                            .catch(getUserFailed);\r\n\r\n                function getUserComplete(response) {\r\n                    return response.data;\r\n                }\r\n\r\n                function getUserFailed(error) {\r\n                    $log.error('XHR failed for getUser.' + error.data.message + ': ' + (error.data.messageDetail || error.data.exceptionMessage));\r\n                }\r\n            });\r\n        }\r\n\r\n        function getUsers() {\r\n            return getServerUrl().then(function (resource) {\r\n                serverUrl = resource;\r\n\r\n                return $http.get(serverUrl.resourceServerUrl + usersApiUrl)\r\n                            .then(getUsersComplete)\r\n                            .catch(getUsersFailed);\r\n\r\n                function getUsersComplete(response) {\r\n                    return response.data;\r\n                }\r\n\r\n                function getUsersFailed(error) {\r\n                    $log.error('XHR failed for getUsers.' + error.data.message + ': ' + (error.data.messageDetail || error.data.exceptionMessage));\r\n                }\r\n            });\r\n        }\r\n\r\n        function searchUsers(searchCriteria) {\r\n            return getServerUrl().then(function (resource) {\r\n                serverUrl = resource;\r\n\r\n                return $http.post(serverUrl.resourceServerUrl + usersApiUrl + '/search', searchCriteria)\r\n                            .then(searchUsersComplete)\r\n                            .catch(searchUsersFailed);\r\n\r\n                function searchUsersComplete(response) {\r\n                    return response.data;\r\n                }\r\n\r\n                function searchUsersFailed(error) {\r\n                    $log.error('XHR failed for searchUsers.' + error.data.message + ': ' + (error.data.messageDetail || error.data.exceptionMessage));\r\n                }\r\n            });\r\n        }\r\n\r\n        function searchUsersCount(searchCriteria) {\r\n            return getServerUrl().then(function (resource) {\r\n                serverUrl = resource;\r\n\r\n                return $http.post(serverUrl.resourceServerUrl + usersApiUrl + '/search/count', searchCriteria)\r\n                            .then(searchUsersCountComplete)\r\n                            .catch(searchUsersCountFailed);\r\n\r\n                function searchUsersCountComplete(response) {\r\n                    return response.data;\r\n                }\r\n\r\n                function searchUsersCountFailed(error) {\r\n                    $log.error('XHR failed for searchUsers.' + error.data.message + ': ' + (error.data.messageDetail || error.data.exceptionMessage));\r\n                }\r\n            });\r\n        }\r\n\r\n        function addOrUpdateUser(user) {\r\n            return getServerUrl().then(function (resource) {\r\n                serverUrl = resource;\r\n\r\n                return $http.post(serverUrl.resourceServerUrl + usersApiUrl, user)\r\n                            .then(addOrUpdateUserComplete)\r\n                            .catch(addOrUpdateUserFailed);\r\n\r\n                function addOrUpdateUserComplete(response) {\r\n                    return response.data;\r\n                }\r\n\r\n                function addOrUpdateUserFailed(error) {\r\n                    $log.error('XHR failed for saveUser.' + error.data.message + ': ' + (error.data.messageDetail || error.data.exceptionMessage));\r\n                }\r\n            });\r\n        }\r\n\r\n        function deleteUser(userId) {\r\n            return getServerUrl().then(function (resource) {\r\n                serverUrl = resource;\r\n\r\n                return $http.delete(serverUrl.resourceServerUrl + usersApiUrl + '/' + userId)\r\n                            .then(deleteUserComplete)\r\n                            .catch(deleteUserFailed);\r\n\r\n                function deleteUserComplete(response) {\r\n                    return response.data;\r\n                }\r\n\r\n                function deleteUserFailed(error) {\r\n                    $log.error('XHR failed for deleteUser.' + error.data.message + ': ' + (error.data.messageDetail || error.data.exceptionMessage));\r\n                }\r\n            });\r\n        }\r\n\r\n        function syncUsers() {\r\n            return getServerUrl().then(function (resource) {\r\n                serverUrl = resource;\r\n\r\n                return $http.post(serverUrl.resourceServerUrl + usersApiUrl + '/syncUsers')\r\n                            .then(syncUsersComplete)\r\n                            .catch(syncUsersFailed);\r\n\r\n                function syncUsersComplete(response) {\r\n                    return response.data;\r\n                }\r\n\r\n                function syncUsersFailed(error) {\r\n                    $log.error('XHR failed for deleteUser.' + error.data.message + ': ' + (error.data.messageDetail || error.data.exceptionMessage));\r\n                }\r\n            });\r\n        }\r\n\r\n        function getNationality(nationalityId) {\r\n            return getServerUrl().then(function (resource) {\r\n                serverUrl = resource;\r\n\r\n                return $http.get(serverUrl.resourceServerUrl + nationalitiesApiUrl + '/' + nationalityId)\r\n                            .then(getNationalityComplete)\r\n                            .catch(getNationalityFailed);\r\n\r\n                function getNationalityComplete(response) {\r\n                    return response.data;\r\n                }\r\n\r\n                function getNationalityFailed(error) {\r\n                    $log.error('XHR failed for getNationality.' + error.data.message + ': ' + (error.data.messageDetail || error.data.exceptionMessage));\r\n                }\r\n            });\r\n        }\r\n\r\n        function getNationalities() {\r\n            return getServerUrl().then(function (resource) {\r\n                serverUrl = resource;\r\n\r\n                return $http.get(serverUrl.resourceServerUrl + nationalitiesApiUrl)\r\n                            .then(getNationalitiesComplete)\r\n                            .catch(getNationalitiesFailed);\r\n\r\n                function getNationalitiesComplete(response) {\r\n                    return response.data;\r\n                }\r\n\r\n                function getNationalitiesFailed(error) {\r\n                    $log.error('XHR failed for getNationalities.' + error.data.message + ': ' + (error.data.messageDetail || error.data.exceptionMessage));\r\n                }\r\n            });\r\n        }\r\n\r\n        function searchNationalities(searchCriteria) {\r\n            return getServerUrl().then(function (resource) {\r\n                serverUrl = resource;\r\n\r\n                return $http.post(serverUrl.resourceServerUrl + nationalitiesApiUrl + '/search', searchCriteria)\r\n                            .then(searchNationalitiesComplete)\r\n                            .catch(searchNationalitiesFailed);\r\n\r\n                function searchNationalitiesComplete(response) {\r\n                    return response.data;\r\n                }\r\n\r\n                function searchNationalitiesFailed(error) {\r\n                    $log.error('XHR failed for searchNationalities.' + error.data.message + ': ' + (error.data.messageDetail || error.data.exceptionMessage));\r\n                }\r\n            });\r\n        }\r\n\r\n        function searchNationalitiesCount(searchCriteria) {\r\n            return getServerUrl().then(function (resource) {\r\n                serverUrl = resource;\r\n\r\n                return $http.post(serverUrl.resourceServerUrl + nationalitiesApiUrl + '/search/count', searchCriteria)\r\n                            .then(searchNationalitiesCountComplete)\r\n                            .catch(searchNationalitiesCountFailed);\r\n\r\n                function searchNationalitiesCountComplete(response) {\r\n                    return response.data;\r\n                }\r\n\r\n                function searchNationalitiesCountFailed(error) {\r\n                    $log.error('XHR failed for searchNationalities.' + error.data.message + ': ' + (error.data.messageDetail || error.data.exceptionMessage));\r\n                }\r\n            });\r\n        }\r\n\r\n        function addOrUpdateNationality(nationality) {\r\n            return getServerUrl().then(function (resource) {\r\n                serverUrl = resource;\r\n\r\n                return $http.post(serverUrl.resourceServerUrl + nationalitiesApiUrl, nationality)\r\n                            .then(addOrUpdateNationalityComplete)\r\n                            .catch(addOrUpdateNationalityFailed);\r\n\r\n                function addOrUpdateNationalityComplete(response) {\r\n                    return response.data;\r\n                }\r\n\r\n                function addOrUpdateNationalityFailed(error) {\r\n                    $log.error('XHR failed for saveNationality.' + error.data.message + ': ' + (error.data.messageDetail || error.data.exceptionMessage));\r\n                }\r\n            });\r\n        }\r\n\r\n        function deleteNationality(nationalityId) {\r\n            return getServerUrl().then(function (resource) {\r\n                serverUrl = resource;\r\n\r\n                return $http.delete(serverUrl.resourceServerUrl + nationalitiesApiUrl + '/' + nationalityId)\r\n                            .then(deleteNationalityComplete)\r\n                            .catch(deleteNationalityFailed);\r\n\r\n                function deleteNationalityComplete(response) {\r\n                    return response.data;\r\n                }\r\n\r\n                function deleteNationalityFailed(error) {\r\n                    $log.error('XHR failed for deleteNationality.' + error.data.message + ': ' + (error.data.messageDetail || error.data.exceptionMessage));\r\n                }\r\n            });\r\n        }\r\n\r\n        function getNewsletter(newsletterId) {\r\n            return getServerUrl().then(function (resource) {\r\n                serverUrl = resource;\r\n\r\n                return $http.get(serverUrl.resourceServerUrl + newslettersApiUrl + '/' + newsletterId)\r\n                            .then(getNewsletterComplete)\r\n                            .catch(getNewsletterFailed);\r\n\r\n                function getNewsletterComplete(response) {\r\n                    return response.data;\r\n                }\r\n\r\n                function getNewsletterFailed(error) {\r\n                    $log.error('XHR failed for getNewsletter.' + error.data.message + ': ' + (error.data.messageDetail || error.data.exceptionMessage));\r\n                }\r\n            });\r\n        }\r\n\r\n        function sendNewsletter(newsletter) {\r\n            return getServerUrl().then(function (resource) {\r\n                serverUrl = resource;\r\n\r\n                return $http.post(serverUrl.resourceServerUrl + newslettersApiUrl + '/send', newsletter)\r\n                            .then(sendNewslettersComplete)\r\n                            .catch(sendNewslettersFailed);\r\n\r\n                function sendNewslettersComplete(response) {\r\n                    return response.data;\r\n                }\r\n\r\n                function sendNewslettersFailed(error) {\r\n                    $log.error('XHR failed for getNewsletters.' + error.data.message + ': ' + (error.data.messageDetail || error.data.exceptionMessage));\r\n                }\r\n            });\r\n        }\r\n\r\n        function getNewsletters() {\r\n            return getServerUrl().then(function (resource) {\r\n                serverUrl = resource;\r\n\r\n                return $http.get(serverUrl.resourceServerUrl + newslettersApiUrl)\r\n                            .then(getNewslettersComplete)\r\n                            .catch(getNewslettersFailed);\r\n\r\n                function getNewslettersComplete(response) {\r\n                    return response.data;\r\n                }\r\n\r\n                function getNewslettersFailed(error) {\r\n                    $log.error('XHR failed for getNewsletters.' + error.data.message + ': ' + (error.data.messageDetail || error.data.exceptionMessage));\r\n                }\r\n            });\r\n        }\r\n\r\n        function searchNewsletters(searchCriteria) {\r\n            return getServerUrl().then(function (resource) {\r\n                serverUrl = resource;\r\n\r\n                return $http.post(serverUrl.resourceServerUrl + newslettersApiUrl + '/search', searchCriteria)\r\n                            .then(searchNewslettersComplete)\r\n                            .catch(searchNewslettersFailed);\r\n\r\n                function searchNewslettersComplete(response) {\r\n                    return response.data;\r\n                }\r\n\r\n                function searchNewslettersFailed(error) {\r\n                    $log.error('XHR failed for searchNewsletters.' + error.data.message + ': ' + (error.data.messageDetail || error.data.exceptionMessage));\r\n                }\r\n            });\r\n        }\r\n\r\n        function searchNewslettersCount(searchCriteria) {\r\n            return getServerUrl().then(function (resource) {\r\n                serverUrl = resource;\r\n\r\n                return $http.post(serverUrl.resourceServerUrl + newslettersApiUrl + '/search/count', searchCriteria)\r\n                            .then(searchNewslettersCountComplete)\r\n                            .catch(searchNewslettersCountFailed);\r\n\r\n                function searchNewslettersCountComplete(response) {\r\n                    return response.data;\r\n                }\r\n\r\n                function searchNewslettersCountFailed(error) {\r\n                    $log.error('XHR failed for searchNewsletters.' + error.data.message + ': ' + (error.data.messageDetail || error.data.exceptionMessage));\r\n                }\r\n            });\r\n        }\r\n\r\n        function addOrUpdateNewsletter(newsletter) {\r\n            return getServerUrl().then(function (resource) {\r\n                serverUrl = resource;\r\n\r\n                return $http.post(serverUrl.resourceServerUrl + newslettersApiUrl, newsletter)\r\n                            .then(addOrUpdateNewsletterComplete)\r\n                            .catch(addOrUpdateNewsletterFailed);\r\n\r\n                function addOrUpdateNewsletterComplete(response) {\r\n                    return response.data;\r\n                }\r\n\r\n                function addOrUpdateNewsletterFailed(error) {\r\n                    $log.error('XHR failed for saveNewsletter.' + error.data.message + ': ' + (error.data.messageDetail || error.data.exceptionMessage));\r\n                }\r\n            });\r\n        }\r\n\r\n        function deleteNewsletter(newsletterId) {\r\n            return getServerUrl().then(function (resource) {\r\n                serverUrl = resource;\r\n\r\n                return $http.delete(serverUrl.resourceServerUrl + newslettersApiUrl + '/' + newsletterId)\r\n                            .then(deleteNewsletterComplete)\r\n                            .catch(deleteNewsletterFailed);\r\n\r\n                function deleteNewsletterComplete(response) {\r\n                    return response.data;\r\n                }\r\n\r\n                function deleteNewsletterFailed(error) {\r\n                    $log.error('XHR failed for deleteNewsletter.' + error.data.message + ': ' + (error.data.messageDetail || error.data.exceptionMessage));\r\n                }\r\n            });\r\n        }\r\n\r\n        function upVote(vote) {\r\n            return getServerUrl().then(function (resource) {\r\n                serverUrl = resource;\r\n\r\n                return $http.post(serverUrl.resourceServerUrl + votesApiUrl + '/upVote', vote)\r\n                            .then(upVoteComplete)\r\n                            .catch(upvoteFailed);\r\n\r\n                function upVoteComplete(response) {\r\n                    return response.data;\r\n                }\r\n\r\n                function upvoteFailed(error) {\r\n                    $log.error('XHR Failed for upVote.' + error.data.message + ': ' + (error.data.messageDetail || error.data.exceptionMessage));\r\n                }\r\n            });\r\n        }\r\n\r\n        function downVote(vote) {\r\n            return getServerUrl().then(function (resource) {\r\n                serverUrl = resource;\r\n\r\n                return $http.post(serverUrl.resourceServerUrl + votesApiUrl + '/downVote', vote)\r\n                            .then(downVoteComplete)\r\n                            .catch(downvoteFailed);\r\n\r\n                function downVoteComplete(response) {\r\n                    return response.data;\r\n                }\r\n\r\n                function downvoteFailed(error) {\r\n                    $log.error('XHR Failed for downVote.' + error.data.message + ': ' + (error.data.messageDetail || error.data.exceptionMessage));\r\n                }\r\n            });\r\n        }\r\n\r\n        function getServerUrl() {\r\n            $http.get('/api/bootstrapSettingsApi', { cache: true })\r\n                .success(function (response) {\r\n                    serverUrl.authenticationServerUrl = response.authenticationServerUrl;\r\n                    serverUrl.resourceServerUrl = response.resourceServerUrl;\r\n\r\n                    deferred.resolve(response);\r\n                })\r\n            .error(function (response, status, headers, config) {\r\n                deferred.reject(\"Error: request returned status \" + status);\r\n            });\r\n\r\n            return deferred.promise;\r\n        }\r\n\r\n        function getJumbotronVideoUrlSetting() {\r\n            return getServerUrl().then(function (resource) {\r\n                serverUrl = resource;\r\n                return $http.get(serverUrl.resourceServerUrl + 'api/settingsApi' + '/getJumbotronVideoUrlSetting', { cache: true })\r\n                            .then(getJumbotronVideoUrlSettingComplete)\r\n                            .catch(getJumbotronVideoUrlSettingFailed);\r\n\r\n                function getJumbotronVideoUrlSettingComplete(response) {\r\n                    jumbotronVideoUrlSetting = response.data;\r\n\r\n                    return response.data;\r\n                }\r\n\r\n                function getJumbotronVideoUrlSettingFailed(error) {\r\n                    $log.error('XHR Failed for getJumbotronVideoUrlSetting.' + error.data.message + ': ' + (error.data.messageDetail || error.data.exceptionMessage));\r\n                }\r\n            });\r\n        }\r\n\r\n        function searchThings(searchCriteria) {\r\n            return getServerUrl().then(function (resource) {\r\n                serverUrl = resource;\r\n\r\n                return $http.post(serverUrl.resourceServerUrl + thingsApiUrl + '/search', searchCriteria)\r\n                            .then(searchThingsComplete)\r\n                            .catch(searchThingsFailed);\r\n\r\n                function searchThingsComplete(response) {\r\n                    return response.data;\r\n                }\r\n\r\n                function searchThingsFailed(error) {\r\n                    $log.error('XHR failed for searchThings.' + error.data.message + ': ' + (error.data.messageDetail || error.data.exceptionMessage));\r\n                }\r\n            });\r\n        }\r\n\r\n        function searchThingsCount(searchCriteria) {\r\n            return getServerUrl().then(function (resource) {\r\n                serverUrl = resource;\r\n\r\n                return $http.post(serverUrl.resourceServerUrl + thingsApiUrl + '/search/count', searchCriteria)\r\n                            .then(searchThingsCountComplete)\r\n                            .catch(searchThingsCountFailed);\r\n\r\n                function searchThingsCountComplete(response) {\r\n                    return response.data;\r\n                }\r\n\r\n                function searchThingsCountFailed(error) {\r\n                    $log.error('XHR failed for searchThings.' + error.data.message + ': ' + (error.data.messageDetail || error.data.exceptionMessage));\r\n                }\r\n            });\r\n        }\r\n\r\n        function getLocations() {\r\n            return getServerUrl().then(function (resource) {\r\n                serverUrl = resource;\r\n\r\n                return $http.get(serverUrl.resourceServerUrl + 'api/locationsApi')\r\n                            .then(getLocationsComplete)\r\n                            .catch(getLocationsFailed);\r\n\r\n                function getLocationsComplete(response) {\r\n                    return response.data;\r\n                }\r\n\r\n                function getLocationsFailed(error) {\r\n                    $log.error('XHR failed for getLocations.' + error.data.message + ': ' + (error.data.messageDetail || error.data.exceptionMessage));\r\n                }\r\n            });\r\n        }\r\n\r\n        function getLocation(locationId) {\r\n            return getServerUrl().then(function (resource) {\r\n                serverUrl = resource;\r\n\r\n                return $http.get(serverUrl.resourceServerUrl + locationsApiUrl + '/' + locationId)\r\n                            .then(getLocationComplete)\r\n                            .catch(getLocationFailed);\r\n\r\n                function getLocationComplete(response) {\r\n                    return response.data;\r\n                }\r\n\r\n                function getLocationFailed(error) {\r\n                    $log.error('XHR failed for getLocation.' + error.data.message + ': ' + (error.data.messageDetail || error.data.exceptionMessage));\r\n                }\r\n            });\r\n        }\r\n\r\n        function searchLocations(searchCriteria) {\r\n            return getServerUrl().then(function (resource) {\r\n                serverUrl = resource;\r\n\r\n                return $http.post(serverUrl.resourceServerUrl + locationsApiUrl + '/search', searchCriteria)\r\n                            .then(searchLocationsComplete)\r\n                            .catch(searchLocationsFailed);\r\n\r\n                function searchLocationsComplete(response) {\r\n                    return response.data;\r\n                }\r\n\r\n                function searchLocationsFailed(error) {\r\n                    $log.error('XHR failed for searchLocations.' + error.data.message + ': ' + (error.data.messageDetail || error.data.exceptionMessage));\r\n                }\r\n            });\r\n        }\r\n\r\n        function searchLocationsCount(searchCriteria) {\r\n            return getServerUrl().then(function (resource) {\r\n                serverUrl = resource;\r\n\r\n                return $http.post(serverUrl.resourceServerUrl + locationsApiUrl + '/search/count', searchCriteria)\r\n                            .then(searchLocationsCountComplete)\r\n                            .catch(searchLocationsCountFailed);\r\n\r\n                function searchLocationsCountComplete(response) {\r\n                    return response.data;\r\n                }\r\n\r\n                function searchLocationsCountFailed(error) {\r\n                    $log.error('XHR failed for searchLocations.' + error.data.message + ': ' + (error.data.messageDetail || error.data.exceptionMessage));\r\n                }\r\n            });\r\n        }\r\n\r\n        function addOrUpdateLocation(location) {\r\n            return getServerUrl().then(function (resource) {\r\n                serverUrl = resource;\r\n\r\n                return $http.post(serverUrl.resourceServerUrl + locationsApiUrl, location)\r\n                            .then(addOrUpdateLocationComplete)\r\n                            .catch(addOrUpdateLocationFailed);\r\n\r\n                function addOrUpdateLocationComplete(response) {\r\n                    return response.data;\r\n                }\r\n\r\n                function addOrUpdateLocationFailed(error) {\r\n                    $log.error('XHR failed for saveLocation.' + error.data.message + ': ' + (error.data.messageDetail || error.data.exceptionMessage));\r\n                }\r\n            });\r\n        }\r\n\r\n        function deleteLocation(locationId) {\r\n            return getServerUrl().then(function (resource) {\r\n                serverUrl = resource;\r\n\r\n                return $http.delete(serverUrl.resourceServerUrl + locationsApiUrl + '/' + locationId)\r\n                            .then(deleteLocationComplete)\r\n                            .catch(deleteLocationFailed);\r\n\r\n                function deleteLocationComplete(response) {\r\n                    return response.data;\r\n                }\r\n\r\n                function deleteLocationFailed(error) {\r\n                    $log.error('XHR failed for deleteLocation.' + error.data.message + ': ' + (error.data.messageDetail || error.data.exceptionMessage));\r\n                }\r\n            });\r\n        }\r\n\r\n        function getFinding(findingId) {\r\n            return getServerUrl().then(function (resource) {\r\n                serverUrl = resource;\r\n\r\n                return $http.get(serverUrl.resourceServerUrl + 'api/findingsApi' + '/' + findingId)\r\n                            .then(getFindingComplete)\r\n                            .catch(getFindingFailed);\r\n\r\n                function getFindingComplete(response) {\r\n                    return response.data;\r\n                }\r\n\r\n                function getFindingFailed(error) {\r\n                    $log.error('XHR failed for getFindings.' + error.data.message + ': ' + (error.data.messageDetail || error.data.exceptionMessage));\r\n                }\r\n            });\r\n        }\r\n\r\n        function addOrUpdateFinding(finding) {\r\n            return getServerUrl().then(function (resource) {\r\n                serverUrl = resource;\r\n\r\n                return $http.post(serverUrl.resourceServerUrl + 'api/findingsApi', finding)\r\n                    .then(saveFindingComplete)\r\n                    .catch(saveFindingFailed);\r\n\r\n                function saveFindingComplete(response) {\r\n                    return response.data;\r\n                }\r\n\r\n                function saveFindingFailed(error) {\r\n                    $log.error('XHR Failed for saveFinding.' + error.data.message + ': ' + (error.data.messageDetail || error.data.exceptionMessage));\r\n                }\r\n            });\r\n        }\r\n\r\n        function deleteFinding(findingId) {\r\n            return getServerUrl().then(function (resource) {\r\n                serverUrl = resource;\r\n\r\n                return $http.delete(serverUrl.resourceServerUrl + 'api/findingsApi' + '/' + findingId)\r\n                            .then(deleteFindingComplete)\r\n                            .catch(deleteFindingFailed);\r\n\r\n                function deleteFindingComplete(response) {\r\n                    return response.data;\r\n                }\r\n\r\n                function deleteFindingFailed(error) {\r\n                    $log.error('XHR failed for deleteFinding.' + error.data.message + ': ' + (error.data.messageDetail || error.data.exceptionMessage));\r\n                }\r\n            });\r\n        }\r\n\r\n        function getThings() {\r\n            return getServerUrl().then(function (resource) {\r\n                serverUrl = resource;\r\n\r\n                return $http.get(serverUrl.resourceServerUrl + thingsApiUrl)\r\n                            .then(getThingsComplete)\r\n                            .catch(getThingsFailed);\r\n\r\n                function getThingsComplete(response) {\r\n                    return response.data;\r\n                }\r\n\r\n                function getThingsFailed(error) {\r\n                    $log.error('XHR Failed for getThings.' + error.data.message + ': ' + (error.data.messageDetail || error.data.exceptionMessage));\r\n                }\r\n            });\r\n        }\r\n\r\n        function getThing(thingId) {\r\n            return getServerUrl().then(function (resource) {\r\n                serverUrl = resource;\r\n\r\n                return $http.get(serverUrl.resourceServerUrl + thingsApiUrl + '/' + thingId)\r\n                            .then(getThingComplete)\r\n                            .catch(getThingFailed);\r\n\r\n                function getThingComplete(response) {\r\n                    return response.data;\r\n                }\r\n\r\n                function getThingFailed(error) {\r\n                    $log.error('XHR Failed for getThing.' + error.data.message + ': ' + (error.data.messageDetail || error.data.exceptionMessage));\r\n                }\r\n            });\r\n        }\r\n\r\n        function getFoundThings() {\r\n            return getServerUrl().then(function (resource) {\r\n                serverUrl = resource;\r\n                return $http.get(serverUrl.resourceServerUrl + thingsApiUrl + '/getFoundThings')\r\n                            .then(getFoundThingsComplete)\r\n                            .catch(getFoundThingsFailed);\r\n\r\n                function getFoundThingsComplete(response) {\r\n                    return response.data;\r\n                }\r\n\r\n                function getFoundThingsFailed(error) {\r\n                    $log.error('XHR Failed for getFoundThings.' + error.data.message + ': ' + (error.data.messageDetail || error.data.exceptionMessage));\r\n                }\r\n            });\r\n        }\r\n\r\n        function getMostMe2Things() {\r\n            return getServerUrl().then(function (resource) {\r\n                serverUrl = resource;\r\n                return $http.get(serverUrl.resourceServerUrl + thingsApiUrl + '/getMostMe2Things', { cache: true })\r\n                            .then(getMostMe2ThingsComplete)\r\n                            .catch(getMostMe2ThingsFailed);\r\n\r\n                function getMostMe2ThingsComplete(response) {\r\n                    return response.data;\r\n                }\r\n\r\n                function getMostMe2ThingsFailed(error) {\r\n                    $log.error('XHR Failed for getMostMe2Things.' + error.data.message + ': ' + (error.data.messageDetail || error.data.exceptionMessage));\r\n                }\r\n            });\r\n        }\r\n\r\n        function addOrUpdateThing(thing) {\r\n            return getServerUrl().then(function (resource) {\r\n                serverUrl = resource;\r\n\r\n                return $http.post(serverUrl.resourceServerUrl + thingsApiUrl, thing)\r\n                    .then(saveThingComplete)\r\n                    .catch(saveThingFailed);\r\n\r\n                function saveThingComplete(response) {\r\n                    return response.data;\r\n                }\r\n\r\n                function saveThingFailed(error) {\r\n                    $log.error('XHR Failed for saveThing.' + error.data.message + ': ' + (error.data.messageDetail || error.data.exceptionMessage));\r\n                }\r\n            });\r\n        }\r\n\r\n        function deleteThing(thingId) {\r\n            return getServerUrl().then(function (resource) {\r\n                serverUrl = resource;\r\n\r\n                return $http.delete(serverUrl.resourceServerUrl + thingsApiUrl + '/' + thingId)\r\n                    .then(deleteThingComplete)\r\n                    .catch(deleteThingFailed);\r\n\r\n                function deleteThingComplete(response) {\r\n                    return response.data;\r\n                }\r\n\r\n                function deleteThingFailed(error) {\r\n                    $log.error('XHR Failed for deleteThing.' + error.data.message + ': ' + (error.data.messageDetail || error.data.exceptionMessage));\r\n                }\r\n            });\r\n        }\r\n\r\n        function getSetting(settingKey) {\r\n            return getServerUrl().then(function (resource) {\r\n                serverUrl = resource;\r\n                return $http.get(serverUrl.resourceServerUrl + 'api/settingsApi/' + settingKey)\r\n                            .then(getSettingComplete)\r\n                            .catch(getSettingFailed);\r\n\r\n                function getSettingComplete(response) {\r\n                    return response.data;\r\n                }\r\n\r\n                function getSettingFailed(error) {\r\n                    $log.error('XHR Failed for getSetting.' + error.data.message + ': ' + (error.data.messageDetail || error.data.exceptionMessage));\r\n                }\r\n            });\r\n        }\r\n\r\n        function addOrUpdateSetting(setting) {\r\n            return getServerUrl().then(function (resource) {\r\n                serverUrl = resource;\r\n\r\n                return $http.post(serverUrl.resourceServerUrl + 'api/settingsApi', setting)\r\n                            .then(addOrUpdateSettingComplete)\r\n                            .catch(addOrUpdateSettingFailed);\r\n\r\n                function addOrUpdateSettingComplete(response) {\r\n                    return response.data;\r\n                }\r\n\r\n                function addOrUpdateSettingFailed(error) {\r\n                    $log.error('XHR Failed for addOrUpdateSetting.' + error.data.message + ': ' + (error.data.messageDetail || error.data.exceptionMessage));\r\n                }\r\n            });\r\n        }\r\n\r\n        function deleteImage(imageId) {\r\n            return getServerUrl().then(function (resource) {\r\n                serverUrl = resource;\r\n\r\n                return $http.delete(serverUrl.resourceServerUrl + 'api/imagesApi/' + imageId)\r\n                            .then(deleteImageComplete)\r\n                            .catch(deleteImageFailed);\r\n\r\n                function deleteImageComplete(response) {\r\n                    return response.data;\r\n                }\r\n\r\n                function deleteImageFailed(error) {\r\n                    $log.error('XHR failed for deleteImage.' + error.data.message + ': ' + (error.data.messageDetail || error.data.exceptionMessage));\r\n                }\r\n            });\r\n        }\r\n    }\r\n})();","'use strict';\r\napp.factory('thingsService', ['$http', 'dataService', function ($http, dataService) {\r\n\r\n    //var serviceBase = '';\r\n\r\n    //dataService.getServerUrl().then(function (resource) {\r\n    //    serviceBase = resource.resourceServerUrl;\r\n    //});\r\n\r\n    var thingsServiceFactory = {};\r\n\r\n    //var _getFoundThings = function () {\r\n\r\n    //    var result = {\r\n    //        things: [\r\n    //            {\r\n    //                category: 'Furniture',\r\n    //                comments: [\r\n    //                    {\r\n    //                        date: '19 January 2015',\r\n    //                        name: 'hoolahoop12',\r\n    //                        commentText: \"This is great for cakes. $12!!\",\r\n    //                    },\r\n    //                ],\r\n    //                description: 'Leather couch',\r\n    //                findings: [\r\n    //                    {\r\n    //                        comments: [\r\n    //                            {\r\n    //                                date: '19 January 2015',\r\n    //                                finder: true,\r\n    //                                name: 'DoctorNoWho12',\r\n    //                                commentText: 'Finally found it.  After looking high and low I finally found a furniture store here that sells a futon that folds out to a bed AND the arm rests fold out.',\r\n    //                            },\r\n    //                        ],\r\n    //                        date: '19 January 2015',\r\n    //                        downVote: 23,\r\n    //                        location: 'FutonsRUs! 5 kleinstraat 4th district, Nijmegen, UAE 66778965',\r\n    //                        price: '$239.56',\r\n    //                        upVote: 1\r\n    //                    }\r\n    //                ],\r\n    //                found: true,\r\n    //                foundDate: '19 January 2015',\r\n    //                imageUrl: '/assets/example/bg_5.jpg',\r\n    //                me2: '4',\r\n    //                name: 'Black Futon!',\r\n    //                postedDate: '10 January 2015',\r\n    //            },\r\n    //            {\r\n    //                category: 'Furniture',\r\n    //                comments: [{}],\r\n    //                description: 'Leather couch',\r\n    //                findings: [\r\n    //                    {\r\n    //                        comments: [\r\n    //                            {\r\n    //                                date: '12/2/2014',\r\n    //                                finder: true,\r\n    //                                name: 'LesLion54',\r\n    //                                commentText: 'Some people were looking for this. I dont care for plain chocolate ice cream much but I found this at the local store.',\r\n    //                            },\r\n    //                        ],\r\n    //                        date: '12/2/2014',\r\n    //                        downVotes: 0,\r\n    //                        location: 'QueensGrocer 6 Grotestraat, Amesterdam, UAE',\r\n    //                        price: '$6.78',\r\n    //                        upcCode: null,\r\n    //                        upVotes: 20,\r\n    //                    }\r\n    //                ],\r\n    //                foundDate: '12/2/2014',\r\n    //                found: true,\r\n    //                imageUrl: '/assets/example/Walls-Selection-Hersheys.jpg',\r\n    //                me2: '86',\r\n    //                name: 'Walls Selection Hershey\\'s Ice Cream!',\r\n    //                postedDate: '10 January 2015',\r\n    //                upcCode: '44393529',\r\n    //            },\r\n    //            {\r\n    //                category: 'Hair Products',\r\n    //                comments: [{}],\r\n    //                description: 'Oil made from coconut.',\r\n    //                findings: [\r\n    //                    {\r\n    //                        comments: [\r\n    //                            {\r\n    //                                date: '3/23/2014',\r\n    //                                finder: true,\r\n    //                                name: 'Whatsits',\r\n    //                                commentText: 'Needed this for my hair. And I know alot other people need this also. Thanks!',\r\n    //                            },\r\n    //                        ],\r\n    //                        date: '3/23/2014',\r\n    //                        downVotes: 0,\r\n    //                        location: 'CornerGrocer, 23 SteinStraat The Hague, UAE 34243123',\r\n    //                        price: '$23.16',\r\n    //                        upcCode: '239823414',\r\n    //                        upVotes: 20,\r\n    //                    }\r\n    //                ],\r\n    //                found: true,\r\n    //                imageUrl: '/assets/example/coconut oil.jpg',\r\n    //                me2: '3',\r\n    //                name: 'Coconut Oil',\r\n    //                postedDate: '10 January 2014',\r\n    //            },\r\n    //            {\r\n    //                category: 'Food->Cereal',\r\n    //                comments: undefined,\r\n    //                description: 'Rice Crispies cereal with marshmallow.',\r\n    //                findings: [\r\n    //                    {\r\n    //                        comments: [\r\n    //                            {\r\n    //                                date: '12/8/2014',\r\n    //                                finder: true,\r\n    //                                name: 'P45x',\r\n    //                                commentText: 'After all this time.  I got it, this was the one!',\r\n    //                            },\r\n    //                        ],\r\n    //                        date: '12/8/2014',\r\n    //                        downVotes: 12,\r\n    //                        location: 'OpaShop 35 FrontStraat, Rotterdam, UAE',\r\n    //                        price: '$5.56',\r\n    //                        upcCode: null,\r\n    //                        upVotes: 1,\r\n    //                    }\r\n    //                ],\r\n    //                found: true,\r\n    //                imageUrl: '/assets/example/rice crispies treates cereal.jpg',\r\n    //                me2: '2',\r\n    //                name: 'Rice Crispies Treates Cereal',\r\n    //                postedDate: '10 January 2014',\r\n    //            },\r\n    //            {\r\n    //                category: 'Food->Baking goods',\r\n    //                comments: undefined,\r\n    //                description: 'Trader Joes vanilla extract with alcohol.',\r\n    //                findings: [\r\n    //                    {\r\n    //                        comments: [\r\n    //                            {\r\n    //                                date: '12/8/2014',\r\n    //                                finder: true,\r\n    //                                name: 'EnlightednedTheOne',\r\n    //                                commentText: 'I am personally shipping this to my cousin who owns a grocery in Utrect now. Enjoy!',\r\n    //                            },\r\n    //                        ],\r\n    //                        date: '1/2/2014',\r\n    //                        downVotes: 3,\r\n    //                        location: 'Grocery4AmericansAndDutch2 43 Haasstraat Utrect, UAE',\r\n    //                        price: '$9.98',\r\n    //                        upcCode: null,\r\n    //                        upVotes: 12,\r\n    //                    }\r\n    //                ],\r\n    //                found: true,\r\n    //                imageUrl: '/assets/example/trader joes vanilla.jpg',\r\n    //                me2: '401',\r\n    //                name: 'Trader Joes Bourbon Vanilla',\r\n    //                postedDate: '10 January 2014',\r\n    //            },\r\n    //        ]\r\n    //    };\r\n\r\n    //    return result;\r\n    //}\r\n\r\n    //var _getMostMe2Things = function () {\r\n\r\n    //    var result = {\r\n    //        things: [\r\n    //            {\r\n    //                category: 'Food->Confectionary',\r\n    //                comments: [\r\n    //                    {\r\n    //                        date: '19 January 2015',\r\n    //                        originalPoster: true,\r\n    //                        name: 'MandyK',\r\n    //                        commentText: \"I need these in my life again.  I used to get these from the Trader Joe's down the street from where i used to live.  Up here I cant find them anywhere. Please people we have to get this item!!\",\r\n    //                    },\r\n    //                    {\r\n    //                        date: '19 January 2015',\r\n    //                        name: 'Gerbil112',\r\n    //                        commentText: \"OH MAN!! I love these I want them so much!\",\r\n    //                    },\r\n    //                    {\r\n    //                        date: '19 January 2015',\r\n    //                        name: 'RobertK',\r\n    //                        commentText: \"Whoa this brings me back.  Wish these were here.  Can someone find these ASAP!!\",\r\n    //                    },\r\n    //                    {\r\n    //                        date: '19 January 2015',\r\n    //                        name: 'AmanDaMan',\r\n    //                        commentText: \"I dont mind chipping in $1 fo this.\",\r\n    //                    }\r\n    //                ],\r\n    //                description: 'Best chocolate anywhere!',\r\n    //                findings: [\r\n    //                    {\r\n    //                    }\r\n    //                ],\r\n    //                imageUrl: '/assets/example/wn-crunchy-amaretti-tradizionale.png',\r\n    //                me2: '210',\r\n    //                name: 'Amaretti Tradizionale',\r\n    //                postedDate: '10 January 2015',\r\n    //            },\r\n    //            {\r\n    //                category: 'Cooking Ingredients',\r\n    //                comments: [\r\n    //                    {\r\n    //                        date: '19 January 2015',\r\n    //                        originalPoster: true,\r\n    //                        name: 'TinaBaker',\r\n    //                        commentText: \"Running a bakery shop, or atleast trying to start one up.  We need this supplied to us.  If anyone knows of a shipper or someone that can get this to us on a regular basis we would really appreciate it. Thanks.\",\r\n    //                    },\r\n    //                    {\r\n    //                        date: '19 January 2015',\r\n    //                        name: 'M1thhews123',\r\n    //                        commentText: \"I dont run a bakery, but I need this to bake my wife's favorite bread on mornings.\",\r\n    //                    },\r\n    //                    {\r\n    //                        date: '19 January 2015',\r\n    //                        name: 'SocialAnaconda',\r\n    //                        commentText: \"My relatives here love this when I bring it to them from New York.  They could really use this!!\",\r\n    //                    },\r\n    //                    {\r\n    //                        date: '19 January 2015',\r\n    //                        name: 'gruGu',\r\n    //                        commentText: \"I dont mind paying $1 jto see this onstoreshelves..\",\r\n    //                    },\r\n    //                    {\r\n    //                        date: '19 January 2015',\r\n    //                        name: 'youTWooo',\r\n    //                        commentText: \"I second on that.\"\r\n    //                    }\r\n    //                ],\r\n    //                description: 'Organic flour',\r\n    //                findings: [\r\n    //                    {\r\n    //                    }\r\n    //                ],\r\n    //                imageUrl: '/assets/example/bobs_red_mill_brown_rice_flour_072G.jpg',\r\n    //                location: 'address1',\r\n    //                me2: '12',\r\n    //                name: \"Bob's Red Mill Brown Rice Flour\",\r\n    //                postedDate: '1 January 2015',\r\n    //            },\r\n    //            {\r\n    //                category: 'Food',\r\n    //                comments: [\r\n    //                    {\r\n    //                        date: '19 January 2015',\r\n    //                        originalPoster: true,\r\n    //                        name: 'DanTheMan',\r\n    //                        commentText: \"There's nothing like a new york slice. $2 to anyone who can find one inn a 50 mile radius of Abu Dabhi.\",\r\n    //                    },\r\n    //                    {\r\n    //                        date: '19 January 2015',\r\n    //                        name: 'Natalie234234',\r\n    //                        commentText: \"Yes, this please!!! :)!\",\r\n    //                    },\r\n    //                ],\r\n    //                description: 'Pizza',\r\n    //                findings: [\r\n    //                    {\r\n    //                    }\r\n    //                ],\r\n    //                imageUrl: '/assets/example/ny03-pizza1.jpg',\r\n    //                location: 'address1',\r\n    //                me2: '54',\r\n    //                name: \"New York Style Pizza\",\r\n    //                postedDate: '17 December 2014',\r\n    //            },\r\n    //            {\r\n    //                category: 'Cooking Ingredients',\r\n    //                comments: [\r\n    //                    {\r\n    //                        date: '19 January 2015',\r\n    //                        originalPoster: true,\r\n    //                        name: 'JennFire',\r\n    //                        commentText: \"This is the best chocolate bar none. $5 dollars to the nice person that can reunite this chocolate with me.\",\r\n    //                    },\r\n    //                    {\r\n    //                        date: '19 January 2015',\r\n    //                        name: 'hoolahoop12',\r\n    //                        commentText: \"This is great for cakes. $12!!\",\r\n    //                    },\r\n    //                    {\r\n    //                        date: '19 January 2015',\r\n    //                        name: 'TonyFRado',\r\n    //                        commentText: \"Baking a cake this month. Bounty!! $.58\",\r\n    //                    },\r\n    //                    {\r\n    //                        date: '19 January 2015',\r\n    //                        name: 'fredicat',\r\n    //                        commentText: \"MMMmmmm I would so love this. I have no money for bounty but would rjlly wanted this.\",\r\n    //                    },\r\n    //                ],\r\n    //                description: 'Pizza',\r\n    //                findings: [\r\n    //                    {\r\n    //                    }\r\n    //                ],\r\n    //                imageUrl: '/assets/example/betty-crocker chocolate frosting.jpg',\r\n    //                location: 'address1',\r\n    //                me2: '4',\r\n    //                name: \"Betty Crocker Chocolate Frosting\",\r\n    //                postedDate: '17 December 2014',\r\n    //            },\r\n    //        ],\r\n    //    }; \r\n\r\n    //    return result;\r\n    //    //return $http.get(serviceBase + 'api/things').then(function (results) {\r\n    //    //    return results;\r\n    //    //});\r\n    //};\r\n\r\n    //thingsServiceFactory.getMostMe2Things = _getMostMe2Things;\r\n    //thingsServiceFactory.getFoundThings = _getFoundThings;\r\n\r\n    return thingsServiceFactory;\r\n\r\n}]);","(function () {\r\n    'use strict';\r\n\r\n    app.factory('votesService', votesService);\r\n\r\n    votesService.$inject = [];\r\n\r\n    function votesService() {\r\n\r\n        var service = {\r\n            sumVotes: sumVotes\r\n        };\r\n\r\n        return service;\r\n\r\n        function sumVotes(votes) {\r\n            var sum = 0;\r\n\r\n            // Sum all of the vote values and return them.\r\n            for (var i = 0; i < votes.length; i++) {\r\n                sum += votes[i].value;\r\n            }\r\n\r\n            return sum;\r\n        }\r\n\r\n    }\r\n})();","(function () {\r\n    'use strict';\r\n\r\n    app.factory('me2Service', me2Service);\r\n\r\n    me2Service.$inject = ['authService', 'dataService'];\r\n\r\n    function me2Service(authService, dataService) {\r\n\r\n        var service = {\r\n            me2: me2\r\n        };\r\n\r\n        return service;\r\n\r\n        function me2(thingId) {\r\n            var me2 = {};\r\n\r\n            me2.thingId = thingId;\r\n            me2.userName = authService.authentication.userName;\r\n            me2.date = new Date();\r\n\r\n            return dataService.addOrUpdateMe2(me2).then(function (me2Sum) {\r\n                return me2Sum;\r\n            });\r\n        }\r\n\r\n    }\r\n})();","'use strict';\r\napp.controller('homeController', ['$scope', function ($scope) {\r\n\r\n    $(document).ready(function () {\r\n\r\n        $(\".player\").mb_YTPlayer();\r\n\r\n    });\r\n}]);","'use strict';\napp.controller('thingsController', ['$scope', 'thingsService', 'dataService', function ($scope, thingsService, dataService) {\n\r\n    $scope.mostMeTooed = dataService.getMostMe2Things().then(function (data) {\r\n        $scope.mostMeTooed = data;\r\n    });\r\n    \n    $scope.foundThings = dataService.getFoundThings().then(function (data) {\r\n        $scope.foundThings = data;\r\n    });\n\n    $(document).ready(function () {\r\n\r\n        $(\".player\").mb_YTPlayer();\r\n\r\n    });\n\n}]);","(function () {\r\n    'use strict';\n\n    app.controller('startController', startController);\r\n\r\n    startController.$inject = ['$scope', '$location', '$log', '$timeout', '$routeParams', 'authService', 'dataService', 'ngToast'];\r\n\r\n    function startController($scope, $location, $log, $timeout, $routeParams, authService, dataService, ngToast) {\r\n\n        var vm = this;\r\n\r\n        vm.things = [];\r\n        vm.query = $routeParams.query;\n        vm.jumbotronVideoUrlSetting = {};\n        vm.dataProperty = '';\n        vm.upVote = upVote;\n        vm.downVote = downVote;\n        vm.redBoxShadow = '0 0 1em rgb(148,62,15)';\n        vm.redFont = 'rgb(148,62,15)';\n        vm.greenBoxShadow = '0 0 1em rgb(57,118,40)';\n        vm.greenFont = 'rgb(57,118,40)';\n        vm.loggedInUser = {};\n\n        activate();\n\n        function activate() {\r\n            getMostMe2Things();\r\n            //getJumbotronVideoUrlSetting();\r\n            playJumbotronVideo();\r\n\r\n            if (authService.authentication.userName) {\r\n                getLoggedInUser();\r\n            }\r\n\r\n            return vm;\r\n        }\r\n\r\n        function getLoggedInUser() {\r\n            return dataService.getLoggedInUser().then(function (data) {\r\n                vm.loggedInUser = data;\r\n            });\r\n        }\r\n\r\n        function me2(thingId) {\r\n            if (!vm.loggedInUser) {\r\n                ngToast.create('Sorry you have to be logged in to do this.');\r\n\r\n                return;\r\n            }\r\n\r\n            ngToast.create('You want it? You got it.  An email will be sent to you when this item is found in your city!');\r\n\r\n            return me2Service.me2(thingId).then(function (data) {\r\n                searchThings(vm.searchCriteria);\r\n            });\r\n        }\r\n\r\n        function getMostMe2Things() {\r\n            return dataService.getMostMe2Things().then(function (data) {\r\n                vm.things = data;\r\n\r\n                return vm.things;\r\n            });\r\n        }\r\n\r\n        function playJumbotronVideo() {\r\n            $(document).ready(function () {\r\n\r\n                $(\".player\").mb_YTPlayer();\r\n\r\n            });\r\n        }\r\n\r\n        function getJumbotronVideoUrlSetting() {\r\n            return dataService.getJumbotronVideoUrlSetting().then(function (data) {\r\n                vm.jumbotronVideoUrlSetting = data;\r\n                vm.dataProperty = '{ videoURL: \\'' + vm.jumbotronVideoUrlSetting.settingValue + '\\', containment: \\'.video-section\\', quality: \\'large\\', autoPlay: true, mute: true, opacity: 1 }';\r\n\r\n                playJumbotronVideo();\r\n\r\n                return vm.jumbotronVideoUrlSetting;\r\n            });\r\n        }\r\n\r\n        function upVote(thing) {\r\n            var vote = {};\r\n\r\n            vote.userName = authService.authentication.userName;\r\n            vote.thingId = thing.thingId;\r\n\r\n            return dataService.upVote(vote).then(function (data) {\r\n                getMostMe2Things();\r\n            });\r\n        }\r\n\r\n        function downVote(thing) {\r\n            var vote = {};\r\n\r\n            vote.userName = authService.authentication.userName;\r\n            vote.thingId = thing.thingId;\r\n\r\n            return dataService.downVote(vote).then(function (data) {\r\n                getMostMe2Things();\r\n            });\r\n        }\r\n    }\r\n\r\n})();","(function () {\r\n    'use strict';\n\n    app.controller('foundItController', foundItController);\r\n\r\n    foundItController.$inject = ['$scope', '$log', '$timeout', '$http', '$location', '$routeParams', 'authService', 'dataService'];\r\n\r\n    function foundItController($scope, $log, $timeout, $http, $location, $routeParams, authService, dataService) {\r\n\n        var vm = this;\r\n        \r\n        vm.thing = {};\r\n        vm.thing.description = null;\r\n        vm.defaultCoordinates = { latitude: 24.416563, longitude: 54.543546 };\r\n        vm.map = { center: vm.defaultCoordinates, zoom: 12 };\r\n        vm.options = { scrollwheel: false };\r\n        vm.addOrUpdate = addOrUpdate;\r\n        vm.categories = {};\r\n        vm.thing.categoryId = null;\r\n        vm.datepickerFormats = ['dd-MMMM-yyyy', 'yyyy/MM/dd', 'dd.MM.yyyy', 'shortDate'];\r\n        vm.datepickerFormat = vm.datepickerFormats[3];\r\n        vm.datepickerOpen = datepickerOpen;\r\n        vm.datepickerOpened = false;\r\n        vm.datepickerDateOptions = { formatYear: 'yy', startingDay: 1 };\r\n        vm.clear = datepickerClear;\r\n        vm.locations = [];\r\n        vm.finding = { location: { locationName: '' }, date: new Date(), price: null, upcCode: null };\r\n        vm.cities = [];\r\n\r\n        // Scope variables have to be accessible for the watch statements.\r\n        $scope.coordsUpdates = 0;\r\n        $scope.dynamicMoveCtr = 0;\r\n        $scope.marker = {};\r\n        $scope.marker.coords = {};\r\n        $scope.marker.options = {};\r\n        $scope.marker.coords.latitude = '';\r\n        $scope.marker.coords.longitude = '';\r\n\r\n        activate();\n\n        function activate() {\r\n            playJumbotronVideo();\r\n            setMapMarker();\r\n            getCategories();\r\n            datepickerToggleMin();\r\n            datepickerToggleMax();\r\n            initiateDroplet();\r\n            getThing();\r\n            getLocations();\r\n            getCities();\r\n\r\n            return vm;\r\n        }\r\n\r\n        function getCities() {\r\n            dataService.getCities().then(function (data) {\r\n                vm.cities = data;\r\n\r\n                return vm.cities;\r\n            });\r\n        }\r\n\r\n        function getLocations() {\r\n            dataService.getLocations().then(function (data) {\r\n                vm.locations = data;\r\n            });\r\n        }\r\n\r\n        function getThing() {\r\n            if ($routeParams.thingId) {\r\n                dataService.getThing($routeParams.thingId).then(function (data) {\r\n                    vm.thing = data;\r\n                });\r\n            }\r\n        }\r\n\r\n        function initiateDroplet() {\r\n            $scope.$on('$dropletReady', function whenDropletReady() {\r\n                vm.interface.allowedExtensions(['png', 'jpg', 'bmp', 'gif']);\r\n\r\n                uploadFiles();\r\n            });\r\n        }\r\n\r\n        function uploadFiles() {\r\n            return dataService.getServerUrl().then(function (resource) {\r\n                var serverUrl = resource;\r\n\r\n                vm.interface.setRequestUrl(serverUrl.resourceServerUrl + 'api/thingsApi' + '/files');\r\n            });\r\n        }\r\n\r\n        function playJumbotronVideo() {\r\n            $(document).ready(function () {\r\n                $(\".player\").mb_YTPlayer();\r\n            });\r\n        }\r\n\r\n        function getCategories() {\r\n            return dataService.getCategories().then(function (data) {\r\n                vm.categories = data;\r\n                return vm.categories;\r\n            });\r\n        }\r\n\r\n        function addOrUpdate() {\r\n            // If this thing already has a username do not save over it.\r\n            vm.finding.userName = authService.authentication.userName;\r\n            vm.finding.thingId = vm.thing.thingId;\r\n\r\n            dataService.addOrUpdateFinding(vm.finding)\r\n                .then(function (data) {\r\n                    vm.interface.setPostData({ id: data.thingId, userName: authService.authentication.userName });\r\n\r\n                    vm.interface.uploadFiles();\r\n\r\n                    $scope.$apply();\r\n\r\n                    history.back();\r\n                })\r\n                .catch(handleFailure);\r\n        }\r\n\r\n        function handleFailure(error) {\r\n            $log.error('Failure notice.' + error.data.message + \": \" + error.data.messageDetail);\r\n        }\r\n\r\n        // Begin region map.\r\n\r\n        function setMapMarker() {\r\n            $scope.marker = {\r\n                id: 0,\r\n                coords: {\r\n                    latitude: vm.finding.location.latitude ? vm.finding.location.latitude : vm.defaultCoordinates.latitude,\r\n                    longitude: vm.finding.location.latitude ? vm.finding.location.longitude : vm.defaultCoordinates.longitude\r\n                },\r\n                options: { draggable: true },\r\n                events: {\r\n                    dragend: function (marker, eventName, args) {\r\n                        $log.log('marker dragend');\r\n                        var lat = marker.getPosition().lat();\r\n                        var lon = marker.getPosition().lng();\r\n                        $log.log(lat);\r\n                        $log.log(lon);\r\n\r\n                        $http.get('https://maps.googleapis.com/maps/api/geocode/json?latlng=' + lat + ',' + lon + '&sensor=false&key=AIzaSyBPUGy5syJHUaDeR_E_FTwgOO4Th8vm63Y')\r\n                        .success(function (response) {\r\n                            if (response.status === \"ZERO_RESULTS\") {\r\n                                vm.finding.location.latitude = lat;\r\n                                vm.finding.location.longitude = lon;\r\n                            }\r\n                            else {\r\n                                vm.finding.location.formattedAddress = response.results[0].formatted_address;\r\n                                vm.finding.location.latitude = lat;\r\n                                vm.finding.location.longitude = lon;\r\n                            }\r\n                        });\r\n\r\n                        $scope.marker.options = {\r\n                            draggable: true,\r\n                            labelContent: \"lat: \" + $scope.marker.coords.latitude + ' ' + 'lon: ' + $scope.marker.coords.longitude,\r\n                            labelAnchor: \"100 0\",\r\n                            labelClass: \"marker-labels\"\r\n                        };\r\n\r\n                    }\r\n                }\r\n            };\r\n        }\r\n\r\n        $scope.finding = vm.finding;\r\n        $scope.finding.location.latitude = vm.finding.location.latitude;\r\n\r\n        $scope.$watch('finding.location.locationName', function (current, original) {\r\n            if (_.isEqual(current, original) || !current.latitude) {\r\n                return;\r\n            }\r\n\r\n            if (!vm.locations.getIndexBy(\"locationName\", current.locationName)) {\r\n                return;\r\n            }\r\n\r\n            vm.thing.finding.location = vm.locations[vm.locations.getIndexBy(\"locationName\", current.locationName)];\r\n\r\n            // Set the drop down to the city of the location from the selected\r\n            // city from the typeahead textarea.\r\n            vm.finding.location.city = vm.cities[vm.cities.getIndexBy(\"name\", vm.thing.finding.location.city.name)];\r\n\r\n            $scope.marker.coords.latitude = vm.thing.finding.location.latitude;\r\n            $scope.marker.coords.longitude = vm.thing.finding.location.longitude;\r\n\r\n            vm.map.center.latitude = vm.thing.finding.location.latitude;\r\n            vm.map.center.longitude = vm.thing.finding.location.longitude;\r\n            vm.map.zoom = 12;\r\n        });\r\n\r\n        Array.prototype.getIndexBy = function (name, value) {\r\n            for (var i = 0; i < this.length; i++) {\r\n                if (this[i][name] == value) {\r\n                    return i;\r\n                }\r\n            }\r\n        }\r\n\r\n        $scope.$watchCollection(\"marker.coords\", function (newVal, oldVal) {\r\n            if (_.isEqual(newVal, oldVal))\r\n                return;\r\n            $scope.coordsUpdates++;\r\n        });\r\n\r\n        $scope.finding.location.city = vm.finding.location.city;\r\n\r\n        $scope.$watch('finding.location.city', function (current, original) {\r\n            if (_.isEqual(current, original) || !current) {\r\n                vm.finding.location = {};\r\n                vm.finding.location.locationName = vm.finding.location.locationName || '';\r\n                vm.finding.location.city = original;\r\n                return;\r\n            }\r\n\r\n            $scope.marker.coords.latitude = current.latitude;\r\n            $scope.marker.coords.longitude = current.longitude;\r\n\r\n            vm.map.center.latitude = current.latitude;\r\n            vm.map.center.longitude = current.longitude;\r\n\r\n            vm.finding.location.latitude = current.latitude;\r\n            vm.finding.location.longitude = current.longitude;\r\n\r\n            vm.map.zoom = 12;\r\n        });\r\n\r\n        $timeout(function () {\r\n            //$scope.marker.coords = {\r\n            //    latitude: 42.1451,\r\n            //    longitude: -100.6680\r\n            //};\r\n            $scope.dynamicMoveCtr++;\r\n            $timeout(function () {\r\n                //$scope.marker.coords = {\r\n                //    latitude: 43.1451,\r\n                //    longitude: -102.6680\r\n                //};\r\n                $scope.dynamicMoveCtr++;\r\n            }, 2000);\r\n        }, 1000);\r\n\r\n        // End region map.\r\n\r\n        // Begin region datepicker.\r\n        \r\n        function datepickerClear () {\r\n            vm.thing.finding.date = null;\r\n        };\r\n\r\n        function datepickerToggleMin() {\r\n            vm.datepickerMinDate = vm.datepickerMinDate ? null : new Date(1900, 1, 1);\r\n        };\r\n\r\n        function datepickerToggleMax() {\r\n            vm.datepickerMaxDate = vm.datepickerMaxDate ? null : new Date();\r\n        };\r\n\r\n        function datepickerOpen($event) {\r\n            $event.preventDefault();\r\n            $event.stopPropagation();\r\n\r\n            vm.datepickerOpened = true;\r\n        };\r\n\r\n        // End region datepicker.\r\n    }\r\n\r\n})();","(function () {\r\n    'use strict';\n\n    app.controller('sidebarController', sidebarController);\r\n\r\n    sidebarController.$inject = ['$scope', '$location', '$log', 'authService', 'dataService'];\r\n\r\n    function sidebarController($scope, $location, $log, authService, dataService) {\r\n        var vm = this;\n\n        vm.authentication = {};\n        vm.authentication.userName = authService.authentication.userName;\n        vm.authentication.sidebarAuthenticationLabel = '';\n        vm.authentication.getSidebarAuthenticationLabel = getSidebarAuthenticationLabel;\n        vm.authentication.loginlogout = loginlogout;\n        vm.query = '';\n        vm.cities = [];\n        vm.searchCity = null;\n        vm.largeClass = 'hidden-lg';\n        vm.smallClass = 'visible-lg';\n        vm.changeClassEnter = changeClassEnter;\n        vm.changeClassLeave = changeClassLeave;\n        vm.activeClass = '';\n        vm.largeMenuClass = 'hidden-lg hidden-xs';\n        vm.smallMenuClass = 'visible-lg hidden-xs';\n        vm.sidebarColumnClass = 'col-sm-1 col-xs-1';\n        vm.mainColumnClass = 'col-sm-11';\n        vm.toggleClasses = toggleClasses;\n        vm.smallScreenLargeMenuClass = 'hidden-lg hidden-xs';\n        vm.smallScreenSmallMenuClass = 'hidden-lg visible-xs';\n        vm.loggedInUser = {};\n        vm.showDashboard = false;\n        vm.navigateSearch = navigateSearch;\n\r\n        // Scope references needed for deep watch on service variable.\r\n        // http://stackoverflow.com/questions/12576798/how-to-watch-service-variables\r\n        $scope.authService = authService;\r\n        $scope.authService.authentication = authService.authentication;\r\n        $scope.authService.authentication.userName = authService.authentication.userName;\n\n        activate();\n\n        function activate() {\r\n            playJumbotronVideo();\r\n            getSidebarAuthenticationLabel();\r\n            setView();\r\n\r\n            if (authService.authentication.userName) {\r\n                getLoggedInUser();\r\n            }\r\n        }\n\n        $scope.$watch('authService.authentication.userName', function (current, original) {\r\n            $log.info('authService.authentication.userName was %s', original);\r\n            $log.info('authService.authentication.userName is now %s', current);\r\n\r\n            vm.authentication.userName = current;\r\n            getSidebarAuthenticationLabel();\r\n\r\n            if (authService.authentication.userName) {\r\n                getLoggedInUser().then(function (data) {\r\n                    if (vm.loggedInUser.isAdmin) {\r\n                        vm.showDashboard = true;\r\n                    }\r\n                    else {\r\n                        vm.showDashboard = false;\r\n                    }\r\n                });\r\n            }\r\n            else {\r\n                vm.showDashboard = false;\r\n            }\r\n        });\n\n        function getLoggedInUser() {\r\n            return dataService.getLoggedInUser().then(function (data) {\r\n                vm.loggedInUser = data;\r\n            });\r\n        }\n\n        function toggleClasses() {\r\n            if (vm.smallScreenLargeMenuClass == 'hidden-lg hidden-xs') {\r\n                vm.smallScreenLargeMenuClass = 'hidden-lg visible-xs';\r\n                vm.smallScreenSmallMenuClass = 'hidden-lg hidden-xs';\r\n                vm.sidebarColumnClass = 'col-sm-1 col-xs-2';\r\n                vm.activeClass = 'active';\r\n            }\r\n            else {\r\n                vm.smallScreenLargeMenuClass = 'hidden-lg hidden-xs';\r\n                vm.smallScreenSmallMenuClass = 'hidden-lg visible-xs';\r\n                vm.sidebarColumnClass = 'col-sm-1 col-xs-1';\r\n                vm.activeClass = '';\r\n            }\r\n        }\n\n        function changeClassEnter() {\r\n            vm.activeClass = \"active\";\r\n            vm.largeMenuClass = 'visible-lg hidden-xs';\r\n            vm.smallMenuClass = 'hidden-lg hidden-xs';\r\n            vm.sidebarColumnClass = 'col-sm-2 col-xs-1';\r\n            vm.mainColumnClass = 'col-sm-10';\r\n        }\n\n        function changeClassLeave() {\r\n            vm.activeClass = '';\r\n            vm.largeMenuClass = 'hidden-lg hidden-xs';\n            vm.smallMenuClass = 'visible-lg hidden-xs';\n            vm.sidebarColumnClass = 'col-sm-1  col-xs-1';\r\n            vm.mainColumnClass = 'col-sm-11';\r\n        }\n\n        function getCities() {\r\n            return dataService.getCities().then(function (data) {\r\n                vm.cities = data;\r\n            });\r\n        }\n\n        function setDropDown() {\r\n            vm.cities.splice(0, 0, { name: \"All Cities\" });\r\n\r\n            vm.searchCity = vm.cities[0];\r\n        }\n\n        function setView() {\r\n            getCities().then(function (data) {\r\n                setDropDown();\r\n            });\r\n        }\n\n        function getSidebarAuthenticationLabel() {\r\n            vm.authentication.sidebarAuthenticationLabel = vm.authentication.userName ? vm.authentication.userName + ' ' + 'Sign Out' : 'Sign In';\r\n\r\n            return vm.authentication.sidebarAuthenticationLabel;\r\n        }\n\n        // If the person is logged in then this method will log them out.\n        // If the person is logged out then this method will take them to\n        // the log in page.\n        function loginlogout() {\r\n            // If the is auth is false then we want to login now.\r\n            if (authService.authentication.isAuth) {\r\n                authService.logOut();\r\n\r\n                vm.showDashboard = false;\r\n            }\r\n            else {\r\n                $location.path(\"/home\");\r\n            }\r\n        }\n\n        // When the page is ready this plays the youtube video.\n        function playJumbotronVideo() {\r\n            $(document).ready(function () {\r\n                $(\".player\").mb_YTPlayer();\r\n            });\r\n        }\r\n\r\n        function navigateSearch() {\r\n            $log.log('In navigateSearch');\r\n\r\n            $location.path('/search/' + (vm.searchCity.name || 'all' | escape) + '/' + (vm.query || '' | escape));\r\n        }\r\n    }\r\n})();","(function () {\r\n    'use strict';\n\n    app.controller('whereIsItController', whereIsItController);\r\n\r\n    whereIsItController.$inject = ['$scope', '$location', '$log', '$timeout', 'authService', 'dataService'];\r\n\r\n    function whereIsItController($scope, $location, $log, $timeout, authService, dataService) {\r\n\n        var vm = this;\n\n        vm.authentication = {};\n        vm.authentication.userName = authService.authentication.userName;\n        vm.thing = {};\n        vm.thing.thingCity = {};\n        vm.thing.thingCity.thingCityId = 0;\n        vm.thing.thingCity.city = {};\n        vm.thing.thingCity.cityId = 0;\n        vm.thing.thingCity.thingId = 0;\n        vm.thing.thingCity.userId = 0;\n        vm.thing.thingCities = [];\n        vm.thing.categoryId = null;\n        vm.categories = [];\n        vm.addOrUpdate = addOrUpdate;\n        vm.cities = [];\n\n        activate();\n\n        function activate() {\r\n            playJumbotronVideo();\r\n            getCategories();\r\n            getNewThing();\r\n            initiateDroplet();\r\n            getCities();\r\n\r\n            return vm;\r\n        }\n\n        function getCities() {\r\n            return dataService.getCities().then(function (data) {\r\n                vm.cities = data;\r\n\r\n                return vm.cities;\r\n            });\r\n        }\n\n        function initiateDroplet() {\r\n            $scope.$on('$dropletReady', function whenDropletReady() {\r\n                vm.interface.allowedExtensions(['png', 'jpg', 'bmp', 'gif']);\r\n\r\n                uploadFiles();\r\n            });\r\n        }\r\n\r\n        function uploadFiles() {\r\n            return dataService.getServerUrl().then(function (resource) {\r\n                var serverUrl = resource;\r\n\r\n                vm.interface.setRequestUrl(serverUrl.resourceServerUrl + 'api/thingsApi' + '/files');\r\n            });\r\n        }\r\n\n        // When the page is ready this plays the youtube video.\n        function playJumbotronVideo() {\r\n            $(document).ready(function () {\r\n                $(\".player\").mb_YTPlayer();\r\n            });\r\n        }\r\n\r\n        function getCategories() {\r\n            return dataService.getCategories().then(function(data) {\r\n                vm.categories = data;\r\n                return vm.categories;\r\n            });\r\n        }\r\n\r\n        function getNewThing() {\r\n            vm.thing.postedDate = new Date();\r\n\r\n            vm.thing.userName = authService.authentication.userName;\r\n\r\n            return vm.thing;\r\n        }\r\n\r\n        function addOrUpdate() {\r\n            vm.thing.userName = authService.authentication.userName;\r\n\r\n            vm.thing.thingCities.push(vm.thing.thingCity);\r\n\r\n            vm.thing.postedDate = new Date();\r\n\r\n            dataService.addOrUpdateThing(vm.thing)\r\n                .then(function (data) {\r\n                    vm.thing = data;\r\n\r\n                    vm.interface.setPostData({ id: vm.thing.thingId, userName: authService.authentication.userName });\r\n\r\n                    vm.interface.uploadFiles();\r\n\r\n                    $scope.$apply();\r\n\r\n                    history.back();\r\n                })\r\n                .catch(handleFailure);\r\n        }\r\n\r\n        function handleFailure(error) {\r\n            $log.error('Failure notice.' + error.data.message + ': ' + error.data.messageDetail);\r\n        }\r\n\r\n    }\r\n})();","(function () {\r\n    'use strict';\n\n    app.controller('thingController', thingController);\r\n\r\n    thingController.$inject = ['$scope', '$location', '$log', '$timeout', '$routeParams', 'authService', 'dataService', 'votesService',\r\n    'me2Service'];\r\n\r\n    function thingController($scope, $location, $log, $timeout, $routeParams, authService, dataService, votesService, me2Service) {\r\n\n        var vm = this;\r\n\r\n        vm.thing = {};\r\n        vm.thing.images = [];\r\n        vm.thingId = $routeParams.thingId;\n        vm.addOrUpdateThing = addOrUpdateThing;\n        vm.deleteThing = deleteThing;\n        vm.slideInterval = 5000;\r\n        var slides = vm.slides = [];\n        vm.thing.findings = [];\r\n        vm.defaultCoordinates = { latitude: 24.416563, longitude: 54.543546 };\r\n        vm.map = { center: vm.defaultCoordinates, zoom: 12 };\r\n        vm.options = { scrollwheel: false };\n        vm.upVote = upVote;\n        vm.downVote = downVote;\n        vm.sumVotes = sumVotes;\n        vm.me2 = me2;\n\n        // Scope variables have to be accessible for the watch statements.\r\n        $scope.coordsUpdates = 0;\r\n        $scope.dynamicMoveCtr = 0;\r\n        $scope.marker = {};\r\n        $scope.marker.coords = {};\r\n        $scope.marker.options = {};\r\n        $scope.marker.coords.latitude = '';\r\n        $scope.marker.coords.longitude = '';\n\n        activate();\n\n        function activate() {\r\n            setView();\r\n\r\n            return vm;\r\n        }\n\n        function me2(thingId) {\r\n            return me2Service.me2(thingId).then(function (data) {\r\n                vm.thing.me2 = data;\r\n            });\r\n        }\n\n        function setView() {\r\n            return getThing().then(function (data) {\r\n                vm.thing = data;\r\n\r\n                setMapMarker();\r\n\r\n                // Set the carousel.\r\n                addSlide(vm.thing.images);\r\n            })\r\n        }\n\n        function addSlide(image) {\r\n            if (vm.thing.images.length == 0 && vm.thing.imageUrl) {\r\n                slides.push({ image: vm.thing.imageUrl });\r\n            }\r\n            else if (vm.thing.images.length == 0 && !vm.thing.imageUrl) {\r\n                return;\r\n            }\r\n            else {\r\n                angular.forEach(vm.thing.images, function (image, key) {\r\n                    this.push({ image: \"data:image/jpeg;base64,\" + image.imageBinary });\r\n                }, slides);\r\n            }\r\n        };\n\n        function getThing() {\r\n            return dataService.getThing(vm.thingId).then(function (data) {\r\n                vm.thing = data;\r\n\r\n                return vm.thing;\r\n            });\r\n        }\n\n        function addOrUpdateThing() {\r\n            vm.thing.userName = authService.authentication.userName;\r\n\r\n            return dataService.addOrUpdateThing(vm.thing).then(function (data) {\r\n                $scope.$apply();\r\n                history.back();\r\n            });\r\n        }\n\n        function deleteThing() {\r\n            dataService.deleteThing(vm.thing.thingId).then(function (data) {\r\n                $scope.$apply();\r\n\r\n                history.back();\r\n            });\r\n        }\n\n        function setMapMarker() {\r\n            $scope.marker = {\r\n                id: 0,\r\n                coords: {\r\n                    latitude: vm.defaultCoordinates.latitude,\r\n                    longitude: vm.defaultCoordinates.longitude\r\n                },\r\n                options: { draggable: false },\r\n                events: {\r\n                    dragend: function (marker, eventName, args) {\r\n                        $log.log('marker dragend');\r\n                        var lat = marker.getPosition().lat();\r\n                        var lon = marker.getPosition().lng();\r\n                        $log.log(lat);\r\n                        $log.log(lon);\r\n\r\n                        $http.get('https://maps.googleapis.com/maps/api/geocode/json?latlng=' + lat + ',' + lon + '&sensor=false&key=AIzaSyBPUGy5syJHUaDeR_E_FTwgOO4Th8vm63Y')\r\n                        .success(function (response) {\r\n                            if (response.status === \"ZERO_RESULTS\") {\r\n                                vm.thing.findings[0].location.latitude = lat;\r\n                                vm.thing.findings[0].location.longitude = lon;\r\n                            }\r\n                            else {\r\n                                vm.thing.findings[0].location.formattedAddress = response.results[0].formatted_address;\r\n                                vm.thing.findings[0].location.latitude = lat;\r\n                                vm.thing.findings[0].location.longitude = lon;\r\n                            }\r\n                        });\r\n\r\n                        $scope.marker.options = {\r\n                            draggable: true,\r\n                            labelContent: \"lat: \" + $scope.marker.coords.latitude + ' ' + 'lon: ' + $scope.marker.coords.longitude,\r\n                            labelAnchor: \"100 0\",\r\n                            labelClass: \"marker-labels\"\r\n                        };\r\n                    }\r\n                }\r\n            };\r\n        }\r\n\r\n        $scope.$watchCollection(\"marker.coords\", function (newVal, oldVal) {\r\n            if (_.isEqual(newVal, oldVal))\r\n                return;\r\n            $scope.coordsUpdates++;\r\n        });\r\n\r\n        $timeout(function () {\r\n            //$scope.marker.coords = {\r\n            //    latitude: 42.1451,\r\n            //    longitude: -100.6680\r\n            //};\r\n            $scope.dynamicMoveCtr++;\r\n            $timeout(function () {\r\n                //$scope.marker.coords = {\r\n                //    latitude: 43.1451,\r\n                //    longitude: -102.6680\r\n                //};\r\n                $scope.dynamicMoveCtr++;\r\n            }, 2000);\r\n        }, 1000);\n\n        function sumVotes(votes) {\r\n            var result = votesService.sumVotes(votes);\r\n\r\n            return result;\r\n        }\n\n        function upVote(finding) {\r\n            var vote = {};\r\n\r\n            vote.userName = authService.authentication.userName;\r\n            vote.findingId = finding.findingId;\r\n\r\n            return dataService.upVote(vote).then(function (data) {\r\n                getThing();\r\n            });\r\n        }\r\n\r\n        function downVote(finding) {\r\n            var vote = {};\r\n\r\n            vote.userName = authService.authentication.userName;\r\n            vote.findingId = finding.findingId;\r\n\r\n            return dataService.downVote(vote).then(function (data) {\r\n                getThing();\r\n            });\r\n        }\r\n\n    }\r\n\r\n})();","(function () {\r\n    'use strict';\n\n    app.controller('jumbotronYoutubeVideoSettingsController', jumbotronYoutubeVideoSettingsController);\r\n\r\n    jumbotronYoutubeVideoSettingsController.$inject = ['$scope', '$location', '$log', '$timeout', 'authService', 'dataService'];\r\n\r\n    function jumbotronYoutubeVideoSettingsController($scope, $location, $log, $timeout, authService, dataService) {\r\n\n        var vm = this;\r\n\n        vm.setting = {};\n        vm.setting.jumbotronVideoUrlSetting = {};\n        vm.setting.jumbotronVideoUrlSetting.Value = '';\n\n        activate();\n\n        function activate() {\r\n            getJumbotronVideoUrlSetting();\r\n\r\n            return vm;\r\n        }\r\n\r\n        function getJumbotronVideoUrlSetting() {\r\n            return dataService.getJumbotronVideoUrlSetting().then(function (data) {\r\n                vm.jumbotronVideoUrlSetting = data;\r\n\r\n                return vm.jumbotronVideoUrlSetting;\r\n            });\r\n        }\r\n    }\r\n\r\n})();","(function () {\r\n    'use strict';\n\n    app.controller('searchController', searchController);\r\n\r\n    searchController.$inject = ['$scope', '$location', '$log', '$timeout', '$routeParams', 'authService', 'dataService', 'me2Service',\r\n    'ngToast'];\r\n\r\n    function searchController($scope, $location, $log, $timeout, $routeParams, authService, dataService, me2Service, ngToast) {\r\n\n        var vm = this;\r\n        \r\n        vm.things = [];\r\n        vm.query = $routeParams.query;\n        vm.cityName = $routeParams.cityName;\n        vm.jumbotronVideoUrlSetting = {};\n        vm.dataProperty = '';\n        vm.upVote = upVote;\n        vm.downVote = downVote;\n        vm.redBoxShadow = '0 0 1em rgb(148,62,15)';\n        vm.redFont = 'rgb(148,62,15)';\n        vm.greenBoxShadow = '0 0 1em rgb(57,118,40)';\n        vm.greenFont = 'rgb(57,118,40)';\n        vm.totalItems = 0;\r\n        vm.totalItemsInAllCities = 0;\r\n        vm.itemsPerPage = 10;\r\n        vm.currentPage = 1;\r\n        vm.pageChanged = pageChanged;\r\n        vm.setSortOrder = setSortOrder;\r\n        vm.orderBy = null;\r\n        vm.searchText = null;\r\n        vm.searchCriteria = {};\r\n        vm.searchCriteria.searchText = null;\n        vm.me2 = me2;\n        vm.loggedInUser = {};\n\n        activate();\n\n        function activate() {\r\n            setSearchCriteria(vm.currentPage, vm.itemsPerPage, vm.orderBy, vm.query, vm.cityName);\r\n            searchThings(vm.searchCriteria);\r\n            searchThingsCount(vm.searchCriteria);\r\n            searchAllThingsCount(vm.searchCriteria);\r\n            //getJumbotronVideoUrlSetting();\r\n            playJumbotronVideo();\r\n            \r\n            if (authService.authentication.userName) {\r\n                getLoggedInUser();\r\n            }\r\n\r\n            return vm;\r\n        }\r\n\r\n        function getLoggedInUser() {\r\n            return dataService.getLoggedInUser().then(function (data) {\r\n                vm.loggedInUser = data;\r\n\r\n                return vm.loggedInUser;\r\n            });\r\n        }\r\n\r\n        function me2(thingId) {\r\n            getLoggedInUser().then(function (data) {\r\n                ngToast.create('You want it? You got it.  An email will be sent to you when this item is found in your city!');\r\n\r\n                return me2Service.me2(thingId).then(function (data) {\r\n                    searchThings(vm.searchCriteria);\r\n                });\r\n            });\r\n        }\r\n\r\n        function searchThings(searchCriteria) {\r\n            dataService.searchThings(searchCriteria).then(function (data) {\r\n                vm.things = vm.things.concat(data);\r\n\r\n                return vm.things;\r\n            });\r\n        }\r\n\r\n        function searchThingsCount(searchCriteria) {\r\n            return dataService.searchThingsCount(searchCriteria).then(function (data) {\r\n                vm.totalItems = data || 0;\r\n\r\n                return vm.totalItems;\r\n            });\r\n        }\r\n\r\n        function searchAllThingsCount(searchCriteria) {\r\n            for (var i = 0; i < searchCriteria.searchParams.length; i++) {\r\n                if (searchCriteria.searchParams[i].key === 'cityName'\r\n                    && searchCriteria.searchParams[i].value\r\n                    && searchCriteria.searchParams[i].value.toLowerCase() != 'all') {\r\n                    var allSearchCriteria =\r\n                        createSearchCriteria(searchCriteria.currentPage, searchCriteria.itemsPerPage, searchCriteria.orderBy, searchCriteria.searchText, 'all');\r\n\r\n                    return dataService.searchThingsCount(allSearchCriteria).then(function (data) {\r\n                        vm.totalItemsInAllCities = data || 0;\r\n\r\n                        return vm.totalItemsInAllCities;\r\n                    });\r\n                }\r\n            }\r\n        }\r\n        \r\n        function createSearchCriteria(currentPage, itemsPerPage, orderBy, searchText, cityName) {\r\n            var searchCriteria = {};\r\n\r\n            var searchParams = [\r\n                {\r\n                    key: \"cityName\",\r\n                    value: cityName\r\n                }\r\n            ];\r\n\r\n            searchCriteria = {\r\n                currentPage: currentPage,\r\n                itemsPerPage: itemsPerPage,\r\n                orderBy: orderBy,\r\n                searchText: searchText,\r\n                searchParams: searchParams\r\n            }\r\n\r\n            return searchCriteria;\r\n        }\r\n\r\n        function setSearchCriteria(currentPage, itemsPerPage, orderBy, searchText, cityName) {\r\n            vm.searchCriteria = createSearchCriteria(currentPage, itemsPerPage, orderBy, searchText, cityName);\r\n\r\n            return vm.searchCriteria;\r\n        }\r\n\r\n        function playJumbotronVideo() {\r\n            $(document).ready(function () {\r\n\r\n                $(\".player\").mb_YTPlayer();\r\n\r\n            });\r\n        }\r\n\r\n        function getJumbotronVideoUrlSetting() {\r\n            return dataService.getJumbotronVideoUrlSetting().then(function (data) {\r\n                vm.jumbotronVideoUrlSetting = data;\r\n                vm.dataProperty = '{ videoURL: \\'' + vm.jumbotronVideoUrlSetting.settingValue + '\\', containment: \\'.video-section\\', quality: \\'large\\', autoPlay: true, mute: true, opacity: 1 }';\r\n\r\n                playJumbotronVideo();\r\n\r\n                return vm.jumbotronVideoUrlSetting;\r\n            });\r\n        }\r\n\r\n        function pageChanged() {\r\n            vm.currentPage++;\r\n\r\n            setSearchCriteria(vm.currentPage, vm.itemsPerPage, vm.orderBy, vm.searchCriteria.searchText, vm.cityName);\r\n\r\n            searchThings(vm.searchCriteria);\r\n        }\r\n\r\n        function setSortOrder(orderBy) {\r\n            vm.orderBy = orderBy;\r\n\r\n            setSearchCriteria(vm.currentPage, vm.itemsPerPage, vm.orderBy, vm.searchText);\r\n\r\n            searchThings(vm.searchCriteria);\r\n        }\r\n\r\n        function upVote(thing) {\r\n            var vote = {};\r\n\r\n            vote.userName = authService.authentication.userName;\r\n            vote.thingId = thing.thingId;\r\n\r\n            return dataService.upVote(vote).then(function (data) {\r\n                searchThings();\r\n            });\r\n        }\r\n\r\n        function downVote(thing) {\r\n            var vote = {};\r\n\r\n            vote.userName = authService.authentication.userName;\r\n            vote.thingId = thing.thingId;\r\n\r\n            return dataService.downVote(vote).then(function (data) {\r\n                searchThings();\r\n            });\r\n        }\r\n    }\r\n\r\n})();","(function () {\r\n    'use strict';\n\n    app.controller('editThingController', editThingController);\r\n\r\n    editThingController.$inject = ['$scope', '$location', '$log', '$timeout', '$routeParams', 'authService', 'dataService'];\r\n\r\n    function editThingController($scope, $location, $log, $timeout, $routeParams, authService, dataService) {\r\n\n        var vm = this;\n\n        vm.authentication = {};\n        vm.authentication.userName = authService.authentication.userName;\n        vm.thing = {};\n        vm.thing.categoryId = null;\n        vm.categories = [];\n        vm.addOrUpdate = addOrUpdate;\n        vm.slideInterval = 5000;\r\n        vm.deleteImage = deleteImage;\r\n        var slides = vm.slides = [];\n\n        activate();\n\n        function activate() {\r\n            playJumbotronVideo();\r\n            getCategories();\r\n            getThing();\r\n            initiateDroplet();\r\n\r\n            return vm;\r\n        }\n\n        function addSlide(images) {\r\n            if (images.length == 0) {\r\n                return;\r\n            }\r\n            else {\r\n                angular.forEach(images, function (image, key) {\r\n                    this.push({ image: \"data:image/jpeg;base64,\" + image.imageBinary, imageId: image.imageId });\r\n                }, slides);\r\n            }\r\n        };\n\n        function initiateDroplet() {\r\n            $scope.$on('$dropletReady', function whenDropletReady() {\r\n                vm.interface.allowedExtensions(['png', 'jpg', 'bmp', 'gif']);\r\n\r\n                uploadFiles();\r\n            });\r\n        }\r\n\r\n        function uploadFiles() {\r\n            return dataService.getServerUrl().then(function (resource) {\r\n                var serverUrl = resource;\r\n\r\n                vm.interface.setRequestUrl(serverUrl.resourceServerUrl + 'api/thingsApi' + '/files');\r\n            });\r\n        }\r\n\n        // When the page is ready this plays the youtube video.\n        function playJumbotronVideo() {\r\n            $(document).ready(function () {\r\n                $(\".player\").mb_YTPlayer();\r\n            });\r\n        }\r\n\r\n        function getCategories() {\r\n            return dataService.getCategories().then(function (data) {\r\n                vm.categories = data;\r\n\r\n                return vm.categories;\r\n            });\r\n        }\r\n\r\n        function getThing() {\r\n            return dataService.getThing($routeParams.thingId).then(function (data) {\r\n                vm.thing = data;\r\n\r\n                addSlide(vm.thing.images);\r\n\r\n                getCategories().then(function (data) {\r\n                    if (vm.thing.categoryId) {\r\n                        vm.thing.category = vm.categories[vm.categories.getIndexBy(\"categoryId\", vm.thing.categoryId)];\r\n                    }\r\n                });\r\n\r\n                return vm.thing;\r\n            });\r\n        }\r\n\r\n        Array.prototype.getIndexBy = function (name, value) {\r\n            for (var i = 0; i < this.length; i++) {\r\n                if (this[i][name] == value) {\r\n                    return i;\r\n                }\r\n            }\r\n        }\r\n\r\n        function deleteImage(imageId) {\r\n            return dataService.deleteImage(imageId).then(function (data) {\r\n                $log.log(\"Image deletion successful\");\r\n\r\n                getThing();\r\n            });\r\n        }\r\n\r\n        function addOrUpdate() {\r\n            dataService.addOrUpdateThing(vm.thing)\r\n                .then(function (data) {\r\n                    vm.interface.setPostData({ id: data.thingId, userName: authService.authentication.userName });\r\n\r\n                    vm.interface.uploadFiles();\r\n\r\n                    $scope.$apply();\r\n\r\n                    history.back();\r\n                })\r\n                .catch(handleFailure);\r\n        }\r\n\r\n        function handleFailure(error) {\r\n            $log.error('Failure notice.' + error.data.message + ': ' + error.data.messageDetail);\r\n        }\r\n\r\n    }\r\n})();","(function () {\r\n    'use strict';\n\n    app.controller('editFindingController', editFindingController);\r\n\r\n    editFindingController.$inject = ['$scope', '$log', '$timeout', '$http', '$location', '$routeParams', 'authService', 'dataService'];\r\n\r\n    function editFindingController($scope, $log, $timeout, $http, $location, $routeParams, authService, dataService) {\r\n\n        var vm = this;\r\n\r\n        vm.finding = {};\r\n        vm.finding.location = {};\r\n        vm.finding.location.city = {};\r\n        vm.thing = {};\r\n        //vm.map = { center: { latitude: 24.416563, longitude: 54.543546 }, zoom: 12 };\r\n        vm.options = { scrollwheel: false };\r\n        vm.addOrUpdate = addOrUpdate;\r\n        vm.categories = {};\r\n        vm.datepickerFormats = ['dd-MMMM-yyyy', 'yyyy/MM/dd', 'dd.MM.yyyy', 'shortDate'];\r\n        vm.datepickerFormat = vm.datepickerFormats[3];\r\n        vm.datepickerOpen = datepickerOpen;\r\n        vm.datepickerOpened = false;\r\n        vm.datepickerDateOptions = { formatYear: 'yy', startingDay: 1 };\r\n        vm.clear = datepickerClear;\r\n        //vm.marker = {};\r\n        vm.slideInterval = 5000;\r\n        var slides = vm.slides = [];\r\n        vm.locations = [];\r\n        vm.cities = [];\r\n        vm.deleteImage = deleteImage;\r\n\r\n        // Scope variables have to be accessible for the watch statements.\r\n        $scope.coordsUpdates = 0;\r\n        $scope.dynamicMoveCtr = 0;\r\n        $scope.marker = {};\r\n        $scope.marker.coords = {};\r\n        $scope.marker.options = {};\r\n        $scope.marker.coords.latitude = '';\r\n        $scope.marker.coords.longitude = '';\r\n\r\n        activate();\n\n        function activate() {\r\n            setView($routeParams.findingId);\r\n            playJumbotronVideo();\r\n            getCategories();\r\n            datepickerToggleMin();\r\n            datepickerToggleMax();\r\n            initiateDroplet();\r\n            getLocations();\r\n\r\n            return vm;\r\n        }\r\n\r\n        function setView(findingId) {\r\n            return getFinding(findingId).then(function () {\r\n                getCities().then(function () {\r\n                    vm.finding.location.city = vm.cities[vm.cities.getIndexBy(\"name\", vm.finding.location.city.name)];\r\n                });\r\n            });\r\n        }\r\n\r\n        function getCities() {\r\n            return dataService.getCities().then(function (data) {\r\n                vm.cities = data;\r\n\r\n                return vm.cities;\r\n            });\r\n        }\r\n\r\n        function getLocations() {\r\n            return dataService.getLocations().then(function (data) {\r\n                vm.locations = data;\r\n\r\n                return vm.locations;\r\n            });\r\n        }\r\n\r\n        function getFinding(findingId) {\r\n            return dataService.getFinding(findingId).then(function (data) {\r\n                vm.finding = data;\r\n\r\n                vm.map = { center: { latitude: vm.finding.location.latitude, longitude: vm.finding.location.longitude }, zoom: 12 };\r\n\r\n                setMapMarker(vm.finding.location.latitude, vm.finding.location.longitude);\r\n\r\n                addSlide(vm.finding.images);\r\n\r\n                getThing(vm.finding.thingId);\r\n\r\n                return vm.finding;\r\n            });\r\n        }\r\n\r\n        function getThing(thingId) {\r\n            dataService.getThing(thingId).then(function (data) {\r\n                vm.thing = data;\r\n            });\r\n        }\r\n\r\n        function addSlide(images) {\r\n            if (images.length == 0) {\r\n                return;\r\n            }\r\n            else {\r\n                angular.forEach(images, function (image, key) {\r\n                    this.push({ image: \"data:image/jpeg;base64,\" + image.imageBinary });\r\n                }, slides);\r\n            }\r\n        };\r\n\r\n        function deleteImage(imageId) {\r\n            return dataService.deleteImage(imageId).then(function (data) {\r\n                $log.log(\"Image deletion successful\");\r\n\r\n                setView();\r\n            });\r\n        }\r\n\r\n        function initiateDroplet() {\r\n            $scope.$on('$dropletReady', function whenDropletReady() {\r\n                vm.interface.allowedExtensions(['png', 'jpg', 'bmp', 'gif']);\r\n\r\n                uploadFiles();\r\n            });\r\n        }\r\n\r\n        function uploadFiles() {\r\n            return dataService.getServerUrl().then(function (resource) {\r\n                var serverUrl = resource;\r\n\r\n                vm.interface.setRequestUrl(serverUrl.resourceServerUrl + 'api/thingsApi' + '/files');\r\n            });\r\n        }\r\n\r\n        function playJumbotronVideo() {\r\n            $(document).ready(function () {\r\n                $(\".player\").mb_YTPlayer();\r\n            });\r\n        }\r\n\r\n        function getCategories() {\r\n            return dataService.getCategories().then(function (data) {\r\n                vm.categories = data;\r\n                return vm.categories;\r\n            });\r\n        }\r\n\r\n        function addOrUpdate() {\r\n            vm.finding.userName = authService.authentication.userName;\r\n\r\n            vm.finding.date = new Date();\r\n\r\n            dataService.addOrUpdateFinding(vm.finding)\r\n                .then(function (data) {\r\n                    vm.interface.setPostData({ id: data.findingId, userName: authService.authentication.userName });\r\n\r\n                    vm.interface.uploadFiles();\r\n\r\n                    $scope.$apply();\r\n\r\n                    history.back();\r\n                })\r\n                .catch(handleFailure);\r\n        }\r\n\r\n        function handleFailure(error) {\r\n            $log.error('Failure notice.' + error.data.message + \": \" + error.data.messageDetail);\r\n        }\r\n\r\n        // Begin region map.\r\n\r\n        function setMapMarker(latitude, longitude) {\r\n            $scope.marker = {\r\n                id: 0,\r\n                coords: {\r\n                    latitude: latitude,\r\n                    longitude: longitude\r\n                },\r\n                options: { draggable: true },\r\n                events: {\r\n                    dragend: function (marker, eventName, args) {\r\n                        $log.log('marker dragend');\r\n                        var lat = marker.getPosition().lat();\r\n                        var lon = marker.getPosition().lng();\r\n                        $log.log(lat);\r\n                        $log.log(lon);\r\n\r\n                        $http.get('https://maps.googleapis.com/maps/api/geocode/json?latlng=' + lat + ',' + lon + '&sensor=false&key=AIzaSyBPUGy5syJHUaDeR_E_FTwgOO4Th8vm63Y')\r\n                        .success(function (response) {\r\n                            if (response.status === \"ZERO_RESULTS\") {\r\n                                vm.finding.location.latitude = lat;\r\n                                vm.finding.location.longitude = lon;\r\n                            }\r\n                            else {\r\n                                vm.finding.location.formattedAddress = response.results[0].formatted_address;\r\n                                vm.finding.location.latitude = lat;\r\n                                vm.finding.location.longitude = lon;\r\n                            }\r\n                        });\r\n\r\n                        $scope.marker.options = {\r\n                            draggable: true,\r\n                            labelContent: \"lat: \" + $scope.marker.coords.latitude + ' ' + 'lon: ' + $scope.marker.coords.longitude,\r\n                            labelAnchor: \"100 0\",\r\n                            labelClass: \"marker-labels\"\r\n                        };\r\n                    }\r\n                }\r\n            };\r\n        }\r\n\r\n        $scope.finding = vm.finding;\r\n        $scope.finding.location = vm.finding.location;\r\n        $scope.finding.location.city = vm.finding.location.city;\r\n        $scope.finding.location.city.latitude = vm.finding.location.city.latitude;\r\n        $scope.finding.location.latitude = vm.finding.location.latitude;\r\n\r\n        $scope.$watch('finding.location.city', function (current, original) {\r\n            if (_.isEqual(current, original) || !current) {\r\n                vm.finding.location = {};\r\n                vm.finding.location.locationName = vm.finding.location.locationName || '';\r\n                vm.finding.location.city = original;\r\n                return;\r\n            }\r\n\r\n            // Set the drop down to the city of the location from the selected\r\n            // city from the typeahead textarea.\r\n            //vm.finding.location.city = vm.cities[vm.cities.getIndexBy(\"name\", current.city.name)];\r\n\r\n            $scope.marker.coords.latitude = current.latitude;\r\n            $scope.marker.coords.longitude = current.longitude;\r\n\r\n            vm.map.center.latitude = current.latitude;\r\n            vm.map.center.longitude = current.longitude;\r\n\r\n            vm.finding.location.latitude = current.latitude;\r\n            vm.finding.location.longitude = current.longitude;\r\n\r\n            vm.map.zoom = 12;\r\n        });\r\n\r\n        $scope.$watch('finding.location.locationName', function (current, original) {\r\n            if (_.isEqual(current, original) || !current.latitude) {\r\n                return;\r\n            }\r\n\r\n            if (!vm.locations.getIndexBy(\"locationName\", current.locationName)) {\r\n                return;\r\n            }\r\n\r\n            vm.finding.location = vm.locations[vm.locations.getIndexBy(\"locationName\", current.locationName)];\r\n\r\n            // Set the drop down to the city of the location from the selected\r\n            // city from the typeahead textarea.\r\n            vm.finding.location.city = vm.cities[vm.cities.getIndexBy(\"name\", vm.finding.location.city.name)];\r\n\r\n            $scope.marker.coords.latitude = vm.finding.location.latitude;\r\n            $scope.marker.coords.longitude = vm.finding.location.longitude;\r\n\r\n            vm.map.center.latitude = vm.finding.location.latitude;\r\n            vm.map.center.longitude = vm.finding.location.longitude;\r\n            vm.map.zoom = 12;\r\n        });\r\n\r\n        Array.prototype.getIndexBy = function (name, value) {\r\n            for (var i = 0; i < this.length; i++) {\r\n                if (this[i][name] == value) {\r\n                    return i;\r\n                }\r\n            }\r\n        }\r\n\r\n        $scope.$watchCollection(\"marker.coords\", function (newVal, oldVal) {\r\n            if (_.isEqual(newVal, oldVal))\r\n                return;\r\n            $scope.coordsUpdates++;\r\n        });\r\n\r\n        $timeout(function () {\r\n            //$scope.marker.coords = {\r\n            //    latitude: 42.1451,\r\n            //    longitude: -100.6680\r\n            //};\r\n            $scope.dynamicMoveCtr++;\r\n            $timeout(function () {\r\n                //$scope.marker.coords = {\r\n                //    latitude: 43.1451,\r\n                //    longitude: -102.6680\r\n                //};\r\n                $scope.dynamicMoveCtr++;\r\n            }, 2000);\r\n        }, 1000);\r\n\r\n        // End region map.\r\n\r\n        // Begin region datepicker.\r\n\r\n        function datepickerClear() {\r\n            vm.thing.findings[0].date = null;\r\n        };\r\n\r\n        function datepickerToggleMin() {\r\n            vm.datepickerMinDate = vm.datepickerMinDate ? null : new Date(1900, 1, 1);\r\n        };\r\n\r\n        function datepickerToggleMax() {\r\n            vm.datepickerMaxDate = vm.datepickerMaxDate ? null : new Date();\r\n        };\r\n\r\n        function datepickerOpen($event) {\r\n            $event.preventDefault();\r\n            $event.stopPropagation();\r\n\r\n            vm.datepickerOpened = true;\r\n        };\r\n\r\n        // End region datepicker.\r\n    }\r\n\r\n})();","(function () {\r\n    'use strict';\n\n    app.controller('foundThingAndLocationController', foundThingAndLocationController);\r\n\r\n    foundThingAndLocationController.$inject = ['$scope', '$log', '$timeout', '$http', '$location', '$routeParams', 'authService', 'dataService'];\r\n\r\n    function foundThingAndLocationController($scope, $log, $timeout, $http, $location, $routeParams, authService, dataService) {\r\n\n        var vm = this;\r\n        \r\n        vm.thing = {};\r\n        vm.thing.description = null;\r\n        vm.defaultCoordinates = { latitude: 24.45875166303192, longitude: 54.36872893652344 };\r\n        vm.map = { center: vm.defaultCoordinates, zoom: 12 };\r\n        vm.options = { scrollwheel: false };\r\n        vm.addOrUpdate = addOrUpdate;\r\n        vm.categories = {};\r\n        vm.thing.categoryId = null;\r\n        vm.datepickerFormats = ['dd-MMMM-yyyy', 'yyyy/MM/dd', 'dd.MM.yyyy', 'shortDate'];\r\n        vm.datepickerFormat = vm.datepickerFormats[3];\r\n        vm.datepickerOpen = datepickerOpen;\r\n        vm.datepickerOpened = false;\r\n        vm.datepickerDateOptions = { formatYear: 'yy', startingDay: 1 };\r\n        vm.clear = datepickerClear;\r\n        vm.locations = [];\r\n        vm.thing.finding = { location: { locationName: '', city: { cityId: null } }, date: null, price: null, upcCode: null };\r\n        vm.cities = [];\r\n\r\n        // Scope variables have to be accessible for the watch statements.\r\n        $scope.coordsUpdates = 0;\r\n        $scope.dynamicMoveCtr = 0;\r\n        $scope.marker = {};\r\n        $scope.marker.coords = {};\r\n        $scope.marker.options = {};\r\n        $scope.marker.coords.latitude = '';\r\n        $scope.marker.coords.longitude = '';\r\n\r\n        activate();\n\n        function activate() {\r\n            playJumbotronVideo();\r\n            setMapMarker();\r\n            getCategories();\r\n            datepickerToggleMin();\r\n            datepickerToggleMax();\r\n            initiateDroplet();\r\n            getThing();\r\n            getLocations();\r\n            getCities();\r\n\r\n            return vm;\r\n        }\r\n\r\n        function getCities() {\r\n            dataService.getCities().then(function (data) {\r\n                vm.cities = data;\r\n\r\n                return vm.cities;\r\n            });\r\n        }\r\n\r\n        function getLocations() {\r\n            dataService.getLocations().then(function (data) {\r\n                vm.locations = data;\r\n            });\r\n        }\r\n\r\n        function getThing() {\r\n            if ($routeParams.thingId) {\r\n                dataService.getThing($routeParams.thingId).then(function (data) {\r\n                    vm.thing = data;\r\n                });\r\n            }\r\n        }\r\n\r\n        function initiateDroplet() {\r\n            $scope.$on('$dropletReady', function whenDropletReady() {\r\n                vm.interface.allowedExtensions(['png', 'jpg', 'bmp', 'gif']);\r\n\r\n                uploadFiles();\r\n            });\r\n        }\r\n\r\n        function uploadFiles() {\r\n            return dataService.getServerUrl().then(function (resource) {\r\n                var serverUrl = resource;\r\n\r\n                vm.interface.setRequestUrl(serverUrl.resourceServerUrl + 'api/thingsApi' + '/files');\r\n            });\r\n        }\r\n\r\n        function playJumbotronVideo() {\r\n            $(document).ready(function () {\r\n                $(\".player\").mb_YTPlayer();\r\n            });\r\n        }\r\n\r\n        function getCategories() {\r\n            return dataService.getCategories().then(function (data) {\r\n                vm.categories = data;\r\n                return vm.categories;\r\n            });\r\n        }\r\n\r\n        function addOrUpdate() {\r\n            // If this thing already has a username do not save over it.\r\n            vm.thing.userName = vm.thing.userName ? vm.thing.userName : authService.authentication.userName;\r\n\r\n            vm.thing.finding.userName = authService.authentication.userName;\r\n\r\n            vm.thing.postedDate = vm.thing.postedDate ? vm.thing.postedDate : new Date();\r\n\r\n            dataService.addOrUpdateThing(vm.thing)\r\n                .then(function (data) {\r\n                    vm.interface.setPostData({ id: data.thingId, userName: authService.authentication.userName });\r\n\r\n                    vm.interface.uploadFiles();\r\n\r\n                    $scope.$apply();\r\n\r\n                    history.back();\r\n                })\r\n                .catch(handleFailure);\r\n        }\r\n\r\n        function handleFailure(error) {\r\n            $log.error('Failure notice.' + error.data.message + \": \" + error.data.messageDetail);\r\n        }\r\n\r\n        // Set the marker on the map to the default location.\r\n        function setMapMarker() {\r\n            $scope.marker = {\r\n                id: 0,\r\n                coords: {\r\n                    latitude: vm.thing.finding.location.latitude ? vm.thing.finding.location.latitude : vm.defaultCoordinates.latitude,\r\n                    longitude: vm.thing.finding.location.latitude ? vm.thing.finding.location.longitude : vm.defaultCoordinates.longitude\r\n                },\r\n                options: { draggable: true },\r\n                events: {\r\n                    dragend: function (marker, eventName, args) {\r\n                        $log.log('marker dragend');\r\n                        var lat = marker.getPosition().lat();\r\n                        var lon = marker.getPosition().lng();\r\n                        $log.log(lat);\r\n                        $log.log(lon);\r\n\r\n                        $http.get('https://maps.googleapis.com/maps/api/geocode/json?latlng=' + lat + ',' + lon + '&sensor=false&key=AIzaSyBPUGy5syJHUaDeR_E_FTwgOO4Th8vm63Y')\r\n                        .success(function (response) {\r\n                            if (response.status === \"ZERO_RESULTS\") {\r\n                                vm.thing.finding.location.latitude = lat;\r\n                                vm.thing.finding.location.longitude = lon;\r\n                            }\r\n                            else {\r\n                                vm.thing.finding.location.formattedAddress = response.results[0].formatted_address;\r\n                                vm.thing.finding.location.latitude = lat;\r\n                                vm.thing.finding.location.longitude = lon;\r\n                            }\r\n                        });\r\n\r\n                        $scope.marker.options = {\r\n                            draggable: true,\r\n                            labelContent: \"lat: \" + $scope.marker.coords.latitude + ' ' + 'lon: ' + $scope.marker.coords.longitude,\r\n                            labelAnchor: \"100 0\",\r\n                            labelClass: \"marker-labels\"\r\n                        };\r\n                    }\r\n                }\r\n            };\r\n        }\r\n\r\n        // Watch for the finding.location variable being changed. When it does\r\n        // change the map center longitude and latitude.  Also change the marker.\r\n        // We would like the center and marker to be together on the screen.\r\n        $scope.thing = vm.thing;\r\n        $scope.thing.finding = vm.thing.finding;\r\n        $scope.thing.finding.location.latitude = vm.thing.finding.location.latitude;\r\n\r\n        $scope.$watch('thing.finding.location.locationName', function (current, original) {\r\n            if (_.isEqual(current, original) || !current.latitude) {\r\n                return;\r\n            }\r\n\r\n            if (!vm.locations.getIndexBy(\"locationName\", current.locationName)) {\r\n                return;\r\n            }\r\n\r\n            vm.thing.finding.location = vm.locations[vm.locations.getIndexBy(\"locationName\", current.locationName)];\r\n\r\n            // Set the drop down to the city of the location from the selected\r\n            // city from the typeahead textarea.\r\n            vm.thing.finding.location.city = vm.cities[vm.cities.getIndexBy(\"name\", vm.thing.finding.location.city.name)];\r\n\r\n            $scope.marker.coords.latitude = vm.thing.finding.location.latitude;\r\n            $scope.marker.coords.longitude = vm.thing.finding.location.longitude;\r\n\r\n            vm.map.center.latitude = vm.thing.finding.location.latitude;\r\n            vm.map.center.longitude = vm.thing.finding.location.longitude;\r\n            vm.map.zoom = 12;\r\n        });\r\n\r\n        Array.prototype.getIndexBy = function (name, value) {\r\n            for (var i = 0; i < this.length; i++) {\r\n                if (this[i][name] == value) {\r\n                    return i;\r\n                }\r\n            }\r\n        }\r\n\r\n        $scope.thing.finding.location.city = vm.thing.finding.location.city;\r\n\r\n        $scope.$watch('thing.finding.location.city', function (current, original) {\r\n            if (_.isEqual(current, original) || !current) {\r\n                vm.thing.finding.location = {};\r\n                vm.thing.finding.location.locationName = vm.thing.finding.location.locationName || '';\r\n                vm.thing.finding.location.city = original;\r\n                return;\r\n            }\r\n\r\n            $scope.marker.coords.latitude = current.latitude;\r\n            $scope.marker.coords.longitude = current.longitude;\r\n\r\n            vm.map.center.latitude = current.latitude;\r\n            vm.map.center.longitude = current.longitude;\r\n\r\n            vm.thing.finding.location.latitude = current.latitude;\r\n            vm.thing.finding.location.longitude = current.longitude;\r\n\r\n            vm.map.zoom = 12;\r\n        });\r\n\r\n        $scope.$watchCollection(\"marker.coords\", function (newVal, oldVal) {\r\n            if (_.isEqual(newVal, oldVal))\r\n                return;\r\n            $scope.coordsUpdates++;\r\n        });\r\n\r\n        $timeout(function () {\r\n            //$scope.marker.coords = {\r\n            //    latitude: 42.1451,\r\n            //    longitude: -100.6680\r\n            //};\r\n            $scope.dynamicMoveCtr++;\r\n            $timeout(function () {\r\n                //$scope.marker.coords = {\r\n                //    latitude: 43.1451,\r\n                //    longitude: -102.6680\r\n                //};\r\n                $scope.dynamicMoveCtr++;\r\n            }, 2000);\r\n        }, 1000);\r\n\r\n        // End region map.\r\n\r\n        // Begin region datepicker.\r\n        \r\n        function datepickerClear () {\r\n            vm.thing.finding.date = null;\r\n        };\r\n\r\n        function datepickerToggleMin() {\r\n            vm.datepickerMinDate = vm.datepickerMinDate ? null : new Date(1900, 1, 1);\r\n        };\r\n\r\n        function datepickerToggleMax() {\r\n            vm.datepickerMaxDate = vm.datepickerMaxDate ? null : new Date();\r\n        };\r\n\r\n        function datepickerOpen($event) {\r\n            $event.preventDefault();\r\n            $event.stopPropagation();\r\n\r\n            vm.datepickerOpened = true;\r\n        };\r\n\r\n        // End region datepicker.\r\n    }\r\n\r\n})();","(function () {\r\n    'use strict';\r\n\r\n    app.controller('feedbackController', feedbackController);\r\n\r\n    feedbackController.$inject = ['$scope', '$log', '$routeParams', '$location', 'dataService', 'authService'];\r\n\r\n    function feedbackController($scope, $log, $routeParams, $location, dataService, authService) {\r\n        var vm = this;\r\n\r\n        vm.feedback = {};\r\n        vm.feedback.message = '';\r\n        vm.feedback.name = '';\r\n        vm.feedback.email = '';\r\n        vm.send = send;\r\n\r\n        activate();\r\n\r\n        function activate() {\r\n\r\n            return vm;\r\n        }\r\n\r\n        function send(feedback) {\r\n            dataService.sendFeedback(feedback);\r\n\r\n            history.back();\r\n        }\r\n\r\n    }\r\n\r\n})();","(function () {\r\n    'use strict';\r\n\r\n    app.controller('userProfileController', userProfileController);\r\n\r\n    userProfileController.$inject = ['$scope', '$log', '$routeParams', '$location', 'dataService'];\r\n\r\n    function userProfileController($scope, $log, $routeParams, $location, dataService) {\r\n        var vm = this;\r\n\r\n        vm.users = [];\r\n        vm.user = {};\r\n        vm.user.cityId = null;\r\n        vm.user.nationalityId = null;\r\n        vm.user.nationality = {};\r\n        vm.user.nationality.name = null;\r\n        vm.user.city = {};\r\n        vm.user.city.name = null;\r\n        vm.addOrUpdateUser = addOrUpdateUser;\r\n        vm.nationalities = [];\r\n        vm.cities = [];\r\n\r\n        activate();\r\n\r\n        function activate() {\r\n            setView();\r\n\r\n            return vm;\r\n        }\r\n\r\n        function setView() {\r\n            return getUser().then(function () {\r\n                getNationalities().then(function () {\r\n                    if (vm.user.nationalityId) {\r\n                        vm.user.nationality = vm.nationalities[vm.nationalities.getIndexBy(\"nationalityId\", vm.user.nationalityId)];\r\n                    }\r\n                });\r\n\r\n                getCities().then(function () {\r\n                    if (vm.user.cityId) {\r\n                        vm.user.city = vm.cities[vm.cities.getIndexBy(\"cityId\", vm.user.cityId)];\r\n                    }\r\n                });\r\n\r\n                return vm.user;\r\n            });\r\n        }\r\n\r\n        Array.prototype.getIndexBy = function (name, value) {\r\n            for (var i = 0; i < this.length; i++) {\r\n                if (this[i][name] == value) {\r\n                    return i;\r\n                }\r\n            }\r\n        }\r\n\r\n        function getNationalities() {\r\n            return dataService.getNationalities().then(function (data) {\r\n                vm.nationalities = data;\r\n\r\n                return vm.nationalities;\r\n            });\r\n        }\r\n\r\n        function getCities() {\r\n            return dataService.getCities().then(function (data) {\r\n                vm.cities = data;\r\n\r\n                return vm.cities;\r\n            });\r\n        }\r\n\r\n        function getUser() {\r\n            return dataService.getLoggedInUser().then(function (data) {\r\n                vm.user = data;\r\n\r\n                return vm.user;\r\n            });\r\n        }\r\n\r\n        function addOrUpdateUser(user) {\r\n            if (!user.email\r\n                || !user.city\r\n                || !user.nationality) {\r\n                return;\r\n            }\r\n\r\n            user.cityId = user.city ? user.city.cityId : null;\r\n            user.nationalityId = user.nationality ? user.nationality.nationalityId : null;\r\n\r\n            user.thingCities = null;\r\n            user.nationality = null;\r\n            user.city = null;\r\n\r\n            return dataService.addOrUpdateUser(user)\r\n                .then(function () {\r\n                    $location.path('/start');\r\n                });\r\n        }\r\n\r\n    }\r\n\r\n})();","app.directive('dynFbCommentBox', function () {\r\n    function createHTML(href, numposts, colorscheme, width) {\r\n        return '<div class=\"fb-comments\" ' +\r\n                       'data-href=\"' + href + '\" ' +\r\n                       'data-numposts=\"' + numposts + '\" ' +\r\n                       'data-colorsheme=\"' + colorscheme + '\" ' +\r\n                       'data-width=\"' + width + '\">' +\r\n               '</div>';\r\n    }\r\n\r\n\r\n    return {\r\n        restrict: 'A',\r\n        scope: {},\r\n        link: function postLink(scope, elem, attrs) {\r\n            attrs.$observe('pageHref', function (newValue) {\r\n                var href = window.location.origin + '/' + newValue;\r\n                var numposts = attrs.numposts || 5;\r\n                var colorscheme = attrs.colorscheme || 'light';\r\n                var width = attrs.width || '100%';\r\n                elem.html(createHTML(href, numposts, colorscheme, width));\r\n                // Commented the below line out because 'FB' doesnt exist.\r\n                // This line was probably meant for XFBML comment tag use.\r\n                FB.XFBML.parse(elem[0]);\r\n                //if (FB) {\r\n                //    FB.XFBML.parse();\r\n                //}\r\n            });\r\n        }\r\n    };\r\n});","angular\r\n    .module('shared.directives', [\r\n        'ngRoute',\r\n        'ngResource',\r\n        'ui.bootstrap'\r\n    ]);\r\n\r\nangular\r\n    .module('shared.directives')\r\n    .config(config);\r\n\r\nfunction config($routeProvider, $locationProvider) {\r\n}","// http://stackoverflow.com/questions/14070285/how-to-implement-history-back-in-angular-js\r\n// http://jsfiddle.net/asgoth/WaRKv/\r\nangular\r\n    .module('shared.directives')\r\n    .directive('backButton', backButton);\r\n\r\nfunction backButton() {\r\n    var directive = {\r\n        restrict: 'E',\r\n        template: \"<input type='submit' value='Back' class='{{innerClass}}' />\",   //class='btn btn-primary pull-right'\r\n        scope: {\r\n            back: '@back',\r\n            innerClass: '@innerClass'\r\n        },\r\n        link: link\r\n    };\r\n\r\n    return directive;\r\n\r\n    function link(scope, element, attrs) {\r\n        $(element[0]).on('click', function () {\r\n            history.back();\r\n            scope.$apply();\r\n        });\r\n    }\r\n}","http://stackoverflow.com/questions/17470790/how-to-use-a-keypress-event-in-angularjs\r\nangular\r\n    .module('shared.directives')\r\n    .directive('ngEnter', ngEnter);\r\n\r\nfunction ngEnter() {\r\n    return function (scope, element, attrs) {\r\n        element.bind(\"keydown keypress\", function (event) {\r\n            if (event.which === 13) {\r\n                scope.$apply(function () {\r\n                    scope.$eval(attrs.ngEnter);\r\n                });\r\n\r\n                event.preventDefault();\r\n            }\r\n        });\r\n    };\r\n}","/*!\n * ngToast v1.5.0 (http://tameraydin.github.io/ngToast)\n * Copyright 2015 Tamer Aydin (http://tamerayd.in)\n * Licensed under MIT (http://tameraydin.mit-license.org/)\n */\n!function(a,b){\"use strict\";b.module(\"ngToast.provider\",[]).provider(\"ngToast\",[function(){function a(a){for(var d=Math.floor(1e3*Math.random());c.indexOf(d)>-1;)d=Math.floor(1e3*Math.random());this.id=d,this.animation=e.animation,this.className=e.className,this.additionalClasses=e.additionalClasses,this.dismissOnTimeout=e.dismissOnTimeout,this.timeout=e.timeout,this.dismissButton=e.dismissButton,this.dismissButtonHtml=e.dismissButtonHtml,this.dismissOnClick=e.dismissOnClick,this.compileContent=e.compileContent,b.extend(this,a)}var c=[],d=[],e={animation:!1,className:\"success\",additionalClasses:null,dismissOnTimeout:!0,timeout:4e3,dismissButton:!1,dismissButtonHtml:\"&times;\",dismissOnClick:!0,compileContent:!1,horizontalPosition:\"right\",verticalPosition:\"top\",maxNumber:0};this.configure=function(a){b.extend(e,a)},this.$get=[function(){return{settings:e,messages:c,dismiss:function(a){if(a){for(var b=c.length-1;b>=0;b--)if(c[b].id===a)return c.splice(b,1),void d.splice(d.indexOf(a),1)}else{for(;c.length>0;)c.pop();d=[]}},create:function(b){e.maxNumber>0&&d.length>=e.maxNumber&&this.dismiss(d[0]),b=\"string\"==typeof b?{content:b}:b;var f=new a(b);return\"bottom\"===e.verticalPosition?c.unshift(f):c.push(f),d.push(f.id),f.id}}}]}])}(window,window.angular),function(a,b){\"use strict\";b.module(\"ngToast.directives\",[\"ngToast.provider\"]).directive(\"toast\",[\"ngToast\",\"$templateCache\",\"$log\",function(a,b,c){return{replace:!0,restrict:\"EA\",template:'<div class=\"ng-toast ng-toast--{{hPos}} ng-toast--{{vPos}} {{animation ? \\'ng-toast--animate-\\' + animation : \\'\\'}}\"><ul class=\"ng-toast__list\"><toast-message ng-repeat=\"message in messages\" message=\"message\"><span ng-bind-html=\"message.content\"></span></toast-message></ul></div>',compile:function(d,e){if(e.template){var f=b.get(e.template);f?d.replaceWith(f):c.warn(\"ngToast: Provided template could not be loaded. Please be sure that it is populated before the <toast> element is represented.\")}return function(b){b.hPos=a.settings.horizontalPosition,b.vPos=a.settings.verticalPosition,b.animation=a.settings.animation,b.messages=a.messages}}}}]).directive(\"toastMessage\",[\"$timeout\",\"$compile\",\"ngToast\",function(a,b,c){return{replace:!0,transclude:!0,restrict:\"EA\",scope:{message:\"=\"},controller:[\"$scope\",\"ngToast\",function(a,b){a.dismiss=function(){b.dismiss(a.message.id)}}],template:'<li class=\"ng-toast__message {{message.additionalClasses}}\"><div class=\"alert alert-{{message.className}}\" ng-class=\"{\\'alert-dismissible\\': message.dismissButton}\"><button type=\"button\" class=\"close\" ng-if=\"message.dismissButton\" ng-bind-html=\"message.dismissButtonHtml\" ng-click=\"!message.dismissOnClick && dismiss()\"></button><span ng-if=\"!message.compileContent\" ng-transclude></span></div></li>',link:function(d,e,f,g,h){if(d.message.compileContent){var i;h(d,function(a){i=a,e.children().append(i)}),a(function(){b(i.contents())(d.$parent,function(a){i.replaceWith(a)})},0)}d.message.dismissOnTimeout&&a(function(){c.dismiss(d.message.id)},d.message.timeout),d.message.dismissOnClick&&e.bind(\"click\",function(){c.dismiss(d.message.id),d.$apply()})}}}])}(window,window.angular),function(a,b){\"use strict\";b.module(\"ngToast\",[\"ngSanitize\",\"ngToast.directives\",\"ngToast.provider\"])}(window,window.angular);"],"sourceRoot":"/source/"}