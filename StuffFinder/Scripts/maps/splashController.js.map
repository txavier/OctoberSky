{"version":3,"names":[],"mappings":"","sources":["splashController.js"],"sourcesContent":["(function () {\r\n    'use strict';\r\n\r\n    app.controller('splashController', splashController);\r\n\r\n    splashController.$inject = ['$scope', '$location', '$log', '$window', 'dataService', 'splashService'];\r\n\r\n    function splashController($scope, $location, $log, $window, dataService, splashService) {\r\n        var vm = this;\r\n\r\n        vm.slideInterval = 5000;\r\n        var slides = vm.slides = [];\r\n        var things = [];\r\n        vm.mostMe2Things = [];\r\n        vm.cities = [];\r\n        vm.city = {};\r\n        vm.searchText = '';\r\n        vm.navigateSearch = navigateSearch;\r\n        vm.setShowSplash = setShowSplash;\r\n        vm.getShowSplash = getShowSplash;\r\n\r\n        activate();\r\n\r\n        function activate() {\r\n            setView();\r\n            getCities();\r\n        }\r\n\r\n        function getCities() {\r\n            vm.cities.push({ name: 'All Cities' });\r\n\r\n            dataService.getCities().then(function (data) {\r\n                vm.cities = vm.cities.concat(data);\r\n\r\n                vm.city = vm.cities[4];\r\n            });\r\n\r\n            return vm.cities;\r\n        }\r\n\r\n        function setView() {\r\n            dataService.getMostMe2Things(12).then(function (data) {\r\n                vm.mostMe2Things = data;\r\n            });\r\n        }\r\n\r\n        function navigateSearch() {\r\n            $log.log('In navigateSearch');\r\n\r\n            $window.location.href = '/#/search/' + (vm.city.name || 'all' | escape) + '/' + (vm.searchText || '' | escape);\r\n        }\r\n\r\n        function setShowSplash(showSplash) {\r\n            splashService.setShowSplash(showSplash);\r\n\r\n            //$location.path('/home');\r\n        }\r\n\r\n        function getShowSplash() {\r\n            return splashService.getShowSplash();\r\n        }\r\n    }\r\n})();"],"file":"splashController.js","sourceRoot":"/source/"}